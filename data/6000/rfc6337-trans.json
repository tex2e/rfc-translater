{
  "title": {
    "text": "RFC 6337 - Session Initiation Protocol (SIP) Usage of the Offer/Answer Model",
    "ja": "RFC 6337 - セッション開始プロトコル（SIP）オファー/回答モデルの使用"
  },
  "number": 6337,
  "created_at": "2022-12-07 21:17:38.812716+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                        S. Okumura\nRequest for Comments: 6337                                     Softfront\nCategory: Informational                                        T. Sawada\nISSN: 2070-1721                                         KDDI Corporation\n                                                              P. Kyzivat\n                                                             August 2011",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Session Initiation Protocol (SIP) Usage of the Offer/Answer Model",
      "ja": "セッション開始プロトコル（SIP）オファー/回答モデルの使用"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "ja": "概要"
    },
    {
      "indent": 3,
      "text": "The Session Initiation Protocol (SIP) utilizes the offer/answer model to establish and update multimedia sessions using the Session Description Protocol (SDP). The description of the offer/answer model in SIP is dispersed across multiple RFCs. This document summarizes all the current usages of the offer/answer model in SIP communication.",
      "ja": "セッション開始プロトコル（SIP）は、オファー/回答モデルを利用して、セッション説明プロトコル（SDP）を使用してマルチメディアセッションを確立および更新します。SIPのオファー/回答モデルの説明は、複数のRFCに分散されます。このドキュメントは、SIP通信におけるオファー/回答モデルの現在のすべての使用を要約しています。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "ja": "本文書の位置付け"
    },
    {
      "indent": 3,
      "text": "This document is not an Internet Standards Track specification; it is published for informational purposes.",
      "ja": "このドキュメントは、インターネット標準の追跡仕様ではありません。情報目的で公開されています。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Not all documents approved by the IESG are a candidate for any level of Internet Standard; see Section 2 of RFC 5741.",
      "ja": "このドキュメントは、インターネットエンジニアリングタスクフォース（IETF）の製品です。IETFコミュニティのコンセンサスを表しています。公開レビューを受けており、インターネットエンジニアリングステアリンググループ（IESG）からの出版が承認されています。IESGによって承認されたすべてのドキュメントが、あらゆるレベルのインターネット標準の候補者ではありません。RFC 5741のセクション2を参照してください。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc6337.",
      "ja": "このドキュメントの現在のステータス、任意のERRATA、およびそのフィードバックを提供する方法に関する情報は、http：//www.rfc-editor.org/info/rfc6337で取得できます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2011 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "Copyright（c）2011 IETF Trustおよび文書著者として特定された人。全著作権所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must",
      "ja": "このドキュメントは、BCP 78およびIETFドキュメント（http://trustee.ietf.org/license-info）に関連するIETF Trustの法的規定の対象となります。この文書に関するあなたの権利と制限を説明するので、これらの文書を注意深く確認してください。このドキュメントから抽出されたコードコンポーネントは必須です"
    },
    {
      "indent": 3,
      "text": "include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "ja": "セクション4.Eで説明されている法的規定のセクション4.Eで説明されており、簡素化されたBSDライセンスに記載されている保証なしで提供される簡略化されたBSDライセンステキストを含めます。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1. Introduction ....................................................3\n2. Summary of SIP Usage of the Offer/Answer Model ..................3\n   2.1. Terminology ................................................3\n   2.2. Offer/Answer Exchange Pairs in SIP Messages ................4\n   2.3. Rejection of an Offer ......................................5\n   2.4. Session Description That Is Not an Offer or an Answer ......7\n3. Detailed Discussion of the Offer/Answer Model for SIP ...........8\n   3.1. Offer/Answer for the INVITE method with 100rel Extension ...8\n        3.1.1. INVITE Request with SDP .............................8\n        3.1.2. INVITE Request without SDP .........................11\n   3.2. Offer/Answer Exchange in Early Dialog .....................12\n   3.3. Offer/Answer Exchange in an Established Dialog ............12\n   3.4. Recovering from a Failed Re-INVITE ........................13\n4. Exceptional Case Handling ......................................13\n   4.1. Message Crossing Case Handling ............................13\n   4.2. Glare Case Handling .......................................18\n   4.3. Interworking of UPDATE and Re-INVITE ......................21\n5. Content of Offers and Answers ..................................25\n   5.1. General Principle for Constructing Offers and Answers .....26\n   5.2. Choice of Media Types and Formats to Include and Exclude ..26\n        5.2.1. Sending an Initial INVITE with Offer ...............26\n        5.2.2. Responding with an Offer When the Initial\n               INVITE Has No Offer ................................27\n        5.2.3. Answering an Initial INVITE with Offer .............27\n        5.2.4. Answering When the Initial INVITE Had No Offer .....28\n        5.2.5. Subsequent Offers and Answers ......................28\n   5.3. Hold and Resume of Media ..................................29\n   5.4. Behavior on Receiving SDP with c=0.0.0.0 ..................31\n6. Security Considerations ........................................31\n7. Acknowledgements ...............................................31\n8. References .....................................................32\n   8.1. Normative References ......................................32\n   8.2. Informative References ....................................33",
      "raw": true,
      "toc": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1. はじめに"
    },
    {
      "indent": 3,
      "text": "SIP utilizes the offer/answer model to establish and update sessions. The rules that govern the offer/answer behaviors in SIP are described in several RFCs: [RFC3261], [RFC3262], [RFC3264], [RFC3311], and [RFC6141].",
      "ja": "SIPは、オファー/回答モデルを利用して、セッションを確立および更新します。SIPのオファー/回答行動を支配するルールは、いくつかのRFCで説明されています：[RFC3261]、[RFC3262]、[RFC3264]、[RFC3311]、および[RFC6141]。"
    },
    {
      "indent": 3,
      "text": "The primary purpose of this document is to describe all forms of SIP usage of the offer/answer model in one document to help the readers to fully understand it. Also, this document tries to incorporate the results of the discussions on the controversial issues to avoid repeating the same discussions later.",
      "ja": "このドキュメントの主な目的は、読者がそれを完全に理解できるように、1つのドキュメントでオファー/回答モデルのあらゆる形式のSIP使用法を説明することです。また、この文書は、議論の余地のある問題に関する議論の結果を組み込もうとして、後で同じ議論を繰り返すことを避けようとします。"
    },
    {
      "indent": 3,
      "text": "This document describes ambiguities in the current specifications and the authors' understanding of the correct interpretation of these specifications. This document is not intended to make any changes to those specifications, but rather is intended to provide a reference for future standards development work on the SIP offer/answer model and to developers looking for advice on how to implement in compliance with the standards.",
      "ja": "このドキュメントは、現在の仕様のあいまいさと、これらの仕様の正しい解釈に関する著者の理解について説明しています。このドキュメントは、これらの仕様に変更を加えることを目的としているのではなく、SIPオファー/回答モデルの将来の標準開発作業と、標準に準拠して実装する方法に関するアドバイスを探している開発者にリファレンスを提供することを目的としています。"
    },
    {
      "indent": 0,
      "text": "2. Summary of SIP Usage of the Offer/Answer Model",
      "section_title": true,
      "ja": "2. オファー/回答モデルのSIP使用の概要"
    },
    {
      "indent": 3,
      "text": "The offer/answer model itself is independent from the higher layer application protocols that utilize it. SIP is one of the applications using the offer/answer model. [RFC3264] defines the offer/answer model, but does not specify which SIP messages should convey an offer or an answer. This should be defined in the SIP core and extension RFCs.",
      "ja": "オファー/アンサーモデル自体は、それを利用する高層アプリケーションプロトコルから独立しています。SIPは、オファー/回答モデルを使用したアプリケーションの1つです。[RFC3264]はオファー/回答モデルを定義しますが、どのSIPメッセージがオファーまたは回答を伝えるべきかを指定していません。これは、SIPコアおよび拡張RFCで定義する必要があります。"
    },
    {
      "indent": 3,
      "text": "In theory, any SIP message can include a session description in its body. But a session description in a SIP message is not necessarily an offer or an answer. Only certain session description usages that conform to the rules described in Standards-Track RFCs can be interpreted as an offer or an answer. The rules for how to handle the offer/answer model are defined in several RFCs.",
      "ja": "理論的には、SIPメッセージにはボディにセッションの説明を含めることができます。しかし、SIPメッセージのセッションの説明は、必ずしもオファーや答えではありません。標準トラックRFCに記載されているルールに準拠する特定のセッションの説明のみは、オファーまたは回答として解釈できます。オファー/回答モデルを処理する方法のルールは、いくつかのRFCで定義されています。"
    },
    {
      "indent": 3,
      "text": "The offer/answer model defines a mechanism for update of sessions. In SIP, a dialog is used to associate an offer/answer exchange with the session that it is to update. In other words, only the offer/ answer exchange in the SIP dialog can update the session that is managed by that dialog.",
      "ja": "オファー/回答モデルは、セッションの更新のメカニズムを定義します。SIPでは、ダイアログを使用して、更新するオファー/回答の交換をセッションに関連付けるために使用されます。言い換えれば、SIPダイアログのオファー/回答交換のみが、そのダイアログによって管理されるセッションを更新できます。"
    },
    {
      "indent": 0,
      "text": "2.1. Terminology",
      "section_title": true,
      "ja": "2.1. 用語"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in [RFC2119].",
      "ja": "「必須」、「そうしない」、「必須」、「必要」、「しない」、「そうしない」、「そうではない」、「そうでない」、「推奨」、「5月」、および「オプション」は、[RFC2119]に記載されているように解釈される。"
    },
    {
      "indent": 3,
      "text": "The following abbreviations are used in this document.",
      "ja": "このドキュメントでは、次の略語が使用されています。"
    },
    {
      "indent": 3,
      "text": "UA: User Agent.",
      "ja": "UA：ユーザーエージェント。"
    },
    {
      "indent": 3,
      "text": "UAC: User Agent Client.",
      "ja": "UAC：ユーザーエージェントクライアント。"
    },
    {
      "indent": 3,
      "text": "UAS: User Agent Server.",
      "ja": "UAS：ユーザーエージェントサーバー。"
    },
    {
      "indent": 3,
      "text": "SDP: Session Description Protocol [RFC4566].",
      "ja": "SDP：セッション説明プロトコル[RFC4566]。"
    },
    {
      "indent": 0,
      "text": "2.2. Offer/Answer Exchange Pairs in SIP Messages",
      "section_title": true,
      "ja": "2.2. SIPメッセージで交換ペアを提供/回答します"
    },
    {
      "indent": 3,
      "text": "Currently, the rules on the offer/answer model are defined in [RFC3261], [RFC3262], [RFC3264], [RFC3311], and [RFC6141]. In these RFCs, only the six patterns shown in Table 1 are defined for exchanging an offer and an answer with SIP messages.",
      "ja": "現在、オファー/回答モデルのルールは、[RFC3261]、[RFC3262]、[RFC3264]、[RFC3311]、および[RFC6141]で定義されています。これらのRFCでは、表1に示す6つのパターンのみが、SIPメッセージでオファーと回答を交換するために定義されています。"
    },
    {
      "indent": 3,
      "text": "Note that an offer/answer exchange initiated by an INVITE request must follow exactly one of the Patterns 1, 2, 3, 4. When an initial INVITE causes multiple dialogs due to forking, an offer/answer exchange is carried out independently in each distinct dialog. When an INVITE request contains no offer, only Pattern 2 or Pattern 4 apply. According to Section 13.2.1 of [RFC3261], 'The first reliable non-failure message' must have an offer if there is no offer in the INVITE request. This means that the User Agent (UA) that receives the INVITE request without an offer must include an offer in the first reliable response with 100rel extension. If no reliable provisional response has been sent, the User Agent Server (UAS) must include an offer when sending 2xx response.",
      "ja": "招待リクエストによって開始されたオファー/回答交換は、パターン1、2、3、4の1つに正確に従う必要があることに注意してください。ダイアログ。招待リクエストにオファーが含まれていない場合、パターン2またはパターン4のみが適用されます。[RFC3261]のセクション13.2.1によると、「最初の信頼性のない非発信メッセージ」には、招待リクエストに申し出がない場合は、オファーが必要です。これは、オファーなしで招待リクエストを受け取るユーザーエージェント（UA）に、100REL拡張機能を備えた最初の信頼できる応答にオファーを含める必要があることを意味します。信頼できる暫定的な応答が送信されていない場合、ユーザーエージェントサーバー（UAS）には、2xx応答を送信する際にオファーを含める必要があります。"
    },
    {
      "indent": 3,
      "text": "In Pattern 3, the first reliable provisional response may or may not have an answer. When a reliable provisional response contains a session description, and is the first to do so, then that session description is the answer to the offer in the INVITE request. The answer cannot be updated, and a new offer cannot be sent in a subsequent reliable response for the same INVITE transaction.",
      "ja": "パターン3では、最初の信頼できる暫定的な対応には答えがある場合とそうでない場合があります。信頼できる暫定的な応答にセッションの説明が含まれ、最初にそうする場合、そのセッションの説明は招待リクエストのオファーに対する答えです。答えを更新することはできず、同じ招待取引のためにその後の信頼できる応答で新しいオファーを送信することはできません。"
    },
    {
      "indent": 3,
      "text": "In Pattern 5, a Provisional Response ACKnowledgement (PRACK) request can contain an offer only if the reliable response that it acknowledges contains an answer to the previous offer/answer exchange.",
      "ja": "パターン5では、暫定的な対応承認（PRACK）要求には、それが認めている信頼できる応答が以前のオファー/回答交換に対する回答が含まれている場合にのみ、オファーを含めることができます。"
    },
    {
      "indent": 6,
      "text": "NOTE: It is legal to have UPDATE/2xx exchanges without offer/ answer exchanges (Pattern 6). However, when re-INVITEs are sent for non-offer/answer purposes, an offer/answer exchange is required. In that case, the prior SDP will typically be repeated.",
      "ja": "注：オファー/回答の交換なしで更新/ 2xxの交換を行うことは合法です（パターン6）。ただし、非視聴者が非オファー/回答の目的で送信される場合、オファー/回答の交換が必要です。その場合、以前のSDPは通常繰り返されます。"
    },
    {
      "indent": 3,
      "text": "There may be ONLY ONE offer/answer negotiation in progress for a single dialog at any point in time. Section 4 explains how to ensure this. When an INVITE results in multiple dialogs, each has a separate offer/answer negotiation.",
      "ja": "任意の時点で、単一のダイアログで進行中のオファー/回答交渉は1つだけある場合があります。セクション4では、これを確保する方法について説明します。招待状が複数のダイアログをもたらすと、それぞれに別のオファー/回答交渉があります。"
    },
    {
      "indent": 6,
      "text": "NOTE: This is when using a Content-Disposition of \"session\". There may be a second offer/answer negotiation in progress using a Content-Disposition of \"early-session\" [RFC3959]. That is not addressed by this document.",
      "ja": "注：これは、「セッション」のコンテンツディスポジションを使用する場合です。「早期セッション」のコンテンツ偏差[RFC3959]を使用して、2回目のオファー/回答交渉が進行中である可能性があります。これはこのドキュメントでは扱われていません。"
    },
    {
      "indent": 5,
      "text": "       Offer                Answer             RFC    Ini Est Early\n-------------------------------------------------------------------\n1. INVITE Req.          2xx INVITE Resp.     RFC 3261  Y   Y    N\n2. 2xx INVITE Resp.     ACK Req.             RFC 3261  Y   Y    N\n3. INVITE Req.          1xx-rel INVITE Resp. RFC 3262  Y   Y    N\n4. 1xx-rel INVITE Resp. PRACK Req.           RFC 3262  Y   Y    N\n5. PRACK Req.           200 PRACK Resp.      RFC 3262  N   Y    Y\n6. UPDATE Req.          2xx UPDATE Resp.     RFC 3311  N   Y    Y",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 10,
      "text": "Table 1: Summary of SIP Usage of the Offer/Answer Model",
      "ja": "表1：オファー/回答モデルのSIP使用の概要"
    },
    {
      "indent": 3,
      "text": "In Table 1, '1xx-rel' corresponds to the reliable provisional response that contains the 100rel option defined in [RFC3262].",
      "ja": "表1では、「1xx-rel」は、[RFC3262]で定義されている100RELオプションを含む信頼できる暫定的な応答に対応しています。"
    },
    {
      "indent": 3,
      "text": "The 'Ini' column shows the ability to exchange the offer/answer to initiate the session. 'Y' indicates that the pattern can be used in the initial offer/answer exchange, while 'N' indicates that it cannot. Only the initial INVITE transaction can be used to exchange the offer/answer to establish a multimedia session.",
      "ja": "「INI」列は、オファー/回答を交換してセッションを開始する機能を示しています。「Y」は、パターンが最初のオファー/回答交換で使用できることを示し、「n」はできないことを示します。最初のInviteトランザクションのみを使用して、オファー/回答を交換してマルチメディアセッションを確立できます。"
    },
    {
      "indent": 3,
      "text": "The 'Est' column shows the ability to update the established session.",
      "ja": "「EST」列は、確立されたセッションを更新する機能を示しています。"
    },
    {
      "indent": 3,
      "text": "The 'Early' column indicates which patterns may be used to modify the established session in an early dialog. There are two ways to exchange a subsequent offer/answer in an early dialog.",
      "ja": "「初期」列は、初期のダイアログで確立されたセッションを変更するために使用できるパターンを示します。初期のダイアログで、その後のオファー/回答を交換するには2つの方法があります。"
    },
    {
      "indent": 0,
      "text": "2.3. Rejection of an Offer",
      "section_title": true,
      "ja": "2.3. 申し出の拒否"
    },
    {
      "indent": 3,
      "text": "It is not always clear how to reject an offer when it is unacceptable, and some methods do not allow explicit rejection of an offer. For each of the patterns in Table 1, Table 2 shows how to reject an offer.",
      "ja": "オファーが受け入れられない場合にオファーを拒否する方法が必ずしも明確ではなく、一部の方法ではオファーの明示的な拒否を許可していません。表1の各パターンについて、表2にオファーを拒否する方法を示します。"
    },
    {
      "indent": 3,
      "text": "When a UA receives an INVITE request with an unacceptable offer, it should respond with a 488 response, preferably with Warning header field indicating the reason of the rejection, unless another response code is more appropriate to reject it (Pattern 1 and Pattern 3).",
      "ja": "UAが容認できないオファーで招待リクエストを受け取る場合、別の応答コードが拒否するのがより適切でない限り、拒否の理由を示す警告ヘッダーフィールド（パターン1およびパターン3）で、488回の応答で応答する必要があります。"
    },
    {
      "indent": 3,
      "text": "If this is a re-INVITE, extra care must be taken, as detailed in [RFC6141]. Specifically, if the offer contains any changes or additions to media stream properties, and those have already been used to transmit/receive media before the final response is sent, then a 2xx response should be sent, with a syntactically correct session description. This may optionally be followed by an UPDATE request to rearrange the session parameters if both ends support the UPDATE method. Alternatively, the UA may send an error response to the (re-)INVITE request to terminate the dialog or to roll back the offer/answer status before sending re-INVITE request. In this case, the UAS should not continue to retransmit the unacknowledged reliable provisional response; the User Agent Client (UAC) should not continue to retransmit a PRACK request.",
      "ja": "これが再入力である場合、[RFC6141]で詳述されているように、余分な注意を払う必要があります。具体的には、オファーにメディアストリームプロパティの変更または追加が含まれており、最終応答が送信される前にメディアを送信/受信するためにすでに使用されている場合、構文的に正しいセッションの説明を使用して、2xx応答を送信する必要があります。これにより、オプションで、両端が更新方法をサポートしている場合、セッションパラメーターを再配置する更新リクエストが続く場合があります。あるいは、UAは、（再）ダイアログを終了するように（Re）招待リクエストにエラー応答を送信するか、再入札リクエストを送信する前にオファー/回答ステータスをロールバックする場合があります。この場合、UASは未承認の信頼できる暫定的な対応を再送信し続けるべきではありません。ユーザーエージェントクライアント（UAC）は、プラックリクエストを引き続き再送信しないでください。"
    },
    {
      "indent": 3,
      "text": "When a UA receives an UPDATE request with an offer that it cannot accept, it should respond with a 488 response, preferably with Warning header field indicating the reason of the rejection, unless another response code is more appropriate to reject it (Pattern 6).",
      "ja": "UAが受け入れることができないオファーで更新リクエストを受信すると、488の応答で応答する必要があります。できれば、拒否の理由を示す警告ヘッダーフィールドでは、別の応答コードが拒否するのがより適切でない限り（パターン6）。"
    },
    {
      "indent": 3,
      "text": "When a UA receives a PRACK request with an offer that it cannot accept, it may respond with a 200 response with a syntactically correct session description. Optionally, this may be followed by an UPDATE request to rearrange the session parameters if both ends support the UPDATE method. Alternatively, the UA may terminate the dialog and send an error response to the INVITE request (Pattern 5).",
      "ja": "UAが受け入れることができないオファーでプラックリクエストを受け取ると、構文的に正しいセッションの説明で200の応答で応答する場合があります。オプションで、これに続いて、両端が更新方法をサポートしている場合、セッションパラメーターを再配置する更新リクエストが続く場合があります。あるいは、UAはダイアログを終了し、招待リクエストにエラー応答を送信する場合があります（パターン5）。"
    },
    {
      "indent": 3,
      "text": "In addition, there is a possibility for UAC to receive a 488 response for an PRACK request. In that case, UAC may send again a PRACK request without an offer or send a CANCEL request to terminate the INVITE transaction.",
      "ja": "さらに、UACがプラックリクエストに対して488の応答を受信する可能性があります。その場合、UACはオファーなしで再びプラックリクエストを送信するか、招待取引を終了するためにキャンセルリクエストを送信する場合があります。"
    },
    {
      "indent": 6,
      "text": "NOTE: In [RFC3262], the following restriction is defined with regard to responding to a PRACK request.",
      "ja": "注：[RFC3262]では、次の制限は、プラックリクエストへの応答に関して定義されています。"
    },
    {
      "indent": 6,
      "text": "\"If the PRACK does match an unacknowledged reliable provisional response, it MUST be responded to with a 2xx response.\"",
      "ja": "「プラックが承認されていない信頼できる暫定的な対応と一致する場合、2xxの応答で応答する必要があります。」"
    },
    {
      "indent": 6,
      "text": "This restriction is not clear. There are cases where it is unacceptable to send a 2xx response. For example, the UAS may need to send an authentication challenge in a 401 response. This is an open issue and out of scope for this document.",
      "ja": "この制限は明確ではありません。2xx応答を送信することは受け入れられない場合があります。たとえば、UASは401応答で認証チャレンジを送信する必要がある場合があります。これはオープンな問題であり、このドキュメントの範囲外です。"
    },
    {
      "indent": 3,
      "text": "When a UA receives a response with an offer that it cannot accept, the UA does not have a way to reject it explicitly. Therefore, a UA should respond to the offer with the correct session description and rearrange the session parameters by initiating a new offer/answer",
      "ja": "UAが受け入れられない申し出で応答を受け取った場合、UAには明示的に拒否する方法がありません。したがって、UAは正しいセッションの説明でオファーに応答し、新しいオファー/回答を開始してセッションパラメーターを再配置する必要があります"
    },
    {
      "indent": 3,
      "text": "exchange, or alternatively terminate the session (Pattern 2 and Pattern 4). When initiating a new offer/answer, a UA should take care not to cause an infinite offer/answer loop.",
      "ja": "交換、またはセッションを終了します（パターン2とパターン4）。新しいオファー/回答を開始するとき、UAは無限のオファー/回答ループを引き起こさないように注意する必要があります。"
    },
    {
      "indent": 3,
      "text": "Section 14.2 of [RFC3261], \"UAS Behavior\", states:",
      "ja": "[RFC3261]のセクション14.2、「UAS行動」は次のように述べています。"
    },
    {
      "indent": 6,
      "text": "The UAS MUST ensure that the session description overlaps with its previous session description in media formats, transports, or other parameters that require support from the peer. This is to avoid the need for the peer to reject the session description.",
      "ja": "UASは、セッションの説明が、ピアからのサポートを必要とするメディア形式、トランスポート、またはその他のパラメーターでの以前のセッションの説明と重複することを確認する必要があります。これは、ピアがセッションの説明を拒否する必要性を避けるためです。"
    },
    {
      "indent": 3,
      "text": "This is a rule for an offer within 2xx response to a re-INVITE. This rule should be applied to an offer within a reliable provisional response and a PRACK request.",
      "ja": "これは、Re Inviteへの2xx応答内のオファーのルールです。このルールは、信頼できる暫定的な対応とプラックリクエスト内の申し出に適用されるべきです。"
    },
    {
      "indent": 5,
      "text": "   Offer                Rejection\n------------------------------------------------------------------\n1. INVITE Req. (*)      488 INVITE Response\n2. 2xx INVITE Resp.     Answer in ACK Req. followed by new offer\n                        OR termination of dialog\n3. INVITE Req.          488 INVITE Response (same as Pattern 1)\n4. 1xx-rel INVITE Resp. Answer in PRACK Req. followed by new offer\n5. PRACK Req. (**)      200 PRACK Resp. followed by new offer\n                        OR termination of dialog\n6. UPDATE Req.          488 UPDATE Response",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "(*) If this was a re-INVITE, a failure response should not be sent if media has already been exchanged using the new offer.",
      "ja": "（*）これが再入力である場合、メディアがすでに新しいオファーを使用して交換されている場合、失敗応答を送信しないでください。"
    },
    {
      "indent": 3,
      "text": "(**) A UA should only use PRACK to send an offer when it has strong reasons to expect the receiver will accept the offer.",
      "ja": "（**）UAは、受信者がオファーを受け入れることを期待する強力な理由がある場合にのみ、Prackを使用してオファーを送信する必要があります。"
    },
    {
      "indent": 22,
      "text": "Table 2: Rejection of an Offer",
      "ja": "表2：申し出の拒否"
    },
    {
      "indent": 0,
      "text": "2.4. Session Description That Is Not an Offer or an Answer",
      "section_title": true,
      "ja": "2.4. オファーや答えではないセッションの説明"
    },
    {
      "indent": 3,
      "text": "As previously stated, a session description in a SIP message is not necessarily an offer or an answer. For example, SIP can use a session description to describe capabilities apart from offer/answer exchange. Examples of this are a 200 OK response for OPTIONS and a 488 response for INVITE.",
      "ja": "前述のように、SIPメッセージのセッションの説明は、必ずしもオファーや答えではありません。たとえば、SIPはセッションの説明を使用して、オファー/回答の交換とは別に機能を説明できます。これの例は、オプションの200 OK応答と招待のための488の応答です。"
    },
    {
      "indent": 0,
      "text": "3. Detailed Discussion of the Offer/Answer Model for SIP",
      "section_title": true,
      "ja": "3. SIPのオファー/回答モデルの詳細な議論"
    },
    {
      "indent": 0,
      "text": "3.1. Offer/Answer for the INVITE method with 100rel Extension",
      "section_title": true,
      "ja": "3.1. 100REL拡張機能を備えた招待方法の提供/回答"
    },
    {
      "indent": 3,
      "text": "The INVITE method provides the basic procedure for offer/answer exchange in SIP. Without the 100rel option, the rules are simple as described in [RFC3261]. If an INVITE request includes a session description, Pattern 1 is applied and if an INVITE request does not include a session description, Pattern 2 is applied.",
      "ja": "招待方法は、SIPでのオファー/回答交換の基本的な手順を提供します。100RELオプションがなければ、[RFC3261]で説明されているようにルールは簡単です。招待リクエストにセッションの説明が含まれている場合、パターン1が適用され、招待リクエストにセッションの説明が含まれていない場合、パターン2が適用されます。"
    },
    {
      "indent": 3,
      "text": "With 100rel, Patterns 3, 4, and 5 are added and this complicates the rules. An INVITE request may cause multiple responses. Note that even if both UAs support the 100rel extension, not all the provisional responses may be sent reliably.",
      "ja": "100RELでは、パターン3、4、および5が追加され、これによりルールが複雑になります。招待リクエストは複数の応答を引き起こす可能性があります。両方のUASが100レルの拡張をサポートしていても、すべての暫定的な応答が確実に送信されるわけではないことに注意してください。"
    },
    {
      "indent": 0,
      "text": "3.1.1. INVITE Request with SDP",
      "section_title": true,
      "ja": "3.1.1. SDPでリクエストを招待します"
    },
    {
      "indent": 3,
      "text": "When a UAC includes an SDP body in the INVITE request as an offer, only the first SDP in a reliable non-failure response to the INVITE request is the real answer. No other offer/answer exchanges can occur within the messages (other responses and ACK) of the INVITE transaction.",
      "ja": "UACに招待リクエストにSDPボディがオファーとして含まれている場合、招待リクエストに対する信頼性の高い非失敗応答の最初のSDPのみが実際の答えです。Invite Transactionのメッセージ（その他の応答とACK）内で他のオファー/回答交換は発生することはできません。"
    },
    {
      "indent": 3,
      "text": "In [RFC3261] there are some descriptions about an offer/answer exchange, but those cause a little confusion. We interpret those descriptions as follows,",
      "ja": "[RFC3261]では、申し出/回答の交換についていくつかの説明がありますが、それらは少し混乱を引き起こします。これらの説明を次のように解釈します。"
    },
    {
      "indent": 3,
      "text": "UAC behavior:",
      "ja": "UACの動作："
    },
    {
      "indent": 6,
      "text": "1. If the first SDP that the UAC received is included in an unreliable provisional response to the INVITE request, [RFC3261] (Section 13.2.1, second bullet) requires that this be treated as an answer. However, because that same section states that the answer has to be in a reliable non-failure message, this SDP is not the true answer and therefore the offer/answer exchange is not yet completed.",
      "ja": "1. UACが受け取った最初のSDPが招待要求に対する信頼できない暫定的な応答に含まれている場合、[RFC3261]（セクション13.2.1、2番目の弾丸）では、これを答えとして扱う必要があります。ただし、その同じセクションでは、答えは信頼できる非失敗メッセージに含まれている必要があると述べているため、このSDPは真の答えではないため、オファー/回答の交換はまだ完了していません。"
    },
    {
      "indent": 6,
      "text": "2. After the UAC has received the answer in a reliable provisional response to the INVITE, [RFC3261] requires that any SDP in subsequent responses be ignored.",
      "ja": "2. UACが招待に対する信頼できる暫定的な応答で答えを受け取った後、[RFC3261]では、その後の回答のSDPを無視する必要があります。"
    },
    {
      "indent": 6,
      "text": "3. If the second and subsequent SDP (including a real answer) is different from the first SDP, the UAC should consider that the SDP is equal to the first SDP. Therefore, the UAC should not switch to the new SDP.",
      "ja": "3. 2番目と後続のSDP（実際の回答を含む）が最初のSDPと異なる場合、UACはSDPが最初のSDPに等しいと考える必要があります。したがって、UACは新しいSDPに切り替えてはなりません。"
    },
    {
      "indent": 3,
      "text": "UAS behavior:",
      "ja": "UASの動作："
    },
    {
      "indent": 6,
      "text": "1. [RFC3261] requires all SDP in the responses to the INVITE request to be identical.",
      "ja": "1. [RFC3261]は、招待リクエストへの応答にすべてのSDPが同一であることを要求します。"
    },
    {
      "indent": 6,
      "text": "2. After the UAS has sent the answer in a reliable provisional response to the INVITE, the UAS should not include any SDPs in subsequent responses to the INVITE.",
      "ja": "2. UASが招待に対する信頼できる暫定的な応答で答えを送信した後、UASは招待に対するその後の応答にSDPを含めるべきではありません。"
    },
    {
      "indent": 6,
      "text": "3. [RFC3261] permits the UAS to send any provisional response without SDP regardless of the transmission of the answer.",
      "ja": "3. [RFC3261]は、回答の送信に関係なく、UASがSDPなしで暫定的な応答を送信できるようにします。"
    },
    {
      "indent": 3,
      "text": "A session description in an unreliable response that precedes a reliable response can be considered a \"preview\" of the answer that will be coming.",
      "ja": "信頼できる応答に先行する信頼できない応答のセッションの説明は、来る回答の「プレビュー」と見なすことができます。"
    },
    {
      "indent": 6,
      "text": "NOTE: This \"preview\" session description rule applies to a single offer/answer exchange. In parallel offer/answer exchanges (caused by forking), a UA may obviously receive a different \"preview\" of an answer in each dialog. UAs are expected to deal with this.",
      "ja": "注：この「プレビュー」セッションの説明ルールは、単一のオファー/回答交換に適用されます。並行オファー/回答交換（フォーキングによって引き起こされる）では、UAは明らかに各ダイアログで回答の異なる「プレビュー」を受け取る場合があります。UASはこれに対処することが期待されています。"
    },
    {
      "indent": 3,
      "text": "Although [RFC3261] says a UA should accept media once an INVITE with an offer has been sent, in many cases, an answer (or, at least a preview of it) is required in order for media to be accepted. Two examples of why this might be required are as follows:",
      "ja": "[RFC3261]は、メディアを受け入れるためには、多くの場合（または少なくともそのプレビュー）が必要であることが多い場合、オファーを伴う招待状が送信されると、UAはメディアを受け入れるべきだと言いますが。これが必要な理由の2つの例は次のとおりです。"
    },
    {
      "indent": 3,
      "text": "o To avoid receiving media from undesired sources, some User Agents assume symmetric RTP will be used, ignore all incoming media packets until an address/port has been received from the other end, and then use that address/port to filter incoming media packets.",
      "ja": "o 望ましくないソースからメディアの受信を避けるために、一部のユーザーエージェントは、対称RTPが使用され、別の端からアドレス/ポートが受信されるまですべての着信メディアパケットを無視し、そのアドレス/ポートを使用して着信メディアパケットをフィルタリングすると想定しています。"
    },
    {
      "indent": 3,
      "text": "o In some networks, an intermediate node must authorize a media stream before it can flow and requires a confirming answer to the offer before doing so.",
      "ja": "o 一部のネットワークでは、中間ノードはメディアストリームが流れる前にメディアストリームを承認する必要があり、そうする前にオファーに対する確認の確認が必要です。"
    },
    {
      "indent": 3,
      "text": "Therefore, a UAS should send an SDP answer reliably (if possible) before it starts sending media. And, if neither the UAC nor the UAS support 100rel, the UAS should send a preview of the answer before it starts sending media.",
      "ja": "したがって、UASは、メディアの送信を開始する前に（可能であれば）SDP回答を確実に送信する必要があります。また、UACもUASも100RELをサポートしていない場合、UASはメディアの送信を開始する前に回答のプレビューを送信する必要があります。"
    },
    {
      "indent": 5,
      "text": "UAC                   UAS\n | F1  INVITE (SDP)    | <- The offer in the offer/answer model.\n |-------------------->|\n | F2     1xx (SDP)    | <- The offer/answer exchange is not\n |<--------------------|    closed yet, but UAC acts as if it\n |                     | ^  receives the answer.\n | F3 1xx-rel (no SDP) | |<- a 1xx-rel may be sent without answer\n |<--------------------| |   SDP.\n | F4   PRACK (no SDP) | |\n |-------------------->| | The UAC must not send a new offer.\n | F5 2xx PRA (no SDP) | |\n |<--------------------| v\n |                     |\n | F6 1xx-rel (SDP)    | <- The answer in the offer/ answer model.\n |<--------------------| -\n | F7   PRACK          | | The UAC can send a new offer in a PRACK\n |-------------------->| | request to acknowledge F6.\n | F8 2xx PRA          | | After F7, the UAC and UAS can send a new\n |<--------------------| v offer in an UPDATE request.\n |                     |\n | F9 1xx-rel          | <- SDP should not be included in the\n |<--------------------|    subsequent 1xx-rel once offer/answer\n | F10  PRACK          |    has been completed.\n |-------------------->|\n | F11 2xx PRA         |\n |<--------------------|\n |                     |\n | F12 2xx INV         | <- SDP should not be included in the\n |<--------------------|    final response once offer/answer has\n | F13    ACK          |    been completed.\n |-------------------->|",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 8,
      "text": "Figure 1: Example of Offer/Answer with 100rel Extension (1)",
      "ja": "図1：100REL拡張機能を使用したオファー/回答の例（1）"
    },
    {
      "indent": 3,
      "text": "For example, in Figure 1, only the SDP in F6 is the answer. The SDP in the non-reliable response (F2) is the preview of the answer and must be the same as the answer in F6. Receiving F2, the UAC should act as if it receives the answer. However, offer/answer exchange is not completed yet and the UAC must not send a new offer until it receives the same SDP in a reliable non-failure response, which is the real answer. After sending the SDP in F6, the UAS must prepare to receive a new offer from the UAC in a PRACK request or in an UPDATE request if the UAS supports UPDATE.",
      "ja": "たとえば、図1では、F6のSDPのみが答えです。信頼できない応答（F2）のSDPは答えのプレビューであり、F6の答えと同じでなければなりません。F2を受け取ると、UACは回答を受け取るかのように行動する必要があります。ただし、オファー/回答の交換はまだ完了しておらず、UACは信頼できる非失敗応答で同じSDPを受け取るまで新しいオファーを送信してはなりません。これは本当の答えです。F6でSDPを送信した後、UASは、UASが更新をサポートしている場合、Prackリクエストまたは更新リクエストでUACから新しいオファーを受信する準備をしなければなりません。"
    },
    {
      "indent": 3,
      "text": "The UAS does not include SDP in responses F9 and F12. However, the UAC should prepare to receive SDP bodies in F9 and/or F12, and just ignore them, to handle a peer that does not conform to the recommended implementation.",
      "ja": "UASには、応答F9およびF12にSDPは含まれていません。ただし、UACは、F9および/またはF12でSDPボディを受け取る準備をし、推奨される実装に準拠していないピアを処理するためにそれらを無視するだけです。"
    },
    {
      "indent": 0,
      "text": "3.1.2. INVITE Request without SDP",
      "section_title": true,
      "ja": "3.1.2. SDPなしでリクエストを招待します"
    },
    {
      "indent": 3,
      "text": "When a UAC does not include an SDP body in the INVITE request, [RFC3261] (Section 13.2.1, first bullet) requires that the UAS include an offer in the first reliable non-failure response. However, a UAC might not expect an SDP in the other responses to the INVITE request because RFC 3261 simply does not anticipate the possibility. Therefore, the UAS ought not include any SDP in the other responses to the INVITE request.",
      "ja": "UACが招待リクエストにSDP本体を含めていない場合、[RFC3261]（セクション13.2.1、最初の弾丸）では、UASに最初の信頼性のない非デスペール応答にオファーが含まれることが要求されます。ただし、RFC 3261が単に可能性を予測していないため、UACは招待要求に対する他の応答のSDPを期待しない場合があります。したがって、UASは、招待リクエストに対する他の応答にSDPを含めるべきではありません。"
    },
    {
      "indent": 6,
      "text": "NOTE: In Figure 2, the UAS should not include SDP in the responses F6 and F9. However, the UAC should prepare to receive SDP bodies in F6 and/or F9, and just ignore them to handle a peer that does not conform to the recommended implementation.",
      "ja": "注：図2では、UASは応答F6およびF9にSDPを含めるべきではありません。ただし、UACはF6および/またはF9でSDPボディを受け取る準備をし、推奨される実装に準拠していないピアを処理するためにそれらを無視するだけです。"
    },
    {
      "indent": 4,
      "text": "UAC                   UAS\n | F1  INVITE (no SDP) |\n |-------------------->|\n | F2     1xx          |\n |<--------------------|\n |                     |\n | F3 1xx-rel (SDP)    | <- The first 1xx-rel must contain SDP\n |<--------------------|    as the offer.\n | F4   PRACK (SDP)    | <- A PRACK request to the first 1xx-rel\n |-------------------->|    must contain SDP as the answer.\n | F5 2xx PRA (no SDP) | -\n |<--------------------| |\n |                     | |\n | F6 1xx-rel (no SDP) | <- The subsequent 1xx-rel should not\n |<--------------------| |  contain SDP.\n | F7   PRACK          | |\n |-------------------->| | The UAC can send a new offer in an UPDATE\n | F8 2xx PRA          | | request after F4.\n |<--------------------| v\n |                     |\n | F9 2xx INV (no SDP) | <- The final response should not\n |<--------------------|    contain SDP.\n | F10    ACK          |\n |-------------------->|",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 8,
      "text": "Figure 2: Example of Offer/Answer with 100rel Extension (2)",
      "ja": "図2：100REL拡張機能を使用したオファー/回答の例（2）"
    },
    {
      "indent": 3,
      "text": "Note that in the case that the UAC needs to prompt the user to accept or reject the offer, the reliable provisional response with SDP as an offer (Pattern 4) can result in the retransmission until the PRACK request can be sent. The UAC should take care to avoid this situation when it sends the INVITE request without SDP.",
      "ja": "UACがユーザーにオファーを受け入れるか拒否するよう促す必要がある場合、SDPを使用した信頼できる暫定的な対応は、プラックリクエストを送信するまで再送信をもたらす可能性があることに注意してください。UACは、SDPなしで招待リクエストを送信する場合、この状況を回避するように注意する必要があります。"
    },
    {
      "indent": 0,
      "text": "3.2. Offer/Answer Exchange in Early Dialog",
      "section_title": true,
      "ja": "3.2. 早期ダイアログで交換を提供/回答します"
    },
    {
      "indent": 3,
      "text": "When both UAs support the 100rel extension, they can update the session in the early dialog once the first offer/answer exchange has been completed.",
      "ja": "両方のUASが100REL拡張機能をサポートすると、最初のオファー/回答交換が完了したら、初期のダイアログでセッションを更新できます。"
    },
    {
      "indent": 3,
      "text": "From a UA sending an INVITE request:",
      "ja": "招待リクエストの送信UAから："
    },
    {
      "indent": 3,
      "text": "A UA can send an UPDATE request with a new offer if both ends support the UPDATE method. Note that if the UAS needs to prompt the user to accept or reject the offer, the delay can result in retransmission of the UPDATE request.",
      "ja": "UAは、両端が更新方法をサポートしている場合、新しいオファーで更新リクエストを送信できます。UASがユーザーにオファーを受け入れるか拒否するように促す必要がある場合、遅延により更新リクエストが再送信される可能性があることに注意してください。"
    },
    {
      "indent": 3,
      "text": "A UA can send a PRACK request with a new offer only when acknowledging the reliable provisional response carrying the answer to an offer in the INVITE request. Compared to using the UPDATE method, using PRACK can reduce the number of messages exchanged between the UAs. However, to avoid problems or delays caused by PRACK offer rejection, the UA is recommended to send a PRACK request only when it has strong reasons to expect the receiver will accept it. For example, the procedure used in precondition extension [RFC3312] is a case where a PRACK request should be used for updating the session status in an early dialog. Note also that if a UAS needs to prompt the user to accept or reject the offer, the delay can result in retransmission of the PRACK request.",
      "ja": "UAは、招待状リクエストでオファーに対する答えを運ぶ信頼できる暫定的な対応を認める場合にのみ、新しいオファーでプラックリクエストを送信できます。更新方法の使用と比較して、Prackを使用すると、UAS間で交換されるメッセージの数が減少する可能性があります。ただし、プラックオファーの拒否によって引き起こされる問題や遅延を回避するために、UAは、受信者がそれを受け入れることを期待する強力な理由がある場合にのみ、プラックリクエストを送信することをお勧めします。たとえば、Precondition Extension [RFC3312]で使用される手順は、初期のダイアログでセッションステータスを更新するためにプラックリクエストを使用する場合です。また、UASがユーザーにオファーを受け入れるか拒否するように促す必要がある場合、遅延によりPrackリクエストが再送信される可能性があることに注意してください。"
    },
    {
      "indent": 3,
      "text": "From a UA receiving an INVITE request:",
      "ja": "招待リクエストを受け取っているUAから："
    },
    {
      "indent": 3,
      "text": "A UA can send an UPDATE request with a new offer if both ends support the UPDATE method. A UAS cannot send a new offer in the reliable provisional response, so the UPDATE method is the only method for a UAS to update an early session.",
      "ja": "UAは、両端が更新方法をサポートしている場合、新しいオファーで更新リクエストを送信できます。UASは信頼できる暫定的な対応で新しいオファーを送信できないため、UASが早期セッションを更新する唯一の方法です。"
    },
    {
      "indent": 0,
      "text": "3.3. Offer/Answer Exchange in an Established Dialog",
      "section_title": true,
      "ja": "3.3. 確立されたダイアログで交換を提供/回答します"
    },
    {
      "indent": 3,
      "text": "Both the re-INVITE and UPDATE methods can be used in an established dialog to update the session.",
      "ja": "Re-Inviteメソッドと更新メソッドの両方を、確立されたダイアログで使用してセッションを更新できます。"
    },
    {
      "indent": 3,
      "text": "The UPDATE method is simpler and can save at least one message compared with the INVITE method. But both ends must support the UPDATE method for it to be used.",
      "ja": "更新方法はよりシンプルで、Inviteメソッドと比較して少なくとも1つのメッセージを保存できます。ただし、両端は、使用するための更新方法をサポートする必要があります。"
    },
    {
      "indent": 3,
      "text": "The INVITE method needs at least three messages to complete but no extensions are needed. Additionally, the INVITE method allows the peer to take time to decide whether or not it will accept a session update by sending provisional responses. That is, re-INVITE allows the UAS to interact with the user at the peer, while UPDATE needs to be answered automatically by the UAS. It is noted that re-INVITE",
      "ja": "招待方法には、完了するには少なくとも3つのメッセージが必要ですが、拡張機能は必要ありません。さらに、招待方法により、ピアは時間をかけて、暫定的な応答を送信してセッションの更新を受け入れるかどうかを判断できます。つまり、Re-Inviteを使用すると、UASがピアでユーザーと対話することができますが、UASが更新する必要があります。それはその復活に注意されています"
    },
    {
      "indent": 3,
      "text": "should be answered immediately unless such a user interaction is needed. Otherwise, some Third Party Call Control (3PCC) [RFC3725] flows will break.",
      "ja": "そのようなユーザーインタラクションが必要でない限り、すぐに回答する必要があります。それ以外の場合、一部のサードパーティのコールコントロール（3PCC）[RFC3725]フローが壊れます。"
    },
    {
      "indent": 0,
      "text": "3.4. Recovering from a Failed Re-INVITE",
      "section_title": true,
      "ja": "3.4. 失敗した再入手から回復します"
    },
    {
      "indent": 3,
      "text": "Section 14.1 of [RFC3261] requires that the session parameters in effect prior to a re-INVITE remain unchanged if the re-INVITE fails, as if no re-INVITE had been issued. This remains the case even if multiple offer/answer exchanges have occurred between the sending of the re-INVITE and its failure, and even if media has been exchanged using the proposed changes in the session. Because this can be difficult to achieve in practice, a newer specification [RFC6141] recommends the UAS to send a 2xx response to a re-INVITE in cases where rolling back changes would be problematic.",
      "ja": "[RFC3261]のセクション14.1では、再入手が失敗した場合、再入手が発行されていないかのように、再入札前のセッションパラメーターが変更されないままであることを要求しています。これは、再インバイトの送信とその失敗の間に複数のオファー/回答交換が発生したとしても、またメディアがセッションで提案された変更を使用して交換されたとしても、依然として当てはまります。これは実際には達成するのが難しい可能性があるため、新しい仕様[RFC6141]は、ロールバックの変更が問題になる場合に、UASに再インバイトに2XX応答を送信することを推奨します。"
    },
    {
      "indent": 3,
      "text": "Nevertheless, a UAC may receive a failure response to a re-INVITE after proposed changes that must be rolled back have already been used. In such a case, the UAC should send an UPDATE offering the SDP that has been reinstated. (See [RFC6141] for details.)",
      "ja": "それにもかかわらず、UACは、ロールバックしなければならない提案された変更が既に使用されている後に、再入手に対する失敗応答を受ける可能性があります。そのような場合、UACは復元されたSDPを提供するアップデートを送信する必要があります。（詳細については[RFC6141]を参照してください。）"
    },
    {
      "indent": 0,
      "text": "4. Exceptional Case Handling",
      "section_title": true,
      "ja": "4. 例外的なケース処理"
    },
    {
      "indent": 3,
      "text": "In [RFC3264], the following restrictions are defined with regard to sending a new offer.",
      "ja": "[RFC3264]では、新しいオファーの送信に関して、次の制限が定義されています。"
    },
    {
      "indent": 6,
      "text": "At any time, either agent MAY generate a new offer that updates the session. However, it MUST NOT generate a new offer if it has received an offer which it has not yet answered or rejected. Furthermore, it MUST NOT generate a new offer if it has generated a prior offer for which it has not yet received an answer or a rejection.",
      "ja": "いつでも、いずれかのエージェントがセッションを更新する新しいオファーを生成する場合があります。ただし、まだ回答や拒否されていないオファーを受け取った場合、新しいオファーを生成してはなりません。さらに、回答や拒否をまだ受け取っていない事前のオファーを生成した場合、新しいオファーを生成してはなりません。"
    },
    {
      "indent": 3,
      "text": "Assuming that the above rules are guaranteed, there seem to be two possible 'exceptional' cases to be considered in SIP offer/answer usage: the 'message crossing' case and the 'glare' case. One of the reasons why the usage of SIP methods to exchange offer/answer needs to be carefully restricted in the RFCs is to ensure that the UA can detect and handle appropriately the 'exceptional' cases to avoid incompatible behavior.",
      "ja": "上記のルールが保証されていると仮定すると、SIPオファー/回答の使用法で考慮すべき2つの「例外的な」ケースがあるように見えます：「メッセージの交差」ケースと「まぶしさ」ケース。RFCで提供/回答を交換するためのSIPメソッドの使用を慎重に制限する必要がある理由の1つは、UAが互換性のない動作を避けるために「例外的な」ケースを適切に検出および処理できるようにすることです。"
    },
    {
      "indent": 0,
      "text": "4.1. Message Crossing Case Handling",
      "section_title": true,
      "ja": "4.1. メッセージの交差ケース処理"
    },
    {
      "indent": 3,
      "text": "When message packets cross in the transport network, an offer may be received before the answer for the previous offer/answer exchange, as shown in Figure 3. In such a case, UA A must detect that the session description SDP-2 is not the answer to offer1.",
      "ja": "メッセージパケットがトランスポートネットワークで交差する場合、図3に示すように、以前のオファー/回答交換の回答の前にオファーを受け取ることができます。offer1への回答1。"
    },
    {
      "indent": 25,
      "text": "   A                  B\n   |SDP-1     (offer1)|\nM1 |----------------->|\n   |SDP-2    (answer1)|\nM2 |<------\\  /-------|\n   |        \\/        |\n   |SDP-3   /\\(offer2)|\nM3 |<------/  \\-------|",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 22,
      "text": "Figure 3: Message Crossing Case",
      "ja": "図3：メッセージ交差ケース"
    },
    {
      "indent": 3,
      "text": "Because of the restrictions on placement of offers and answers (summarized in Table 1), there are a limited number of valid exchanges of messages that may lead to this message crossing case. These are enumerated in Table 3. (This table only shows messages containing offers or answers. There could be other messages, without session descriptions, which are not shown.)",
      "ja": "オファーと回答の配置に関する制限があるため（表1に要約）、このメッセージの交差点につながる可能性のあるメッセージの有効な交換は限られています。これらは表3に列挙されています（この表には、オファーや回答を含むメッセージのみが表示されます。セッションの説明なしでは、表示されていないメッセージがあります。）"
    },
    {
      "indent": 3,
      "text": "When a response to an UPDATE request crosses a reliable response to an INVITE request, there are variants shown in Figures 4 and 5, which are dependent on an INVITE (Mx) that contains no offer. These are also included in Table 3.",
      "ja": "更新リクエストへの応答が招待リクエストに対する信頼できる応答を越えた場合、図4および5に示されているバリアントがあります。これらは、オファーを含む招待（MX）に依存します。これらは表3にも含まれています。"
    },
    {
      "indent": 16,
      "text": "   A                               B\n   |                               |\n   |UPDATE(offer1)                 |\nM1 |==============================>|\n   |re-INVITE(no offer)            |\nMx |------------------------------>| --+\n   |               2xx-UPD(answer1)|   |\nM2 |<===========\\  /===============|   | first reliable\n   |             \\/ 1xx-rel/2xx-INV|   | response\n   |             /\\        (offer2)|   |\nM3 |<===========/  \\===============| <-+\n   |PRACK/ACK(answer2)             |\nMy |------------------------------>|\n   |                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 16,
      "text": "Figure 4: Avoidable Message Crossing Cases",
      "ja": "図4：回避可能なメッセージ交差ケース"
    },
    {
      "indent": 3,
      "text": "To avoid the message crossing condition shown in Figure 4, UA A should not send this re-INVITE request until an UPDATE transaction has been completed. If UA B encounters this message crossing condition, it should reject this re-INVITE request with a 500 response.",
      "ja": "図4に示すメッセージの交差条件を回避するために、UA Aは更新トランザクションが完了するまでこの再入札要求を送信しないでください。UA Bがこのメッセージの交差条件に遭遇した場合、500回の応答でこの再入力要求を拒否する必要があります。"
    },
    {
      "indent": 16,
      "text": "   A                               B\n   |                               |\n   |re-INVITE(no offer)            |\nMx |------------------------------>| --+\n   |UPDATE(offer1)                 |   |\nM1 |==============================>|   |\n   |               2xx-UPD(answer1)|   |\nM2 |<===========\\  /===============|   | first reliable\n   |             \\/ 1xx-rel/2xx-INV|   | response\n   |             /\\        (offer2)|   |\nM3 |<===========/  \\===============| <-+\n   |PRACK/ACK(answer2)             |\nMy |------------------------------>|\n   |                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 16,
      "text": "Figure 5: Avoidable Message Crossing Cases",
      "ja": "図5：回避可能なメッセージ交差ケース"
    },
    {
      "indent": 3,
      "text": "To avoid the message crossing condition shown in Figure 5, UA A should not send this UPDATE request until an ACK or a PRACK transaction associated with an offer/answer has been completed. If UA B encounters this message crossing condition, it should reject this UPDATE request with a 500 response.",
      "ja": "図5に示すメッセージの交差条件を回避するために、UA Aは、オファー/回答に関連付けられたACKまたはプラックトランザクションが完了するまでこの更新リクエストを送信しないでください。UA Bがこのメッセージの交差条件に遭遇した場合、500回の応答でこの更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "The situation when a PRACK request crosses UPDATE request is shown in Figure 6.",
      "ja": "Prackリクエストが更新要求をクロスする場合の状況を図6に示します。"
    },
    {
      "indent": 3,
      "text": "                A                               B\n                |                               |\n                |           re-INVITE (no offer)|\n1st reliable+-- |<------------------------------|\nresponse    | M1|1xx-rel(offer1)                |\n            +-> |==============================>| --+\n                |                 PRACK(answer1)| M3| Acknowledge\n                |<===========\\  /===============| <-+\n                |             \\/                |\n                |             /\\  UPDATE(offer2)|\n                |<===========/  \\===============| M2\n                |500-UPD                        |\n                |------------------------------>|\n                |2xx-PRA                        |\n                |------------------------------>|\n                |                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 16,
      "text": "Figure 6: Avoidable Message Crossing Cases",
      "ja": "図6：回避可能なメッセージ交差ケース"
    },
    {
      "indent": 3,
      "text": "To avoid the message crossing condition shown in Figure 6, UA B should not send this UPDATE request until a PRACK transaction associated with an offer/answer has been completed. If UA A encounters this message crossing condition, it should reject this UPDATE request with a 500 response.",
      "ja": "図6に示すメッセージの交差条件を回避するために、UA Bは、オファー/回答に関連付けられたプラックトランザクションが完了するまでこの更新リクエストを送信しないでください。UA Aがこのメッセージの交差条件に遭遇した場合、500回の応答でこの更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "The situation when a reliable provisional response to an INVITE request crosses UPDATE request is shown in Figure 7.",
      "ja": "招待リクエストに対する信頼できる暫定的な応答が、更新リクエストをクロスする場合の状況を図7に示します。"
    },
    {
      "indent": 3,
      "text": "                A                               B\n                |                               |\n                |re-INVITE(offer1)              |\n             M1 |==============================>|\n                |               1xx-rel(answer1)|\n                |<===========\\  /===============| M3\n                |             \\/                |\n                |             /\\  UPDATE(offer2)|\n            +-- |<===========/  \\===============| M2\n            |   |491-UPD                        |\nAcknowledge |   |------------------------------>|\n            |   |PRACK                          |\n            +-> |------------------------------>|\n                |                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 16,
      "text": "Figure 7: Avoidable Message Crossing Cases",
      "ja": "図7：回避可能なメッセージ交差ケース"
    },
    {
      "indent": 3,
      "text": "To avoid the message crossing condition shown in Figure 7, UA B should not send this UPDATE request until a PRACK transaction associated with an offer/answer has been completed. If UA A encounters this message crossing condition, it should reject this UPDATE request with a 491 response.",
      "ja": "図7に示すメッセージの交差条件を回避するために、UA Bは、オファー/回答に関連付けられたプラックトランザクションが完了するまでこの更新リクエストを送信しないでください。UA Aがこのメッセージの交差条件に遭遇した場合、491の応答でこの更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "The situation when a 2xx response to an INVITE request crosses UPDATE request is shown in Figure 8.",
      "ja": "Invite Request Crossesの更新要求に対する2XX応答が図8に示されている場合。"
    },
    {
      "indent": 3,
      "text": "                A                               B\n                |                               |\n                |re-INVITE(offer1)              |\n                |==============================>|\n                |               2xx-INV(answer1)|\n                |<===========\\  /===============|\n                |             \\/                |\n                |             /\\  UPDATE(offer2)|\n            +-- |<===========/  \\===============|\n            |   |491-UPD                        |\nAcknowledge |   |------------------------------>|\n            |   |ACK                            |\n            +-> |------------------------------>|\n                |                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 16,
      "text": "Figure 8: Avoidable Message Crossing Cases",
      "ja": "図8：回避可能なメッセージ交差ケース"
    },
    {
      "indent": 3,
      "text": "This is a true glare. To avoid the message crossing condition shown in Figure 8, UA B should not send the UPDATE request until it has received an ACK request. But there is no problem even if UA B sends it. If UA A encounters this message crossing condition, it should reject this UPDATE request with a 491 response.",
      "ja": "これは本当のまぶしさです。図8に示すメッセージの交差条件を回避するために、UA BはACKリクエストを受信するまで更新要求を送信しないでください。しかし、UA Bがそれを送信しても問題はありません。UA Aがこのメッセージの交差条件に遭遇した場合、491の応答でこの更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "The situation when a response to an UPDATE request crosses a PRACK request is shown in Figure 9.",
      "ja": "更新リクエストへの応答がプラックリクエストを越えた場合の状況を図9に示します。"
    },
    {
      "indent": 16,
      "text": "   A                               B\n   |                               |\n   |              re-INVITE(offer0)|\n   |<------------------------------|\n   |1xx-rel(answer0)               |\n   |------------------------------>| --+\n   |UPDATE(offer1)                 |   |\nM1 |==============================>|   |\n   |               2xx-UPD(answer1)|   | Acknowledge\n   |<===========\\  /===============| M3|\n   |             \\/                |   |\n   |             /\\   PRACK(offer2)| M2|\n   |<===========/  \\===============| <-+\n   |                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 17,
      "text": "Figure 9: Avoidable Message Crossing Case",
      "ja": "図9：回避可能なメッセージ交差ケース"
    },
    {
      "indent": 3,
      "text": "To avoid the message crossing condition shown in Figure 9, UA A should not send this UPDATE request until a PRACK transaction associated with an offer/answer has been completed. If UA B encounters this message crossing condition, it should reject this UPDATE request with a 491 response.",
      "ja": "図9に示すメッセージの交差条件を回避するために、UA Aは、オファー/回答に関連付けられたプラックトランザクションが完了するまでこの更新リクエストを送信しないでください。UA Bがこのメッセージの交差条件に遭遇した場合、491の応答でこの更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "Table 3 summarizes this section. Each action is described in Section 4.3.",
      "ja": "表3にこのセクションをまとめます。各アクションについては、セクション4.3で説明します。"
    },
    {
      "indent": 8,
      "text": "| M1     | M3       | M2        |Action |Action |Figure|\n|(offer1)|(answer1) |(offer2)   | of A  | of B  |      |\n+--------+----------+-----------+-------+-------+------+\n| UPDATE | 2xx-UPD  | UPDATE    |UAS-UcU|       |      |\n|        |          +-----------+-------+ -     |      |\n|        |          | INVITE    |UAS-UcI|       |      |\n|        |          +-----------+-------+-------+------+\n|        |          | 1xx-INV   |       |       |      |\n|        |          +-----------+UAC-UI,|UAS-UsI| 4,5  |\n|        |          | 2xx-INV   |UAC-IU |UAS-IsU|      |\n|        |          +-----------+-------+-------+------+\n|        |          | PRACK  (*)|UAC-IU |UAS-IcU|  9   |\n+--------+----------+-----------+-------+-------+------+\n| PRACK  | 2xx-PRA  | UPDATE    |UAS-IcU|       |      |\n+--------+----------+-----------+-------+       |      |\n| 2xx-INV| ACK      | UPDATE    |UAS-IsU| -     |      |\n|        |          +-----------+-------+       |      |\n|        |          | INVITE    |UAS-IsI|       |      |\n+--------+----------+-----------+-------+-------+------+\n| 1xx-rel| PRACK    | UPDATE    |UAS-IsU|       |  6   |\n+--------+----------+-----------+-------+UAC-IU +------+\n| INVITE | 1xx-rel  | UPDATE (*)|       |       |  7   |\n|        +----------+-----------+UAS-IcU+-------+------+\n|        | 2xx-INV  | UPDATE (*)|       | -     |  8   |\n+--------+----------+-----------+-------+-------+------+\n(*) invalid sequences if INVITE request is an initial one",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 13,
      "text": "Table 3: Offer/Answer Crossing Message Sequences",
      "ja": "表3：メッセージを交差するメッセージシーケンスを提供します"
    },
    {
      "indent": 0,
      "text": "4.2. Glare Case Handling",
      "section_title": true,
      "ja": "4.2. グレアケースの取り扱い"
    },
    {
      "indent": 3,
      "text": "When both ends in a dialog send a new offer at nearly the same time, as described in Figure 10, a UA may receive a new offer before it receives the answer to the offer it sent. This case is usually called a 'glare' case.",
      "ja": "ダイアログで両端が終了すると、図10に記載されているように、ほぼ同時に新しいオファーを送信すると、UAは送信されたオファーへの回答を受け取る前に新しいオファーを受け取ることがあります。このケースは通常、「まぶしさ」ケースと呼ばれます。"
    },
    {
      "indent": 25,
      "text": "   A                  B\n   |offer1      offer2|\nM1 |-------\\  /-------| M2\n   |        \\/        |\n   |        /\\        |\n   |<------/  \\------>|",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 27,
      "text": "Figure 10: Glare Case",
      "ja": "図10：グレアケース"
    },
    {
      "indent": 3,
      "text": "When offer2 is in an UPDATE request or (re-)INVITE request, it must be rejected with a 491 or 500 response.",
      "ja": "offer2が更新リクエストまたは（再）リクエストを招待する場合、491または500の応答で拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "There is a variant of Figure 7. When offer2 is in a PRACK request (within the current rules, only possible if offer1 is in an UPDATE request), as shown in Figure 11, UA A has a dilemma.",
      "ja": "図7のバリエーションがあります。SOFFER2がプラックリクエストにある場合（現在のルール内で、offer1が更新リクエストにある場合にのみ可能です）、図11に示すように、UA Aにはジレンマがあります。"
    },
    {
      "indent": 16,
      "text": "   A                               B\n   |                               |\n   |              re-INVITE(offer0)|\n   |<------------------------------|\n   |1xx-rel(answer0)               |\n   |------------------------------>| --+\n   |UPDATE(offer1)    PRACK(offer2)| M2| Acknowledge\nM1 |============\\  /===============| <-+\n   |             \\/                |\n   |             /\\                |\n   |<===========/  \\==============>|\n   |                        491-UPD|\n   |<------------------------------|\n   |                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 22,
      "text": "Figure 11: Avoidable Glare Case",
      "ja": "図11：回避可能なまぶしさ"
    },
    {
      "indent": 3,
      "text": "All PRACKs are supposed to be accepted with a 200 response, yet there is no way to indicate the problem with a 200 response. At best, it could proceed on the assumption that the UPDATE will be rejected with a 491. To avoid the glare condition shown in Figure 11, UA A should not send this UPDATE request until a PRACK transaction associated with an offer/answer has been completed. If UA B encounters this glare condition, it should reject this UPDATE request with a 491 response.",
      "ja": "すべてのプラックは200の応答で受け入れられることになっていますが、200の応答で問題を示す方法はありません。せいぜい、アップデートが491で拒否されるという仮定で進むことができます。図11に示すまぶしさを回避するために、UA Aはオファー/回答に関連するプラックトランザクションが完了するまでこの更新リクエストを送信しないでください。UA Bがこのまぶしさの状態に遭遇した場合、491の応答でこの更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "Glare can also occur when offer2 is in a 1xx or 2xx response. This is a variant of Figure 5, as shown in Figure 12.",
      "ja": "offer2が1xxまたは2xxの応答である場合にも、まぶしさが発生する可能性があります。これは、図12に示すように、図5のバリアントです。"
    },
    {
      "indent": 16,
      "text": "   A                               B\n   |                               |\n   |re-INVITE(no offer)            |\n   |------------------------------>| --+\n   |                1xx-rel/2xx-INV|   | 1st reliable\n   |UPDATE(offer1)         (offer2)| M2| response\nM1 |============\\  /===============| <-+\n   |             \\/                |\n   |             /\\                |\n   |<===========/  \\==============>|\n   |                        500-UPD|\n   |<------------------------------|\n   |                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 22,
      "text": "Figure 12: Avoidable Glare Case",
      "ja": "図12：回避可能なまぶしさ"
    },
    {
      "indent": 3,
      "text": "To avoid the glare condition shown in Figure 12, UA A should not send this UPDATE request until an ACK or a PRACK transaction associated with an offer/answer has been completed. If UA B encounters this glare condition, it should reject this UPDATE request with a 500 response.",
      "ja": "図12に示すまぶしさを回避するために、UA Aは、オファー/回答に関連付けられたACKまたはプラックトランザクションが完了するまで、この更新リクエストを送信しないでください。UA Bがこのまぶしさの状態に遭遇した場合、500回の応答でこの更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "There is a variant of Figure 4, as shown in Figure 13.",
      "ja": "図13に示すように、図4のバリアントがあります。"
    },
    {
      "indent": 19,
      "text": "A                               B\n|                               |\n|UPDATE(offer1)                 |\n|==========\\                    |\n|re-INVITE  \\  (no offer)       |\n|------------\\----------------->| --+\n|             \\  1xx-rel/2xx-INV|   | 1st reliable\n|              \\        (offer2)|   | response\n|<==============\\===============| <-+\n|                \\              |\n|                 \\============>|\n|                        500-UPD|\n|<------------------------------|\n|                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 22,
      "text": "Figure 13: Avoidable Glare Case",
      "ja": "図13：回避可能なまぶしさ"
    },
    {
      "indent": 3,
      "text": "To avoid the glare condition shown in Figure 13, UA A should not send this re-INVITE request until an UPDATE transaction has been completed. If UA B encounters this glare condition, it should reject this UPDATE request with a 500 response.",
      "ja": "図13に示されているまぶしさを回避するために、UA Aは更新トランザクションが完了するまでこの再入力要求を送信しないでください。UA Bがこのまぶしさの状態に遭遇した場合、500回の応答でこの更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "Table 4 summarizes this section. Each action is described in Section 4.3.",
      "ja": "表4にこのセクションをまとめます。各アクションについては、セクション4.3で説明します。"
    },
    {
      "indent": 7,
      "text": "| offer1    | offer2    |Action |Action |Figure|\n|  M1       |  M2       | of A  | of B  |      |\n+-----------+-----------+-------+-------+------+\n|           | re-INVITE |UAS-IcI|UAS-IcI|      |\n| re-INVITE +-----------+-------+-------+      |\n|           | UPDATE    |UAS-IcU|UAS-UcI|      |\n+-----------+-----------+-------+-------+      |\n|           | UPDATE    |UAS-UcU|UAS-UcU|      |\n|           +-----------+-------+-------+------+\n|           | 1xx-rel   |       |       |      |\n| UPDATE    +-----------+UAC-IU,|UAS-IsU|12,13 |\n|           | 2xx-INV   |UAC-UI |       |      |\n|           +-----------+-------+-------+------+\n|           | PRACK (*) |UAC-IU |UAS-IcU|  11  |\n+-----------+-----------+-------+-------+------+\n (*) invalid sequences if INVITE request is an initial one",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 15,
      "text": "Table 4: Offer/Answer Glare Message Sequences",
      "ja": "表4：グレアメッセージシーケンスを提供/回答します"
    },
    {
      "indent": 0,
      "text": "4.3. Interworking of UPDATE and Re-INVITE",
      "section_title": true,
      "ja": "4.3. アップデートと再入力の相互作用"
    },
    {
      "indent": 3,
      "text": "Almost all exceptional cases are caused by an interworking of UPDATE and re-INVITE. The interworking is described in Section 5 of [RFC3311]. And UAC behavior sending an UPDATE is described in Section 5.1 of [RFC3311]. There are two concerns in this section:",
      "ja": "ほぼすべての例外的なケースは、更新と再入力の相互作用によって引き起こされます。インターワーキングは、[RFC3311]のセクション5で説明されています。更新を送信するUACの動作は、[RFC3311]のセクション5.1で説明されています。このセクションには2つの懸念があります。"
    },
    {
      "indent": 3,
      "text": "1. It seems to describe different rules for each of initial INVITE and re-INVITE. But there is no particular reason why the rules are separated. The lack of restrictions for sending a re-INVITE request cause a lot of problems shown in Section 4.1.",
      "ja": "1. 初期の招待と再入力のそれぞれについて、さまざまなルールを説明しているようです。しかし、ルールが分離されている理由はありません。再入手要求を送信するための制限がないため、セクション4.1に示されている多くの問題が発生します。"
    },
    {
      "indent": 3,
      "text": "2. It seems to describe that a UA may send an UPDATE request after sending or receiving a PRACK request. But it should be \"after PRACK transaction is completed by 2xx response\", because it causes the message-crossing case shown in Figure 6.",
      "ja": "2. Prackリクエストを送信または受信した後、UAが更新リクエストを送信する場合があると説明しているようです。ただし、図6に示すメッセージを交差するケースを引き起こすため、「プラックトランザクションが2xx応答によって完了した後」である必要があります。"
    },
    {
      "indent": 3,
      "text": "Since it is assumed that the language in this section itself is non-normative and is justified as a corollary of [RFC3261], we interpret it as follows:",
      "ja": "このセクションの言語自体は非規範的であり、[RFC3261]の結果として正当化されると想定されるため、次のように解釈します。"
    },
    {
      "indent": 3,
      "text": "UAC-II: While an INVITE transaction is incomplete or ACK transaction associated with an offer/answer is incomplete, a UA must not send another INVITE request.",
      "ja": "UAC-II：招待状のトランザクションは不完全またはACKトランザクションがオファー/回答に関連付けられていますが、UAは別の招待リクエストを送信してはなりません。"
    },
    {
      "indent": 3,
      "text": "UAC-UU: While an UPDATE transaction is incomplete, a UA must not send another UPDATE request.",
      "ja": "UAC-UU：更新トランザクションは不完全ですが、UAは別の更新リクエストを送信してはなりません。"
    },
    {
      "indent": 3,
      "text": "UAC-UI: While an UPDATE transaction is incomplete, a UA should not send a re-INVITE request.",
      "ja": "UAC-UI：アップデートトランザクションは不完全ですが、UAは再入札リクエストを送信する必要はありません。"
    },
    {
      "indent": 3,
      "text": "UAC-IU: While an INVITE transaction is incomplete, and an ACK or a PRACK transaction associated with an offer/answer is incomplete, a UA should not send an UPDATE request.",
      "ja": "UAC-IU：招待状のトランザクションは不完全であり、オファー/回答に関連付けられたACKまたはプラックトランザクションは不完全ですが、UAは更新リクエストを送信してはなりません。"
    },
    {
      "indent": 3,
      "text": "When a 2xx response to an INVITE includes an offer, the ACK transaction is considered to be associated with an offer/answer.",
      "ja": "招待への2xxの応答にオファーが含まれる場合、ACKトランザクションはオファー/回答に関連付けられていると見なされます。"
    },
    {
      "indent": 3,
      "text": "When a reliable provisional response to an INVITE includes an offer or an answer, the PRACK transaction is considered to be associated with an offer/answer.",
      "ja": "招待への信頼できる暫定的な対応がオファーまたは回答を含む場合、プラックトランザクションはオファー/回答に関連付けられていると見なされます。"
    },
    {
      "indent": 3,
      "text": "UAS behavior receiving an UPDATE is described in Section 5.2 of [RFC3311]. There are two concerns in this section:",
      "ja": "更新を受けるUASの動作は、[RFC3311]のセクション5.2で説明されています。このセクションには2つの懸念があります。"
    },
    {
      "indent": 3,
      "text": "1. There is no description about the interworking of an UPDATE request and an INVITE request without an offer.",
      "ja": "1. 更新リクエストのインターワーキングと、オファーなしの招待リクエストについての説明はありません。"
    },
    {
      "indent": 3,
      "text": "2. There is no description about the interworking of an UPDATE request and reliable response to an INVITE with an offer.",
      "ja": "2. 更新リクエストの相互作用と、オファーの招待への信頼できる応答についての説明はありません。"
    },
    {
      "indent": 3,
      "text": "We interpret this section as follows:",
      "ja": "このセクションを次のように解釈します。"
    },
    {
      "indent": 3,
      "text": "UAS-IcI: While an INVITE client transaction is incomplete or ACK transaction associated with an offer/answer is incomplete, a UA must reject another INVITE request with a 491 response.",
      "ja": "UAS-ICI：招待クライアントトランザクションは不完全またはACKトランザクションがオファー/回答に関連付けられていますが、UAは491の応答で別の招待リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "UAS-IsI: While an INVITE server transaction is incomplete or ACK transaction associated with an offer/answer is incomplete, a UA must reject another INVITE request with a 500 response.",
      "ja": "UAS-ISI：招待サーバートランザクションは不完全またはACKトランザクションがオファー/回答に関連付けられていますが、UAは500回の応答で別の招待リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "UAS-UcU: While an UPDATE client transaction is incomplete, a UA must reject another UPDATE request with a 491 response.",
      "ja": "UAS-UCU：更新クライアントトランザクションは不完全ですが、UAは491応答で別の更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "UAS-UsU: While an UPDATE server transaction is incomplete, a UA must reject another UPDATE request with a 500 response.",
      "ja": "UAS-USU：更新サーバートランザクションは不完全ですが、UAは500回の応答で別の更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "UAS-UcI: While an UPDATE client transaction is incomplete, a UA should reject a re-INVITE request with a 491 response.",
      "ja": "UAS-UCI：アップデートクライアントトランザクションは不完全ですが、UAは491の応答で再入札要求を拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "UAS-UsI: While an UPDATE server transaction is incomplete, a UA should reject a re-INVITE request with a 500 response.",
      "ja": "UAS-USI：更新サーバーのトランザクションは不完全ですが、UAは500回の応答で再入札要求を拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "UAS-IcU: While an INVITE client transaction is incomplete, and an ACK or a PRACK transaction associated with an offer/answer is incomplete, a UA should reject an UPDATE request with a 491 response.",
      "ja": "UAS-ICU：招待クライアントトランザクションは不完全であり、オファー/回答に関連付けられたACKまたはプラックトランザクションは不完全ですが、UAは491応答の更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "UAS-IsU: While an INVITE server transaction is incomplete, and an ACK or a PRACK transaction associated with an offer/answer is incomplete, a UA should reject an UPDATE request with a 500 response.",
      "ja": "UAS-ISU：招待サーバートランザクションは不完全であり、オファー/回答に関連付けられたACKまたはプラックトランザクションは不完全ですが、UAは500回の応答で更新リクエストを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "These rules are shown in following figures.",
      "ja": "これらのルールは、次の図に示されています。"
    },
    {
      "indent": 15,
      "text": "A                               B\n|                               |\n|                         UPDATE|\n|<------------------------------|\n|UPDATE                         |\n|==============================>|\n|                            491|\n|<==============================|\n|                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 12,
      "text": "Figure 14: Example of UAC-UU and UAS-UcU",
      "ja": "図14：UAC-UUおよびUAS-UCUの例"
    },
    {
      "indent": 15,
      "text": "A                               B\n|                               |\n|UPDATE CSeq:m                  |\n|------------------------------>|\n|UPDATE CSeq:n(>m)              |\n|==============================>|\n|            500 (UPDATE CSeq:n)|\n|<==============================|\n|                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 12,
      "text": "Figure 15: Example of UAC-UU and UAS-UsU",
      "ja": "図15：UAC-UUおよびUAS-USUの例"
    },
    {
      "indent": 15,
      "text": "A                               B\n|                               |\n|                 UPDATE(offer1)|\n|<------------------------------|\n|reINVITE(no offer)             |\n|==============================>|\n|                   491 (INVITE)|\n|<==============================|\n|                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 12,
      "text": "Figure 16: Example of UAC-UI and UAS-UcI",
      "ja": "図16：UAC-UIおよびUAS-UCIの例"
    },
    {
      "indent": 15,
      "text": "A                               B\n|                               |\n|UPDATE(offer1)                 |\n|------------------------------>|\n|reINVITE(no offer)             |\n|==============================>|\n|                   500 (INVITE)|\n|<==============================|\n|                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 12,
      "text": "Figure 17: Example of UAC-UU and UAS-UsI",
      "ja": "図17：UAC-UUおよびUAS-USIの例"
    },
    {
      "indent": 15,
      "text": "A                               B\n|                               |\n|             reINVITE(no offer)|\n|<------------------------------|\n|1xx-rel(offer0)                |\n|------------------------------>|\n|UPDATE(offer1)                 |\n|==============================>|\n|                   491 (UPDATE)|\n|<==============================|\n|                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 12,
      "text": "Figure 18: Example of UAC-IU and UAS-IcU",
      "ja": "図18：UAC-IUおよびUAS-ICUの例"
    },
    {
      "indent": 15,
      "text": "A                               B\n|                               |\n|reINVITE(no offer)             |\n|------------------------------>|\n|                1xx-rel(offer0)|\n|<------------------------------|\n|UPDATE(offer1)                 |\n|==============================>|\n|                   500 (UPDATE)|\n|<==============================|\n|                               |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 12,
      "text": "Figure 19: Example of UAC-IU and UAS-IsU",
      "ja": "図19：UAC-IUおよびUAS-ISUの例"
    },
    {
      "indent": 3,
      "text": "In addition, it is assumed that the UPDATE request in this section includes an offer. The interworking of a re-INVITE and an UPDATE without an offer is out of scope for this document.",
      "ja": "さらに、このセクションの更新リクエストにはオファーが含まれていると想定されています。このドキュメントでは、再インバイトとオファーのないアップデートの交流は範囲外です。"
    },
    {
      "indent": 0,
      "text": "5. Content of Offers and Answers",
      "section_title": true,
      "ja": "5. オファーと回答の内容"
    },
    {
      "indent": 3,
      "text": "While [RFC3264] and [RFC3312] give some guidance, questions remain about exactly what should be included in an offer or answer. This is especially a problem when the common \"hold\" feature has been activated, and when there is the potential for a multimedia call.",
      "ja": "[RFC3264]および[RFC3312]はいくつかのガイダンスを与えますが、申し出や回答に何を含めるべきかについての質問は残ります。これは、一般的な「保留」機能がアクティブになっている場合、およびマルチメディアコールの可能性がある場合に特に問題です。"
    },
    {
      "indent": 3,
      "text": "Details of behavior depend on the capabilities and state of the User Agent. The kinds of recommendations that can be made are limited by the model of device capabilities and state that is presumed to exist.",
      "ja": "動作の詳細は、ユーザーエージェントの機能と状態に依存します。作成できる推奨事項の種類は、存在すると推定されるデバイス機能と状態のモデルによって制限されます。"
    },
    {
      "indent": 3,
      "text": "This section focuses on a few key aspects of offers and answers that have been identified as troublesome, and will consider other aspects to be out of scope. This section considers:",
      "ja": "このセクションでは、厄介であると特定されたオファーと回答のいくつかの重要な側面に焦点を当てており、他の側面は範囲外であると考えます。このセクションでは、"
    },
    {
      "indent": 3,
      "text": "o choice of supported media types and formats to include and exclude",
      "ja": "o サポートされているメディアタイプとフォーマットの選択を含めて除外する"
    },
    {
      "indent": 3,
      "text": "o hold and resume of media",
      "ja": "o メディアの保持と履歴書"
    },
    {
      "indent": 3,
      "text": "The following are out of scope for this document:",
      "ja": "以下は、このドキュメントの範囲外です。"
    },
    {
      "indent": 3,
      "text": "o NAT traversal and Interactive Connectivity Establishment (ICE)",
      "ja": "o NATトラバーサルおよびインタラクティブ接続の確立（ICE）"
    },
    {
      "indent": 3,
      "text": "o specific codecs and their parameters",
      "ja": "o 特定のコーデックとそのパラメーター"
    },
    {
      "indent": 3,
      "text": "o the negotiation of secure media streams",
      "ja": "o 安全なメディアストリームの交渉"
    },
    {
      "indent": 3,
      "text": "o grouping of media streams",
      "ja": "o メディアストリームのグループ化"
    },
    {
      "indent": 3,
      "text": "o preconditions",
      "ja": "o 前提条件"
    },
    {
      "indent": 0,
      "text": "5.1. General Principle for Constructing Offers and Answers",
      "section_title": true,
      "ja": "5.1. オファーと回答を構築するための一般的な原則"
    },
    {
      "indent": 3,
      "text": "A UA should send an offer that indicates what it, and its user, are interested in using/doing at that time, without regard for what the other party in the call may have indicated previously. This is the case even when the offer is sent in response to an INVITE or re-INVITE that contains no offer. (However, in the case of re-INVITE, the constraints of [RFC3261] and [RFC3264] must be observed.)",
      "ja": "UAは、コールの他の当事者が以前に示したことを考慮せずに、それとそのユーザーがその時点で使用/実行することに関心があることを示すオファーを送信する必要があります。これは、申し出が含まれていない招待または再入札に応じてオファーが送信された場合でも当てはまります。（ただし、Re-Inviteの場合、[RFC3261]と[RFC3264]の制約を観察する必要があります。）"
    },
    {
      "indent": 3,
      "text": "A UA should send an answer that includes as close an approximation to what the UA and its user are interested in doing at that time, while remaining consistent with the offer/answer rules of [RFC3264] and other RFCs.",
      "ja": "UAは、[RFC3264]および他のRFCのオファー/回答ルールと一致しながら、UAとそのユーザーがその時点で行うことに関心があることの近似を含む回答を送信する必要があります。"
    },
    {
      "indent": 6,
      "text": "NOTE: \"at that time\" is important. The device may permit the user to configure which supported media are to be used by default.",
      "ja": "注：「その時点で」が重要です。このデバイスは、ユーザーがデフォルトで使用するサポートされているメディアを構成できるようにする場合があります。"
    },
    {
      "indent": 3,
      "text": "In some cases, a UA may not have direct knowledge of what it is interested in doing at a particular time. If it is an intermediary, it may be able to delegate the decision. In the worst case, it may apply a default, such as assuming it wants to use all of its capabilities.",
      "ja": "場合によっては、UAは特定の時間に何をすることに関心があるかについて直接的な知識を持っていない場合があります。それが仲介者の場合、決定を委任できるかもしれません。最悪の場合、すべての機能を使用したいと仮定するなど、デフォルトを適用する場合があります。"
    },
    {
      "indent": 0,
      "text": "5.2. Choice of Media Types and Formats to Include and Exclude",
      "section_title": true,
      "ja": "5.2. 含めると除外するメディアタイプとフォーマットの選択"
    },
    {
      "indent": 0,
      "text": "5.2.1. Sending an Initial INVITE with Offer",
      "section_title": true,
      "ja": "5.2.1. オファーで最初の招待状を送信します"
    },
    {
      "indent": 3,
      "text": "When a UAC sends an initial INVITE with an offer, it has complete freedom to choose which media type(s) and media format(s) (payload types in the case of RTP) it should include in the offer.",
      "ja": "UACが最初の招待状をオファーで送信すると、オファーに含める必要があるメディアタイプとメディア形式（RTPの場合のペイロードタイプ）を選択することができます。"
    },
    {
      "indent": 3,
      "text": "The media types may be all or a subset of the media the UAC is capable of supporting, with the particular subset being determined by the design and configuration (e.g., via [RFC6080]) of the UAC combined with input from the user interface of the UAC.",
      "ja": "メディアタイプは、UACがサポートできるメディアのすべてまたはサブセットである可能性があり、特定のサブセットは、UACの設計と構成（例：[RFC6080]を介して）によって決定され、UACのユーザーインターフェイスからの入力と組み合わされています。UAC。"
    },
    {
      "indent": 3,
      "text": "The media formats may be all or a subset of the media formats the UAC is capable of supporting for the corresponding media type, with the particular subset being determined by the design and configuration of the UAC combined with input from the user interface of the UAC.",
      "ja": "メディア形式はすべてまたはメディア形式のサブセットである場合があります。UACは対応するメディアタイプをサポートできます。特定のサブセットは、UACのユーザーインターフェイスからの入力と組み合わせたUACの設計と構成によって決定されます。"
    },
    {
      "indent": 3,
      "text": "Including all supported media formats will maximize the possibility that the other party will have a supported format in common. But including many can result in an unacceptably large SDP body.",
      "ja": "サポートされているすべてのメディア形式を含めると、相手が共通するサポート形式の形式を持つ可能性が最大化されます。しかし、多くの人を含めると、容認できないほど大きなSDPボディが生じる可能性があります。"
    },
    {
      "indent": 0,
      "text": "5.2.2. Responding with an Offer When the Initial INVITE Has No Offer",
      "section_title": true,
      "ja": "5.2.2. 最初の招待にオファーがないときにオファーで応答する"
    },
    {
      "indent": 3,
      "text": "When a UAS has received an initial INVITE without an offer, it must include an offer in the first reliable response to the INVITE. It has largely the same options as when sending an initial INVITE with an offer, but there are some differences. The choice may be governed by both static (default) selections of media types as well as dynamic selections made by a user via interaction with the device while it is alerting.",
      "ja": "UASがオファーなしで最初の招待状を受け取った場合、招待に対する最初の信頼できる応答にオファーを含める必要があります。オファーで最初の招待を送信するときとほぼ同じオプションがありますが、いくつかの違いがあります。選択は、メディアタイプの静的な（デフォルト）選択と、デバイスとの対話を介してユーザーが作成した動的選択の両方に準拠する場合があります。"
    },
    {
      "indent": 6,
      "text": "NOTE: The offer may be sent in a reliable provisional response, before the user of the device has been alerted and had an opportunity to select media options for the call. In this case, the UAS cannot include any call-specific options from the user of the device. If there is a possibility that the user of the device will wish to change what is offered before answering the call, then special care should be taken. If PRACK and UPDATE are supported by caller and callee then an initial offer can be sent reliably, and changed with an UPDATE if the user desires a change. If PRACK and UPDATE are not supported, then the initial offer cannot be changed until the call is fully established. In that case, the offer in a 200 response for the initial INVITE should include only the media types and formats believed to be acceptable to the user.",
      "ja": "注：デバイスのユーザーが警告を受け、通話のメディアオプションを選択する機会がある前に、オファーは信頼できる暫定的な応答で送信される場合があります。この場合、UASはデバイスのユーザーからの呼び出し固有のオプションを含めることはできません。デバイスのユーザーが通話に答える前に提供されるものを変更したい可能性がある場合は、特別な注意を払う必要があります。Prackと更新が発信者とCalleeによってサポートされている場合、初期オファーを確実に送信し、ユーザーが変更を望む場合は更新で変更できます。プラックと更新がサポートされていない場合、コールが完全に確立されるまで、最初のオファーを変更することはできません。その場合、最初の招待に対する200の応答でのオファーには、ユーザーが受け入れられると考えられるメディアタイプと形式のみを含める必要があります。"
    },
    {
      "indent": 0,
      "text": "5.2.3. Answering an Initial INVITE with Offer",
      "section_title": true,
      "ja": "5.2.3. オファーで最初の招待状に答える"
    },
    {
      "indent": 3,
      "text": "When a UAS receives an initial INVITE with an offer, what media lines the answer may contain is constrained by [RFC3264]. The answer must contain the same number of \"m=\" lines as the offer, and they must contain the same media types. Each media line may be accepted, by including a non-zero port number, or rejected by including a zero port number in the answer. The media lines that are accepted should typically be those with types and formats the UAS would have included if it were the offerer.",
      "ja": "UASがオファーで最初の招待状を受け取ると、答えに含まれるメディアラインは[RFC3264]によって制約されます。答えには、オファーと同じ数の「m =」行が含まれている必要があり、同じメディアタイプを含める必要があります。ゼロ以外のポート番号を含めることにより、各メディアラインは受け入れられるか、回答にゼロポート番号を含めることで拒否される場合があります。受け入れられているメディアラインは、通常、UASが提供者であった場合に含まれていたタイプとフォーマットを持つメディアラインでなければなりません。"
    },
    {
      "indent": 3,
      "text": "The media formats the answer may contain are constrained by [RFC3264]. For each accepted \"m=\" line in the answer, there must be at least one media format in common with the corresponding \"m=\" line of the offer. The UAS may also include other media formats it is able to support at this time. Doing so establishes an asymmetric media format situation, where these \"other\" media formats may only be sent from the offerer to the answerer. This asymmetric media situation is also limited because it cannot be sustained if there is a subsequent offer/answer exchange in the opposite direction. Also, there is limited value in including these other media formats because there is no assurance that the offerer will be able to use them.",
      "ja": "答えに含まれるメディア形式は、[RFC3264]によって制約されています。回答に受け入れられている各「m =」行について、対応する「m =」行と少なくとも1つのメディア形式が共通している必要があります。UASには、現時点でサポートできる他のメディア形式も含まれる場合があります。そうすることで、非対称のメディア形式の状況が確立されます。これらの「他の」メディア形式は、提供者から応答者にのみ送信される場合があります。この非対称のメディアの状況は、反対方向にその後の申し出/回答交換がある場合、維持できないため、制限されています。また、オファーがそれらを使用できるという保証がないため、これらの他のメディア形式を含めることには限られた価値があります。"
    },
    {
      "indent": 3,
      "text": "If the UAS does not wish to indicate support for any of the media types in a particular media line of the offer it must reject the corresponding media line, by setting the port number to zero.",
      "ja": "UASが、オファーの特定のメディアラインにあるメディアタイプのいずれかのサポートを示したくない場合、ポート番号をゼロに設定することにより、対応するメディアラインを拒否する必要があります。"
    },
    {
      "indent": 3,
      "text": "When the UAS wishes to reject all of the media lines in the offer, it may send a 488 failure response. Alternatively, it may send a reliable non-failure response including all media lines with port numbers set to zero.",
      "ja": "UASがオファー内のすべてのメディアラインを拒否したい場合、488の失敗応答を送信する場合があります。あるいは、ポート番号がゼロに設定されたすべてのメディアラインを含む信頼性の高い非故障応答を送信する場合があります。"
    },
    {
      "indent": 0,
      "text": "5.2.4. Answering When the Initial INVITE Had No Offer",
      "section_title": true,
      "ja": "5.2.4. 最初の招待には申し出がなかったときに答える"
    },
    {
      "indent": 3,
      "text": "When a UAC has sent an initial INVITE without an offer, and then receives a response with the first offer, it should answer in the same way as a UAS receiving an initial INVITE with an offer.",
      "ja": "UACがオファーなしで最初の招待状を送信し、最初のオファーで応答を受け取った場合、UASがオファーで最初の招待状を受け取るのと同じように答える必要があります。"
    },
    {
      "indent": 3,
      "text": "Because the offer arrives in a response to the INVITE, the UAC cannot reject the message containing the offer. If the UAC wishes to reject the entire offer, it must send a PRACK or ACK request including all the media lines with ports set to zero. Then, if it does not wish to continue the session, it may send a CANCEL or BYE request to terminate the dialog.",
      "ja": "オファーは招待に応答して到着するため、UACはオファーを含むメッセージを拒否することはできません。UACがオファー全体を拒否したい場合、ポートがゼロに設定されたすべてのメディアラインを含むプラックまたはACKリクエストを送信する必要があります。次に、セッションを続行したくない場合は、ダイアログを終了するためにキャンセルまたはバイのリクエストを送信する場合があります。"
    },
    {
      "indent": 0,
      "text": "5.2.5. Subsequent Offers and Answers",
      "section_title": true,
      "ja": "5.2.5. その後のオファーと回答"
    },
    {
      "indent": 3,
      "text": "The guidelines above (Sections 5.1 and 5.2.1 through Section 5.2.4) apply, but constraints in [RFC3264] must also be followed. The following are of particular note because they have proven troublesome:",
      "ja": "上記のガイドライン（セクション5.1および5.2.1からセクション5.2.4）が適用されますが、[RFC3264]の制約にも従う必要があります。以下は、問題があることが証明されているため、特に注意してください。"
    },
    {
      "indent": 3,
      "text": "o The number of \"m=\" lines may not be reduced in a subsequent offer. Previously rejected media streams must remain, or be reused to offer the same or a different stream. (Section 6 of [RFC3264].)",
      "ja": "o 「m =」行の数は、後続のオファーでは削減されない場合があります。以前に拒否されたメディアストリームは、同じまたは異なるストリームを提供するために再利用するか、再利用する必要があります。（[RFC3264]のセクション6。）"
    },
    {
      "indent": 3,
      "text": "o In the \"o=\" line, only the version number may change, and if it changes, it must increment by one from the one previously sent as an offer or answer. (Section 8 of [RFC3264].) If it doesn't change, then the entire SDP body must be identical to what was previously sent as an offer or answer. Changing the \"o=\" line, except version number value, during the session is an error case. The behavior when receiving such a non-compliant offer/answer SDP body is implementation dependent. If a UA needs to negotiate a 'new' SDP session, it should use the INVITE/Replaces method.",
      "ja": "o 「o =」行では、バージョン番号のみが変更される可能性があり、それが変更された場合、以前に送信されたものから1つずつ増加する必要があります。（[RFC3264]のセクション8。）変更されない場合、SDPボディ全体が以前にオファーまたは回答として送信されたものと同一でなければなりません。セッション中にバージョン番号値を除く「o =」行を変更することはエラーケースです。このような非準拠のオファー/回答SDPボディを受け取るときの動作は、実装に依存します。UAが「新しい」SDPセッションをネゴシエートする必要がある場合、Invite/交換メソッドを使用する必要があります。"
    },
    {
      "indent": 3,
      "text": "o In the case of RTP, the mapping from a particular dynamic payload type number to a particular codec within that media stream (\"m=\" line) must not change for the duration of the session. (Section 8.3.2 of [RFC3264].)",
      "ja": "o RTPの場合、特定の動的なペイロードタイプ番号からそのメディアストリーム内の特定のコーデック（ \"m =\"行）へのマッピングは、セッション中に変更してはなりません。（[RFC3264]のセクション8.3.2。）"
    },
    {
      "indent": 9,
      "text": "NOTE: This may be impossible for a back-to-back user agent (B2BUA) to follow in some cases (e.g., 3PCC transfer) if it does not terminate media.",
      "ja": "注：これは、メディアを終了しない場合、連続したユーザーエージェント（B2BUA）が場合によっては（3PCC転送など）に従うことが不可能な場合があります。"
    },
    {
      "indent": 3,
      "text": "When the new offer is sent in response to an offerless (re-)INVITE, it should be constructed according to the General Principle for Constructing Offers and Answers (Section 5.1 ): all codecs the UA is currently willing and able to use should be included, not just the ones that were negotiated by previous offer/answer exchanges. The same is true for media types -- so if UA A initially offered audio and video to UA B, and they end up with only audio, and UA B sends an offerless (re-)INVITE to UA A, A's resulting offer should most likely re-attempt video, by reusing the zeroed \"m=\" line used previously.",
      "ja": "オファーレス（再）招待に応じて新しいオファーが送信される場合、オファーと回答を構築するための一般原則に従って構築する必要があります（セクション5.1）：UAが現在喜んで使用できるコーデックを含める必要があります、以前の申し出/回答の交換によって交渉されたものだけではありません。メディアタイプにも同じことが言えます。したがって、UA Aが最初にUA Bにオーディオとビデオを提供し、オーディオのみになり、UA BがUA Aに提供されない（再）招待します。以前に使用されていたゼロの「m =」行を再利用することにより、再emptemptビデオの可能性があります。"
    },
    {
      "indent": 6,
      "text": "NOTE: The behavior above is recommended, but it is not always achievable, for example, in some interworking scenarios. Or, the offerer may simply not have enough resources to offer \"everything\" at that point. Even if the UAS is not able to offer any other SDP that the one currently being used, it should not reject the re-INVITE. Instead, it should generate an offer with the currently used SDP with \"o=\" line unchanged.",
      "ja": "注：上記の動作は推奨されますが、たとえば一部のインターワーキングシナリオでは、常に達成可能ではありません。または、提供者は、その時点で「すべて」を提供するのに十分なリソースを持っていない場合があります。UASが現在使用されている他のSDPを提供できなくても、再視力を拒否すべきではありません。代わりに、現在使用されているSDPで「o =」行が変更されていないオファーを生成する必要があります。"
    },
    {
      "indent": 0,
      "text": "5.3. Hold and Resume of Media",
      "section_title": true,
      "ja": "5.3. メディアの保持と履歴書"
    },
    {
      "indent": 3,
      "text": "[RFC3264] specifies (using non-normative language) that \"hold\" should be indicated in an established session by sending a new offer containing \"a=sendonly\" attribute for each media stream to be held. An answerer is then to respond with \"a=recvonly\" attribute to acknowledge that the hold request has been understood.",
      "ja": "[RFC3264]は、[保持]セッションで「保留」を確立されたセッションで示す必要があることを（非規範的な言語を使用して）指定します。回答者は、「a = recvonly」属性で応答して、ホールド要求が理解されていることを認めます。"
    },
    {
      "indent": 3,
      "text": "Note that the use of sendonly/recvonly is not limited to hold. These may be used for other reasons, such as devices that are only capable of sending or receiving. So receiving an offer with \"a=sendonly\" attribute must not be treated as a certain indication that the offerer has placed the media stream on hold.",
      "ja": "Sendonly/Recvonlyの使用は保持に限定されないことに注意してください。これらは、送信または受信のみが可能なデバイスなど、他の理由で使用できます。したがって、「a = sendonly」属性でオファーを受け取ることは、オファーがメディアストリームを保留にしたという特定の兆候として扱われてはなりません。"
    },
    {
      "indent": 3,
      "text": "This model is based on an assumption that the UA initiating the hold will want to play Music on Hold, which is not always the case. A UA may, if desired, initiate hold by offering \"a=inactive\" attribute if it does not intend to transmit any media while in hold status.",
      "ja": "このモデルは、ホールドを開始するUAが保留に音楽を再生したいという仮定に基づいていますが、これは必ずしもそうではありません。UAは、必要に応じて、保留ステータス中にメディアを送信するつもりがない場合、「a =非アクティブ」属性を提供することにより、ホールドを開始することができます。"
    },
    {
      "indent": 3,
      "text": "The rules of [RFC3264] constrain what may be in an answer when the offer contains \"sendonly\", \"recvonly\", or \"inactive\" in an \"a=\" line. But they do not constrain what must be in a subsequent offer. The \"General Principle for Constructing Offers and Answers\" (Section 5.1) is important here. The initiation of \"hold\" is a local action. It should reflect the desired state of the UA. It then affects what the UA includes in offers and answers until the local state is reset.",
      "ja": "[RFC3264]のルールは、オファーに「sendonly」、「recvonly」、または「非アクティブ」が「a =」行に「非アクティブ」が含まれている場合に、答えにあるものを制約します。しかし、彼らはその後の申し出に何がなければならないのかを制約しません。ここでは、「オファーと回答を構築するための一般原則」（セクション5.1）が重要です。「ホールド」の開始はローカルアクションです。UAの望ましい状態を反映する必要があります。次に、地方の状態がリセットされるまで、UAにオファーと回答に含まれるものに影響します。"
    },
    {
      "indent": 3,
      "text": "The receipt of an offer containing \"a=sendonly\" attribute or \"a=inactive\" attribute and the sending of a compatible answer should not change the desired state of the recipient. However, a UA that has been \"placed on hold\" may itself desire to initiate its own hold status, based on local input.",
      "ja": "「a = sendonly」属性または「a = inactive」属性を含むオファーの受領と互換性のある回答の送信は、受信者の目的の状態を変更してはなりません。ただし、「保留にされた」UA自体が、ローカルの入力に基づいて、独自の保留ステータスを開始したい場合があります。"
    },
    {
      "indent": 3,
      "text": "If UA2 has previously been \"placed on hold\" by UA1, via receipt of \"a=sendonly\" attribute, then it may initiate its own hold by sending a new offer containing \"a=sendonly\" attribute to UA1. Upon receipt of that, UA1 will answer with \"a=inactive\" attribute because that is the only valid answer that reflects its desire not to receive media.",
      "ja": "UA2が以前にUA1によって「保留にされた」場合、「a = sendonly」属性の受領を介して、ua1に「sendonly」属性を含む新しいオファーを送信することで独自の保留を開始する場合があります。それを受け取ると、UA1はメディアを受け取らないという欲求を反映する唯一の有効な答えであるため、「a = inactive」属性で答えます。"
    },
    {
      "indent": 6,
      "text": "NOTE: Section 8.4 of [RFC3264] contains a conflicting recommendation that the offer contain \"a=inactive\" attribute in this case. We interpret that recommendation to be non-normative. The use of \"a=sendonly\" attribute in this case will never produce a worse outcome, and can produce a better outcome in useful cases.",
      "ja": "注：[RFC3264]のセクション8.4には、この場合、オファーに「a =非アクティブ」属性が含まれているという矛盾する推奨事項が含まれています。私たちは、その推奨事項を非規範的であると解釈します。この場合の「a = sendonly」属性の使用は、より悪い結果を生み出すことは決してなく、有用な場合により良い結果をもたらすことができます。"
    },
    {
      "indent": 3,
      "text": "Once in this state, to resume a two-way exchange of media, each side must reset its local hold status. If UA1 is first to go off hold, it will then send an offer with \"a=sendrecv\" attribute. The UA2 will respond with its desired state of \"a=sendonly\" attribute because that is a permitted response. When UA2 desires to also resume, it will send an offer with \"a=sendrecv\" attribute. In this case, because UA1 has the same desire it will respond with \"a=sendrecv\" attribute. In the same case, when UA2 receives the offer with \"a=sendrecv\" attribute, if it has decided it wants to reset its local hold but has not yet signaled the intent, it may send \"a=sendrecv\" attribute in the answer.",
      "ja": "この状態で、メディアの双方向交換を再開するには、各側がローカルホールドステータスをリセットする必要があります。UA1が最初にオフになっている場合、「A = SendRecv」属性でオファーを送信します。UA2は、許可された応答であるため、「a = sendonly」属性の目的の状態で応答します。UA2が再開したい場合、「a = sendrecv」属性でオファーを送信します。この場合、UA1には同じ要望があるため、「a = sendrecv」属性で応答します。同じケースでは、UA2が「a = sendrecv」属性でオファーを受け取ると、ローカルホールドをリセットしたいが、まだ意図を合図していない場合、回答に「a = sendrecv」属性を送信する場合があります。"
    },
    {
      "indent": 3,
      "text": "If UA2 has been \"placed on hold\" by UA1 via receipt of \"a=inactive\" attribute, and subsequently wants to initiate its own hold, also using \"a=inactive\" attribute, it need not send a new offer, since the only valid response is \"a=inactive\" attribute and that is already in effect. However, its local desired state will now be either \"inactive\" or \"a=sendonly\" attribute. This affects what it will send in future offers and answers.",
      "ja": "UA2が「a = inactive」属性を受信してUA1によって「保留にされた」場合、その後、「a = inactive」属性を使用して独自のホールドを開始したい場合、唯一のものであるため、新しいオファーを送信する必要はありません。有効な応答は「a = unactive」属性であり、それはすでに有効です。ただし、そのローカルな希望の状態は、「非アクティブ」または「a = sendonly」属性のいずれかになります。これは、将来のオファーと回答で送信するものに影響します。"
    },
    {
      "indent": 3,
      "text": "If a UA has occasion to send another offer in the session, without any desire to change the hold status (e.g., in response to a re-INVITE without an offer, or when sending a re-INVITE to refresh the session timer), it should follow the \"General Principle for Constructing Offers and Answers\" (Section 5.1). If it previously initiated a \"hold\" by sending \"a=sendonly\" attribute or \"a=inactive\" attribute, then it should offer that again. If it had not previously initiated \"hold\", then it should offer \"a=sendrecv\" attribute, even",
      "ja": "UAがセッションで別のオファーを送信する機会がある場合、保留ステータスを変更したい場合（たとえば、オファーなしの再審査済みに応じて、またはセッションタイマーを更新するために再インベティを送信するとき）「オファーと回答を構築するための一般原則」（セクション5.1）に従う必要があります。以前に「a = sendonly」属性または「a = inactive」属性を送信して「保留」を開始した場合、それを再度提供するはずです。以前に「保留」を開始していなかった場合、「a = sendrecv」属性を提供する必要があります。"
    },
    {
      "indent": 3,
      "text": "if it had previously been forced to answer something else. Without this behavior it is possible to get \"stuck on hold\" in some cases, especially when a 3pcc is involved.",
      "ja": "以前に何か他のものに答えることを余儀なくされていた場合。この動作がなければ、特に3PCCが関与している場合は、場合によっては「保留中に立ち往生」することができます。"
    },
    {
      "indent": 0,
      "text": "5.4. Behavior on Receiving SDP with c=0.0.0.0",
      "section_title": true,
      "ja": "5.4. C = 0.0.0.0でSDPを受信する挙動"
    },
    {
      "indent": 3,
      "text": "[RFC3264] requires that an agent be capable of receiving SDP with a connection address of 0.0.0.0, in which case it means that neither RTP nor RTCP should be sent to the peer.",
      "ja": "[RFC3264]は、エージェントが0.0.0.0の接続アドレスでSDPを受信できることを要求しています。その場合、RTPもRTCPもピアに送信する必要はありません。"
    },
    {
      "indent": 3,
      "text": "If a UA generates an answer to the offer received with \"c=IN IP4 0.0.0.0\", the direction attribute of the accepted media stream in the answer must still be based on direction attribute of the offered stream and rules specified in [RFC3264] to form the direction \"a=\" line in the answer. There is no clear rule about the use of \"c=IN IP4 0.0.0.0\" in the answer; it may be used or \"c=\" line with a valid IP address may be used. RTP/RTCP will not be sent toward an address of 0.0.0.0 because it is an invalid address.",
      "ja": "UAが「C = in IP4 0.0.0.0」で受信されたオファーへの回答を生成する場合、回答の受け入れられたメディアストリームの方向属性は、[RFC3264]で指定された提供されたストリームとルールの方向属性に基づいている必要があります。答えの方向「a =」行を形成します。答えに「C = In IP4 0.0.0.0」の使用について明確なルールはありません。使用するか、有効なIPアドレスを備えた「c =」行を使用できます。RTP/RTCPは、無効なアドレスであるため、0.0.0.0のアドレスに送られません。"
    },
    {
      "indent": 0,
      "text": "6. Security Considerations",
      "section_title": true,
      "ja": "6. セキュリティに関する考慮事項"
    },
    {
      "indent": 3,
      "text": "This document clarifies ambiguities in the intended behavior of the two SIP User Agents engaged in a dialog. The primary specification of offer/answer behavior that is being clarified resides in [RFC3261] and [RFC3264], with extensions in [RFC3311], [RFC3312], and [RFC6141]. The focus of this document is on cases where ambiguities can result failed or degraded calls when there is no attacker. The clarifications exclude call flows that lead to difficulties, without legitimizing any formerly invalid call flows. Thus, the security considerations of the above mentioned documents continue to apply and need not be extended to handle any additional cases.",
      "ja": "このドキュメントは、ダイアログに従事した2つのSIPユーザーエージェントの意図した動作の曖昧さを明確にします。明確にされているオファー/回答行動の主要な仕様は、[RFC3261]および[RFC3264]にあり、[RFC3311]、[RFC3312]、および[RFC6141]に拡張があります。このドキュメントの焦点は、攻撃者がいないときに曖昧さが失敗または劣化した呼び出しを引き起こす可能性がある場合です。明確化は、以前の無効なコールフローを正当化することなく、困難につながるコールフローを除外します。したがって、上記のドキュメントのセキュリティ上の考慮事項は引き続き適用され続け、追加のケースを処理するために拡張する必要はありません。"
    },
    {
      "indent": 3,
      "text": "The offer/answer process can be disrupted in numerous ways by an attacker. SIP provides mechanisms to protect the offer/answer exchange from tampering by third parties. Of note is \"Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP)\" [RFC4474], as well as Section 26.3.2, \"Security Solutions\", of [RFC3261].",
      "ja": "オファー/回答プロセスは、攻撃者によってさまざまな方法で混乱する可能性があります。SIPは、サードパーティによる改ざんから申し出/回答の交換を保護するメカニズムを提供します。注目すべきは、[RFC3261]のセクション26.3.2「セキュリティソリューション」と同様に、「セッション開始プロトコル（SIP）における認証されたアイデンティティ管理の強化」[RFC4474]です。"
    },
    {
      "indent": 0,
      "text": "7. Acknowledgements",
      "section_title": true,
      "ja": "7. 謝辞"
    },
    {
      "indent": 3,
      "text": "The authors would like to thank Christer Holmberg, Rajeev Seth, Nataraju A B, Byron Campen, Jonathan Rosenberg, Gonzalo Camarillo, and Gao Yang for their thorough reviews and comments. Many of their suggestions and ideas have been incorporated in this document.",
      "ja": "著者は、Christer Holmberg、Rajeev Seth、Nataraju A B、Byron Campen、Jonathan Rosenberg、Gonzalo Camarillo、Gao Yangに徹底的なレビューとコメントに感謝します。彼らの提案とアイデアの多くは、この文書に組み込まれています。"
    },
    {
      "indent": 0,
      "text": "8. References",
      "section_title": true,
      "ja": "8. 参考文献"
    },
    {
      "indent": 0,
      "text": "8.1. Normative References",
      "section_title": true,
      "ja": "8.1. 引用文献"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, March 1997.",
      "ja": "[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するためのキーワード」、BCP 14、RFC 2119、1997年3月。"
    },
    {
      "indent": 3,
      "text": "[RFC3261] Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, \"SIP: Session Initiation Protocol\", RFC 3261, June 2002.",
      "ja": "[RFC3261] Rosenberg、J.、Schulzrinne、H.、Camarillo、G.、Johnston、A.、Peterson、J.、Sparks、R.、Handley、M。、およびE. Schooler、「SIP：SESSION INTIANIATION Protocol」、RFC 3261、2002年6月。"
    },
    {
      "indent": 3,
      "text": "[RFC3262] Rosenberg, J. and H. Schulzrinne, \"Reliability of Provisional Responses in Session Initiation Protocol (SIP)\", RFC 3262, June 2002.",
      "ja": "[RFC3262] Rosenberg、J。およびH. Schulzrinne、「セッション開始プロトコル（SIP）における暫定応答の信頼性」、RFC 3262、2002年6月。"
    },
    {
      "indent": 3,
      "text": "[RFC3264] Rosenberg, J. and H. Schulzrinne, \"An Offer/Answer Model with Session Description Protocol (SDP)\", RFC 3264, June 2002.",
      "ja": "[RFC3264] Rosenberg、J。およびH. Schulzrinne、「セッション説明プロトコル（SDP）のオファー/回答モデル」、RFC 3264、2002年6月。"
    },
    {
      "indent": 3,
      "text": "[RFC3311] Rosenberg, J., \"The Session Initiation Protocol (SIP) UPDATE Method\", RFC 3311, October 2002.",
      "ja": "[RFC3311] Rosenberg、J。、「セッション開始プロトコル（SIP）更新方法」、RFC 3311、2002年10月。"
    },
    {
      "indent": 3,
      "text": "[RFC3312] Camarillo, G., Marshall, W., and J. Rosenberg, \"Integration of Resource Management and Session Initiation Protocol (SIP)\", RFC 3312, October 2002.",
      "ja": "[RFC3312] Camarillo、G.、Marshall、W。、およびJ. Rosenberg、「リソース管理とセッション開始プロトコルの統合（SIP）」、RFC 3312、2002年10月。"
    },
    {
      "indent": 3,
      "text": "[RFC4566] Handley, M., Jacobson, V., and C. Perkins, \"SDP: Session Description Protocol\", RFC 4566, July 2006.",
      "ja": "[RFC4566] Handley、M.、Jacobson、V。、およびC. Perkins、「SDP：セッション説明プロトコル」、RFC 4566、2006年7月。"
    },
    {
      "indent": 3,
      "text": "[RFC6141] Camarillo, G., Holmberg, C., and Y. Gao, \"Re-INVITE and Target-Refresh Request Handling in the Session Initiation Protocol (SIP)\", RFC 6141, March 2011.",
      "ja": "[RFC6141] Camarillo、G.、Holmberg、C。、およびY. Gao、「セッション開始プロトコル（SIP）での再銀行とターゲットリフレッシュリクエスト処理」、RFC 6141、2011年3月。"
    },
    {
      "indent": 0,
      "text": "8.2. Informative References",
      "section_title": true,
      "ja": "8.2. 参考引用"
    },
    {
      "indent": 3,
      "text": "[RFC3725] Rosenberg, J., Peterson, J., Schulzrinne, H., and G. Camarillo, \"Best Current Practices for Third Party Call Control (3pcc) in the Session Initiation Protocol (SIP)\", BCP 85, RFC 3725, April 2004.",
      "ja": "[RFC3725] Rosenberg、J.、Peterson、J.、Schulzrinne、H.、およびG. Camarillo、「セッション開始プロトコル（SIP）のサードパーティコールコントロール（3PCC）の最良の現在のプラクティス」、BCP 85、RFC 3725、2004年4月。"
    },
    {
      "indent": 3,
      "text": "[RFC3959] Camarillo, G., \"The Early Session Disposition Type for the Session Initiation Protocol (SIP)\", RFC 3959, December 2004.",
      "ja": "[RFC3959] Camarillo、G。、「セッション開始プロトコル（SIP）の初期セッション処分タイプ」、RFC 3959、2004年12月。"
    },
    {
      "indent": 3,
      "text": "[RFC4474] Peterson, J. and C. Jennings, \"Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP)\", RFC 4474, August 2006.",
      "ja": "[RFC4474] Peterson、J。and C. Jennings、「セッション開始プロトコル（SIP）における認証されたアイデンティティ管理の強化」、RFC 4474、2006年8月。"
    },
    {
      "indent": 3,
      "text": "[RFC6080] Petrie, D. and S. Channabasappa, \"A Framework for Session Initiation Protocol User Agent Profile Delivery\", RFC 6080, March 2011.",
      "ja": "[RFC6080] Petrie、D。およびS. Channabasappa、「セッション開始プロトコルユーザーエージェントプロファイル配信のフレームワーク」、RFC 6080、2011年3月。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "OKUMURA Shinji Softfront 28-196, Noth9, West15, Chuo-ku Sapporo, Hokkaido 060-0009 Japan",
      "ja": "沖umura Softfront 28-196、Noth9、West15、Chuo-Ku Sapporo、北海道060-0009日本"
    },
    {
      "indent": 3,
      "text": "EMail: shinji.okumura@softfront.jp",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Takuya Sawada KDDI Corporation 3-10-10, Iidabashi, Chiyoda-ku Tokyo Japan",
      "ja": "タクヤササダKddi Corporation 3-10-10、Iidabashi、Chiyoda-Ku Tokyo Japan"
    },
    {
      "indent": 3,
      "text": "EMail: tu-sawada@kddi.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Paul H. Kyzivat Hudson, MA 01749 USA",
      "ja": "Paul H. Kyzivat Hudson、MA 01749 USA"
    },
    {
      "indent": 3,
      "text": "EMail: pkyzivat@alum.mit.edu",
      "raw": true,
      "ja": ""
    }
  ]
}