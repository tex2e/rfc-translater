{
  "title": {
    "text": "RFC 9715 - IP Fragmentation Avoidance in DNS over UDP",
    "ja": "RFC 9715 - UDPを介したDNSのIPフラグメンテーション回避"
  },
  "number": 9715,
  "created_at": "2025-01-30 23:24:06.339229+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                       K. Fujiwara\nRequest for Comments: 9715                                          JPRS\nCategory: Informational                                         P. Vixie\nISSN: 2070-1721                                             AWS Security\n                                                            January 2025",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "IP Fragmentation Avoidance in DNS over UDP",
      "section_title": true,
      "ja": "UDPを介したDNSのIPフラグメンテーション回避"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "section_title": true,
      "ja": "概要"
    },
    {
      "indent": 3,
      "text": "The widely deployed Extension Mechanisms for DNS (EDNS(0)) feature in the DNS enables a DNS receiver to indicate its received UDP message size capacity, which supports the sending of large UDP responses by a DNS server. Large DNS/UDP messages are more likely to be fragmented, and IP fragmentation has exposed weaknesses in application protocols. It is possible to avoid IP fragmentation in DNS by limiting the response size where possible and signaling the need to upgrade from UDP to TCP transport where necessary. This document describes techniques to avoid IP fragmentation in DNS.",
      "ja": "DNSのDNS（EDNS（0））機能の広く展開されている拡張メカニズムにより、DNSレシーバーは、DNSサーバーによる大規模なUDP応答の送信をサポートする受信したUDPメッセージサイズ容量を示すことができます。大規模なDNS/UDPメッセージは断片化される可能性が高く、IPの断片化によりアプリケーションプロトコルの弱点が明らかになりました。可能な限り応答サイズを制限し、必要に応じてUDPからTCP輸送にアップグレードする必要性を示すことにより、DNSのIP断片化を回避することができます。このドキュメントでは、DNSのIP断片化を回避する手法について説明しています。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "section_title": true,
      "ja": "本文書の位置付け"
    },
    {
      "indent": 3,
      "text": "This document is not an Internet Standards Track specification; it is published for informational purposes.",
      "ja": "このドキュメントは、インターネット標準の追跡仕様ではありません。情報目的で公開されています。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Not all documents approved by the IESG are candidates for any level of Internet Standard; see Section 2 of RFC 7841.",
      "ja": "このドキュメントは、インターネットエンジニアリングタスクフォース（IETF）の製品です。IETFコミュニティのコンセンサスを表しています。公開レビューを受けており、インターネットエンジニアリングステアリンググループ（IESG）からの出版が承認されています。IESGによって承認されたすべてのドキュメントが、インターネット標準のあらゆるレベルの候補者であるわけではありません。RFC 7841のセクション2を参照してください。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at https://www.rfc-editor.org/info/rfc9715.",
      "ja": "このドキュメントの現在のステータス、任意のERRATA、およびそのフィードバックを提供する方法に関する情報は、https://www.rfc-editor.org/info/rfc9715で取得できます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "section_title": true,
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2025 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "著作権（c）2025 IETF Trustおよび文書著者として特定された人。無断転載を禁じます。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Revised BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Revised BSD License.",
      "ja": "このドキュメントは、BCP 78およびIETFドキュメント（https://trustee.ietf.org/license-info）に関連するIETF Trustの法的規定の対象となります。この文書に関するあなたの権利と制限を説明するので、これらの文書を注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、セクション4.Eで説明されている法的規定のセクション4.Eで説明されており、改訂されたBSDライセンスで説明されている保証なしで提供されるように、改訂されたBSDライセンステキストを含める必要があります。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "section_title": true,
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1.  Introduction\n2.  Terminology\n3.  How to Avoid IP Fragmentation in DNS\n  3.1.  Proposed Recommendations for UDP Responders\n  3.2.  Proposed Recommendations for UDP Requestors\n4.  Proposed Recommendations for DNS Operators\n5.  Protocol Compliance Considerations\n6.  IANA Considerations\n7.  Security Considerations\n  7.1.  On-Path Fragmentation on IPv4\n  7.2.  Small MTU Network\n  7.3.  Weaknesses of IP Fragmentation\n  7.4.  DNS Security Protections\n  7.5.  Possible Actions for Resolver Operators\n8.  References\n  8.1.  Normative References\n  8.2.  Informative References\nAppendix A.  Details of Requestor's Maximum UDP Payload Size\n        Discussions\nAppendix B.  Minimal Responses\nAppendix C.  Known Implementations\n  C.1.  BIND 9\n  C.2.  Knot DNS and Knot Resolver\n  C.3.  PowerDNS Authoritative Server, PowerDNS Recursor, and\n          PowerDNS dnsdist\n  C.4.  PowerDNS Authoritative Server\n  C.5.  Unbound\n  Acknowledgments\nAuthors' Addresses",
      "raw": true,
      "toc": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1. はじめに"
    },
    {
      "indent": 3,
      "text": "This document was originally intended to be a Best Current Practice, but due to operating system and socket option limitations, some of the recommendations have not yet gained real-world experience; therefore, this document is Informational. It is expected that, as operating systems and implementations evolve, we will gain more experience with the recommendations and will publish an updated document as a Best Current Practice in the future.",
      "ja": "このドキュメントはもともと、現在の最良のプラクティスになることを目的としていましたが、オペレーティングシステムとソケットオプションの制限により、推奨事項の一部はまだ実際の経験を獲得していません。したがって、このドキュメントは情報提供です。オペレーティングシステムと実装が進化するにつれて、推奨事項の経験を増やし、将来の最良の現在の実践として更新されたドキュメントを公開することが期待されています。"
    },
    {
      "indent": 3,
      "text": "DNS has an EDNS(0) mechanism [RFC6891]. The widely deployed EDNS(0) feature in the DNS enables a DNS receiver to indicate its received UDP message size capacity, which supports the sending of large UDP responses by a DNS server. DNS over UDP invites IP fragmentation when a packet is larger than the Maximum Transmission Unit (MTU) of some network in the packet's path.",
      "ja": "DNSにはEDNS（0）メカニズムがあります[RFC6891]。DNSの広く展開されているEDN（0）機能により、DNSレシーバーは、DNSサーバーによる大規模なUDP応答の送信をサポートする受信したUDPメッセージサイズ容量を示すことができます。UDPを介したDNSは、パケットのパス内の一部のネットワークの最大送信ユニット（MTU）よりも大きい場合、IPフラグメンテーションを招きます。"
    },
    {
      "indent": 3,
      "text": "Fragmented DNS UDP responses have systemic weaknesses, which expose the requestor to DNS cache poisoning from off-path attackers (see Section 7.3 for references and details).",
      "ja": "断片化されたDNS UDP応答には全身的な弱点があり、これにより、要求者はPath攻撃者からのDNSキャッシュ中毒にさらされます（参考文献と詳細についてはセクション7.3を参照）。"
    },
    {
      "indent": 3,
      "text": "[RFC8900] states that IP fragmentation introduces fragility to Internet communication. The transport of DNS messages over UDP should take account of the observations stated in that document.",
      "ja": "[RFC8900]は、IPの断片化がインターネット通信に脆弱性をもたらすと述べています。UDPを介したDNSメッセージの輸送は、その文書に記載されている観察結果を考慮する必要があります。"
    },
    {
      "indent": 3,
      "text": "TCP avoids fragmentation by segmenting data into packets that are smaller than or equal to the Maximum Segment Size (MSS). For each transmitted segment, the size of the IP and TCP headers is known, and the IP packet size can be chosen to keep it within the estimated MTU and the MSS. This takes advantage of the elasticity of the TCP's packetizing process, depending on how much queued data will fit into the next segment. In contrast, DNS over UDP has little datagram size elasticity and lacks insight into IP header and option size, so we must make more conservative estimates about available UDP payload space.",
      "ja": "TCPは、最大セグメントサイズ（MSS）以下のパケットにデータをセグメント化することにより、断片化を回避します。送信された各セグメントについて、IPヘッダーとTCPヘッダーのサイズが既知であり、IPパケットサイズを選択して、推定MTUおよびMSS内に保持することができます。これは、次のセグメントに適合するキュー化されたデータの量に応じて、TCPのパケット化プロセスの弾力性を利用します。対照的に、UDPのDNSにはデータグラムのサイズの弾力性がほとんどなく、IPヘッダーとオプションサイズに関する洞察がないため、利用可能なUDPペイロードスペースについてより保守的な推定を行う必要があります。"
    },
    {
      "indent": 3,
      "text": "[RFC7766] states that all general-purpose DNS implementations MUST support both UDP and TCP transport.",
      "ja": "[RFC7766]は、すべての汎用DNS実装がUDP輸送とTCP輸送の両方をサポートする必要があると述べています。"
    },
    {
      "indent": 3,
      "text": "DNS transaction security [RFC8945] [RFC2931] does protect against the security risks of fragmentation, and it protects delegation responses. But [RFC8945] has limited applicability due to key distribution requirements, and there is little if any deployment of [RFC2931].",
      "ja": "DNSトランザクションセキュリティ[RFC8945] [RFC2931]は、断片化のセキュリティリスクから保護し、委任反応を保護します。しかし、[RFC8945]は、主要な分布要件により適用性が限られており、[RFC2931]の展開はほとんどありません。"
    },
    {
      "indent": 3,
      "text": "This document describes various techniques to avoid IP fragmentation of UDP packets in DNS. This document is primarily applicable to DNS use on the global Internet.",
      "ja": "このドキュメントでは、DNSのUDPパケットのIP断片化を回避するためのさまざまな手法について説明しています。このドキュメントは、主にグローバルインターネットでのDNS使用に適用されます。"
    },
    {
      "indent": 3,
      "text": "In contrast, a path MTU that deviates from the recommended value might be obtained through static configuration, server routing hints, or a future discovery protocol. However, addressing this falls outside the scope of this document and may be the subject of future specifications.",
      "ja": "対照的に、推奨される値から逸脱するパスMTUは、静的構成、サーバールーティングヒント、または将来のディスカバリープロトコルによって取得される場合があります。ただし、これに対処することは、このドキュメントの範囲外であり、将来の仕様の対象となる可能性があります。"
    },
    {
      "indent": 0,
      "text": "2. Terminology",
      "section_title": true,
      "ja": "2. 用語"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"NOT RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all capitals, as shown here.",
      "ja": "「必須」、「必要」、「必須」、「shall」、「shall」、「suff」、 \"not\"、 \"becommended\"、 \"becommented\"、 \"may\"、 \"optional「このドキュメントでは、BCP 14 [RFC2119] [RFC8174]で説明されているように解釈されます。"
    },
    {
      "indent": 3,
      "text": "The definitions of \"requestor\" and \"responder\" are per [RFC6891]:",
      "ja": "「要求者」と「応答者」の定義は[RFC6891]ごとにあります。"
    },
    {
      "indent": 0,
      "text": "\"Requestor\" refers to the side that sends a request. \"Responder\" refers to an authoritative, recursive resolver or other DNS component that responds to questions.",
      "ja": "「requestor」とは、リクエストを送信する側を指します。「レスポンダー」とは、質問に応答する権威ある、再帰的なリゾルバーまたは他のDNSコンポーネントを指します。"
    },
    {
      "indent": 3,
      "text": "The definition of \"path MTU\" is per [RFC8201]:",
      "ja": "「PATH MTU」の定義は[RFC8201]ごとにあります。"
    },
    {
      "indent": 0,
      "text": "path MTU [is] the minimum link MTU of all the links in a path between a source node and a destination node.",
      "ja": "PATH MTU [IS]ソースノードと宛先ノードの間のパス内のすべてのリンクの最小リンクMTU。"
    },
    {
      "indent": 3,
      "text": "In this document, the term \"Path MTU Discovery\" includes both Classical Path MTU Discovery [RFC1191] [RFC8201] and Packetization Layer Path MTU Discovery [RFC8899].",
      "ja": "このドキュメントでは、「Path MTU Discovery」という用語には、古典的なパスMTU発見[RFC1191] [RFC8201]とパケット化レイヤーパスMTU発見[RFC8899]の両方が含まれています。"
    },
    {
      "indent": 3,
      "text": "Many of the specialized terms used in this document are defined in \"DNS Terminology\" [RFC9499].",
      "ja": "このドキュメントで使用されている専門用語の多くは、「DNS用語」[RFC9499]で定義されています。"
    },
    {
      "indent": 0,
      "text": "3. How to Avoid IP Fragmentation in DNS",
      "section_title": true,
      "ja": "3. DNSのIP断片化を回避する方法"
    },
    {
      "indent": 3,
      "text": "These recommendations are intended for nodes with global IP addresses on the Internet. Private networks or local networks are out of the scope of this document.",
      "ja": "これらの推奨事項は、インターネット上のグローバルIPアドレスを備えたノードを対象としています。プライベートネットワークまたはローカルネットワークは、このドキュメントの範囲外です。"
    },
    {
      "indent": 3,
      "text": "The methods to avoid IP fragmentation in DNS are described below:",
      "ja": "DNSのIP断片化を回避する方法については、以下に説明します。"
    },
    {
      "indent": 0,
      "text": "3.1. Proposed Recommendations for UDP Responders",
      "section_title": true,
      "ja": "3.1. UDP応答者向けの提案された推奨事項"
    },
    {
      "indent": 3,
      "text": "R1. ",
      "ja": "R1。"
    },
    {
      "indent": 12,
      "text": "UDP responders should not use IPv6 fragmentation [RFC8200].",
      "ja": "UDP応答者は、IPv6断片化[RFC8200]を使用しないでください。"
    },
    {
      "indent": 3,
      "text": "R2. ",
      "ja": "R2。"
    },
    {
      "indent": 12,
      "text": "UDP responders should configure their systems to prevent fragmentation of UDP packets when sending replies, provided it can be done safely. The mechanisms to achieve this vary across different operating systems.",
      "ja": "UDPレスポンダーは、返信を送信するときにUDPパケットの断片化を防ぐようにシステムを構成する必要があります。これを達成するためのメカニズムは、異なるオペレーティングシステムによって異なります。"
    },
    {
      "indent": 12,
      "text": "For BSD-like operating systems, the IP Don't Fragment (DF) flag bit [RFC0791] can be used to prevent fragmentation. In contrast, Linux systems do not expose a direct API for this purpose and require the use of Path MTU socket options (IP_MTU_DISCOVER) to manage fragmentation settings. However, it is important to note that enabling IPv4 Path MTU Discovery for UDP in current Linux versions is considered harmful and dangerous. For more details, see Appendix C.",
      "ja": "BSDのようなオペレーティングシステムの場合、IPはフラグメント（DF）フラグビット[RFC0791]を使用して、断片化を防ぐことができます。対照的に、Linuxシステムはこの目的のために直接APIを公開せず、断片化設定を管理するためにPATH MTUソケットオプション（IP_MTU_DISCOVER）を使用する必要があります。ただし、現在のLinuxバージョンでUDPのIPv4 Path MTU発見を有効にすることは、有害で危険であると考えられていることに注意することが重要です。詳細については、付録Cを参照してください。"
    },
    {
      "indent": 3,
      "text": "R3. ",
      "ja": "R3。"
    },
    {
      "indent": 12,
      "text": "UDP responders should compose response packets that fit in the minimum of the offered requestor's maximum UDP payload size [RFC6891], the interface MTU, the network MTU value configured by the knowledge of the network operators, and the RECOMMENDED maximum DNS/UDP payload size 1400. For more details, see Appendix A.",
      "ja": "UDPレスポンダーは、提供される要求者の最大UDPペイロードサイズ[RFC6891]、インターフェイスMTU、ネットワークオペレーターの知識によって構成されたネットワークMTU値、および推奨最大DNS/UDPペイロードサイズ1400に適合する応答パケットを作成する必要があります。詳細については、付録Aを参照してください。"
    },
    {
      "indent": 3,
      "text": "R4. ",
      "ja": "R4。"
    },
    {
      "indent": 12,
      "text": "If the UDP responder detects an immediate error indicating that the UDP packet exceeds the path MTU size, the UDP responder may recreate response packets that fit in the path MTU size or with the TC bit set.",
      "ja": "UDPレスポンダーが即時エラーを検出して、UDPパケットがPATH MTUサイズを超えることを示す即時エラーを検出すると、UDPレスポンダーはPATH MTUサイズまたはTCビットセットに適合する応答パケットを再現できます。"
    },
    {
      "indent": 3,
      "text": "The cause and effect of the TC bit are unchanged [RFC1035].",
      "ja": "TCビットの原因と結果は変化しません[RFC1035]。"
    },
    {
      "indent": 0,
      "text": "3.2. Proposed Recommendations for UDP Requestors",
      "section_title": true,
      "ja": "3.2. UDP要求者に関する提案された推奨事項"
    },
    {
      "indent": 3,
      "text": "R5. ",
      "ja": "R5。"
    },
    {
      "indent": 12,
      "text": "UDP requestors should limit the requestor's maximum UDP payload size to fit in the minimum of the interface MTU, the network MTU value configured by the network operators, and the RECOMMENDED maximum DNS/UDP payload size 1400. A smaller limit may be allowed. For more details, see Appendix A.",
      "ja": "UDP要求者は、リクエスターの最大UDPペイロードサイズを制限して、インターフェイスMTU、ネットワークオペレーターによって構成されたネットワークMTU値、および推奨される最大DNS/UDPペイロードサイズ1400に適合する必要があります。詳細については、付録Aを参照してください。"
    },
    {
      "indent": 3,
      "text": "R6. ",
      "ja": "R6。"
    },
    {
      "indent": 12,
      "text": "UDP requestors should drop fragmented DNS/UDP responses without IP reassembly to avoid cache poisoning attacks (at the firewall function).",
      "ja": "UDP要求者は、キャッシュ中毒攻撃を避けるために、IP再組み立てなしで断片化されたDNS/UDP応答をドロップする必要があります（ファイアウォール機能で）。"
    },
    {
      "indent": 3,
      "text": "R7. ",
      "ja": "R7。"
    },
    {
      "indent": 12,
      "text": "DNS responses may be dropped by IP fragmentation. It is recommended that requestors eventually try alternative transport protocols.",
      "ja": "DNS応答は、IP断片化によって削除される場合があります。リクエスタは最終的に代替輸送プロトコルを試すことをお勧めします。"
    },
    {
      "indent": 0,
      "text": "4. Proposed Recommendations for DNS Operators",
      "section_title": true,
      "ja": "4. DNSオペレーターに提案された推奨事項"
    },
    {
      "indent": 3,
      "text": "Large DNS responses are typically the result of zone configuration. People who publish information in the DNS should seek configurations resulting in small responses. For example:",
      "ja": "大規模なDNS応答は、通常、ゾーン構成の結果です。DNSで情報を公開する人は、小さな応答をもたらす構成を求める必要があります。例えば："
    },
    {
      "indent": 3,
      "text": "R8. ",
      "ja": "R8。"
    },
    {
      "indent": 12,
      "text": "Use a smaller number of name servers.",
      "ja": "少数の名前サーバーを使用します。"
    },
    {
      "indent": 3,
      "text": "R9. ",
      "ja": "R9。"
    },
    {
      "indent": 12,
      "text": "Use a smaller number of A/AAAA RRs for a domain name.",
      "ja": "ドメイン名に少数のA/AAAA RRSを使用します。"
    },
    {
      "indent": 3,
      "text": "R10. ",
      "ja": "R10。"
    },
    {
      "indent": 12,
      "text": "Use minimal-responses configuration: Some implementations have a 'minimal responses' configuration option that causes DNS servers to make response packets smaller by containing only mandatory and required data (Appendix B).",
      "ja": "最小レスポンの使用構成を使用します。一部の実装には、「最小応答」構成オプションがあり、DNSサーバーが必須データと必要なデータのみを含めることにより、応答パケットを小さくします（付録B）。"
    },
    {
      "indent": 3,
      "text": "R11. ",
      "ja": "R11。"
    },
    {
      "indent": 12,
      "text": "Use a smaller signature / public key size algorithm for DNSSEC. Notably, the signature sizes of the Elliptic Curve Digital Signature Algorithm (ECDSA) and Edwards-curve Digital Signature Algorithm (EdDSA) are smaller than those of equivalent cryptographic strength using RSA.",
      "ja": "DNSSECには、より小さな署名 /公開キーサイズのアルゴリズムを使用します。特に、Elliptic Curve Digital Signature Algorithm（ECDSA）およびEdwards-Curve Digital Signature Algorithm（EDDSA）の署名サイズは、RSAを使用した同等の暗号強度のサイズよりも小さくなっています。"
    },
    {
      "indent": 3,
      "text": "It is difficult to determine a specific upper limit for R8, R9, and R11, but it is sufficient if all responses from the DNS servers are below the size of R3 and R5.",
      "ja": "R8、R9、およびR11の特定の上限を決定することは困難ですが、DNSサーバーからのすべての応答がR3とR5のサイズを下回る場合は十分です。"
    },
    {
      "indent": 0,
      "text": "5. Protocol Compliance Considerations",
      "section_title": true,
      "ja": "5. プロトコルコンプライアンスの考慮事項"
    },
    {
      "indent": 3,
      "text": "Some authoritative servers deviate from the DNS standard as follows:",
      "ja": "一部の権威あるサーバーは、次のようにDNS標準から逸脱しています。"
    },
    {
      "indent": 6,
      "text": "* Some authoritative servers ignore the EDNS(0) requestor's maximum UDP payload size and return large UDP responses [Fujiwara2018].",
      "ja": "* 一部の権威あるサーバーは、EDN（0）要求者の最大UDPペイロードサイズを無視し、大きなUDP応答を返します[Fujiwara2018]。"
    },
    {
      "indent": 6,
      "text": "* Some authoritative servers do not support TCP transport.",
      "ja": "* 一部の権威あるサーバーは、TCPトランスポートをサポートしていません。"
    },
    {
      "indent": 3,
      "text": "Such non-compliant behavior cannot become implementation or configuration constraints for the rest of the DNS. If failure is the result, then that failure must be localized to the non-compliant servers.",
      "ja": "このような非準拠の動作は、残りのDNSの実装や構成の制約になることはできません。障害が結果である場合、その障害は非準拠サーバーにローカライズする必要があります。"
    },
    {
      "indent": 0,
      "text": "6. IANA Considerations",
      "section_title": true,
      "ja": "6. IANAの考慮事項"
    },
    {
      "indent": 3,
      "text": "This document has no IANA actions.",
      "ja": "このドキュメントにはIANAアクションがありません。"
    },
    {
      "indent": 0,
      "text": "7. Security Considerations",
      "section_title": true,
      "ja": "7. セキュリティに関する考慮事項"
    },
    {
      "indent": 0,
      "text": "7.1. On-Path Fragmentation on IPv4",
      "section_title": true,
      "ja": "7.1. IPv4でのパス断片化"
    },
    {
      "indent": 3,
      "text": "If the Don't Fragment (DF) flag bit is not set, on-path fragmentation may happen on IPv4, and it can lead to vulnerabilities as shown in Section 7.3. To avoid this, R6 needs to be used to discard the fragmented responses and retry using TCP.",
      "ja": "DONT FRAGMENT（DF）フラグビットが設定されていない場合、IPv4でパス断片化が発生する可能性があり、セクション7.3に示すように脆弱性につながる可能性があります。これを回避するには、R6を使用して断片化された応答を破棄し、TCPを使用して再試行する必要があります。"
    },
    {
      "indent": 0,
      "text": "7.2. Small MTU Network",
      "section_title": true,
      "ja": "7.2. 小型MTUネットワーク"
    },
    {
      "indent": 3,
      "text": "When avoiding fragmentation, a DNS/UDP requestor behind a small MTU network may experience UDP timeouts, which would reduce performance and may lead to TCP fallback. This would indicate prior reliance upon IP fragmentation, which is considered to be harmful to both the performance and stability of applications, endpoints, and gateways. Avoiding IP fragmentation will improve operating conditions overall, and the performance of DNS/TCP has increased and will continue to increase.",
      "ja": "断片化を回避する場合、小さなMTUネットワークの背後にあるDNS/UDP要求者は、UDPのタイムアウトが発生する可能性があり、パフォーマンスが低下し、TCPフォールバックにつながる可能性があります。これは、アプリケーション、エンドポイント、およびゲートウェイのパフォーマンスと安定性の両方に有害であると考えられているIP断片化への事前の依存を示しています。IPの断片化を回避すると、全体的な動作条件が改善され、DNS/TCPのパフォーマンスが向上し、増加し続けます。"
    },
    {
      "indent": 3,
      "text": "If a UDP response packet is dropped in transit, up to and including the network stack of the initiator, it increases the attack window for poisoning the requestor's cache.",
      "ja": "UDP応答パケットが輸送中にドロップされ、イニシエーターのネットワークスタックを含む場合、要求者のキャッシュを中毒するために攻撃ウィンドウが増加します。"
    },
    {
      "indent": 0,
      "text": "7.3. Weaknesses of IP Fragmentation",
      "section_title": true,
      "ja": "7.3. IP断片化の弱点"
    },
    {
      "indent": 3,
      "text": "\"Fragmentation Considered Poisonous\" [Herzberg2013] notes effective off-path DNS cache poisoning attack vectors using IP fragmentation. \"IP fragmentation attack on DNS\" [Hlavacek2013] and \"Domain Validation++ For MitM-Resilient PKI\" [Brandt2018] note that off-path attackers can intervene in the Path MTU Discovery [RFC1191] to cause authoritative servers to produce fragmented responses. [RFC7739] states the security implications of predictable fragment identification values.",
      "ja": "「断片化は有毒と見なされます」[Herzberg2013]は、IP断片化を使用して効果的なパスオフパスDNSキャッシュ中毒攻撃ベクターを指摘しています。「DNSに対するIPフラグメンテーション攻撃」[hlavacek2013]および「MITM耐性PKIのドメイン検証++」[Brandt2018]は、パスMTU発見[RFC1191]に介入して、断片化された応答を生成するための権限のあるServerを引き起こすことに注意してください。[RFC7739]は、予測可能なフラグメント識別値のセキュリティへの意味を述べています。"
    },
    {
      "indent": 3,
      "text": "Section 3.2 of [RFC8085] states that \"an application SHOULD NOT send UDP datagrams that result in IP packets that exceed the Maximum Transmission Unit (MTU) along the path to the destination\".",
      "ja": "[RFC8085]のセクション3.2は、「アプリケーションは、宛先へのパスに沿って最大送信ユニット（MTU）を超えるIPパケットを作成するUDPデータグラムを送信してはならない」と述べています。"
    },
    {
      "indent": 3,
      "text": "A DNS message receiver cannot trust fragmented UDP datagrams primarily due to the small amount of entropy provided by UDP port numbers and DNS message identifiers, each of which is only 16 bits in size, and both are likely to be in the first fragment of a packet if fragmentation occurs. By comparison, the TCP protocol stack controls packet size and avoids IP fragmentation under ICMP NEEDFRAG attacks. In TCP, fragmentation should be avoided for performance reasons, whereas for UDP, fragmentation should be avoided for resiliency and authenticity reasons.",
      "ja": "DNSメッセージ受信機は、主にUDPポート番号とDNSメッセージ識別子によって提供されるエントロピーの少量のために、断片化されたUDPデータグラムを信頼できません。断片化が発生した場合。それに比べて、TCPプロトコルスタックはパケットサイズを制御し、ICMPニーズフラグ攻撃でのIP断片化を回避します。TCPでは、パフォーマンス上の理由で断片化を避ける必要がありますが、UDPの場合、弾力性と信頼性の理由で断片化を避ける必要があります。"
    },
    {
      "indent": 0,
      "text": "7.4. DNS Security Protections",
      "section_title": true,
      "ja": "7.4. DNSセキュリティ保護"
    },
    {
      "indent": 3,
      "text": "DNSSEC is a countermeasure against cache poisoning attacks that use IP fragmentation. However, DNS delegation responses are not signed with DNSSEC, and DNSSEC does not have a mechanism to get the correct response if an incorrect delegation is injected. This is a denial-of-service vulnerability that can yield failed name resolutions. If cache poisoning attacks can be avoided, DNSSEC validation failures will be avoided.",
      "ja": "DNSSECは、IP断片化を使用するキャッシュ中毒攻撃に対する対策です。ただし、DNS委任応答はDNSSECで署名されておらず、DNSSECには、誤った代表団が注入された場合、正しい応答を取得するメカニズムはありません。これは、失敗した名前の解決策をもたらす可能性のあるサービス拒否の脆弱性です。キャッシュ中毒攻撃を回避できる場合、DNSSEC検証障害は回避されます。"
    },
    {
      "indent": 0,
      "text": "7.5. Possible Actions for Resolver Operators",
      "section_title": true,
      "ja": "7.5. リゾルバーオペレーターの可能なアクション"
    },
    {
      "indent": 3,
      "text": "Because this document is published as Informational rather than a Best Current Practice, this section presents steps that resolver operators can take to avoid vulnerabilities related to IP fragmentation.",
      "ja": "このドキュメントは、最良の現在のプラクティスではなく情報として公開されているため、このセクションでは、IP断片化に関連する脆弱性を回避するためにリゾルバーオペレーターがとることができる手順を示します。"
    },
    {
      "indent": 3,
      "text": "To avoid vulnerabilities related to IP fragmentation, implement R5 and R6.",
      "ja": "IP断片化に関連する脆弱性を回避するには、R5とR6を実装します。"
    },
    {
      "indent": 3,
      "text": "Specifically, configure the firewall functions protecting the full-service resolver to discard incoming DNS response packets with a non-zero Fragment Offset (FO) or a More Fragments (MF) flag bit of 1 on IPv4, and discard packets with IPv6 Fragment Headers. (If the resolver's IP address is not dedicated to the DNS resolver and uses UDP communication that relies on IP Fragmentation for purposes other than DNS, discard only the first fragment that contains the UDP header from port 53.)",
      "ja": "具体的には、フルサービスのリゾルバを保護するファイアウォール機能を構成して、IPv4で1の非ゼロフラグメントオフセット（FO）またはよりフラグメント（MF）フラグビットを使用して、着信DNS応答パケットを破棄し、IPv6フラグメントヘッダーでパケットを破棄します。（ResolverのIPアドレスがDNS Resolverに専念しておらず、DNS以外の目的でIPフラグメンテーションに依存するUDP通信を使用している場合、ポート53のUDPヘッダーを含む最初のフラグメントのみを破棄します。）"
    },
    {
      "indent": 3,
      "text": "The most recent resolver software is believed to implement R7.",
      "ja": "最新のリゾートソフトウェアは、R7を実装すると考えられています。"
    },
    {
      "indent": 3,
      "text": "Even if R7 is not implemented, it will only result in a name resolution error, preventing attacks from leading to malicious sites.",
      "ja": "R7が実装されていなくても、名前解決エラーが発生するだけで、攻撃が悪意のあるサイトにつながるのを防ぎます。"
    },
    {
      "indent": 0,
      "text": "8. References",
      "section_title": true,
      "ja": "8. 参考文献"
    },
    {
      "indent": 0,
      "text": "8.1. Normative References",
      "section_title": true,
      "ja": "8.1. 引用文献"
    },
    {
      "indent": 3,
      "text": "[RFC1035]  Mockapetris, P., \"Domain names - implementation and\n           specification\", STD 13, RFC 1035, DOI 10.17487/RFC1035,\n           November 1987, <https://www.rfc-editor.org/info/rfc1035>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC1191]  Mogul, J. and S. Deering, \"Path MTU discovery\", RFC 1191,\n           DOI 10.17487/RFC1191, November 1990,\n           <https://www.rfc-editor.org/info/rfc1191>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC2119]  Bradner, S., \"Key words for use in RFCs to Indicate\n           Requirement Levels\", BCP 14, RFC 2119,\n           DOI 10.17487/RFC2119, March 1997,\n           <https://www.rfc-editor.org/info/rfc2119>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC2931]  Eastlake 3rd, D., \"DNS Request and Transaction Signatures\n           ( SIG(0)s )\", RFC 2931, DOI 10.17487/RFC2931, September\n           2000, <https://www.rfc-editor.org/info/rfc2931>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC6891]  Damas, J., Graff, M., and P. Vixie, \"Extension Mechanisms\n           for DNS (EDNS(0))\", STD 75, RFC 6891,\n           DOI 10.17487/RFC6891, April 2013,\n           <https://www.rfc-editor.org/info/rfc6891>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC7739]  Gont, F., \"Security Implications of Predictable Fragment\n           Identification Values\", RFC 7739, DOI 10.17487/RFC7739,\n           February 2016, <https://www.rfc-editor.org/info/rfc7739>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC7766]  Dickinson, J., Dickinson, S., Bellis, R., Mankin, A., and\n           D. Wessels, \"DNS Transport over TCP - Implementation\n           Requirements\", RFC 7766, DOI 10.17487/RFC7766, March 2016,\n           <https://www.rfc-editor.org/info/rfc7766>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8085]  Eggert, L., Fairhurst, G., and G. Shepherd, \"UDP Usage\n           Guidelines\", BCP 145, RFC 8085, DOI 10.17487/RFC8085,\n           March 2017, <https://www.rfc-editor.org/info/rfc8085>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8174]  Leiba, B., \"Ambiguity of Uppercase vs Lowercase in RFC\n           2119 Key Words\", BCP 14, RFC 8174, DOI 10.17487/RFC8174,\n           May 2017, <https://www.rfc-editor.org/info/rfc8174>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8200]  Deering, S. and R. Hinden, \"Internet Protocol, Version 6\n           (IPv6) Specification\", STD 86, RFC 8200,\n           DOI 10.17487/RFC8200, July 2017,\n           <https://www.rfc-editor.org/info/rfc8200>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8201]  McCann, J., Deering, S., Mogul, J., and R. Hinden, Ed.,\n           \"Path MTU Discovery for IP version 6\", STD 87, RFC 8201,\n           DOI 10.17487/RFC8201, July 2017,\n           <https://www.rfc-editor.org/info/rfc8201>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8899]  Fairhurst, G., Jones, T., Tüxen, M., Rüngeler, I., and T.\n           Völker, \"Packetization Layer Path MTU Discovery for\n           Datagram Transports\", RFC 8899, DOI 10.17487/RFC8899,\n           September 2020, <https://www.rfc-editor.org/info/rfc8899>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8945]  Dupont, F., Morris, S., Vixie, P., Eastlake 3rd, D.,\n           Gudmundsson, O., and B. Wellington, \"Secret Key\n           Transaction Authentication for DNS (TSIG)\", STD 93,\n           RFC 8945, DOI 10.17487/RFC8945, November 2020,\n           <https://www.rfc-editor.org/info/rfc8945>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC9499]  Hoffman, P. and K. Fujiwara, \"DNS Terminology\", BCP 219,\n           RFC 9499, DOI 10.17487/RFC9499, March 2024,\n           <https://www.rfc-editor.org/info/rfc9499>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.2. Informative References",
      "section_title": true,
      "ja": "8.2. 参考引用"
    },
    {
      "indent": 3,
      "text": "[Brandt2018]\n           Brandt, M., Dai, T., Klein, A., Shulman, H., and M.\n           Waidner, \"Domain Validation++ For MitM-Resilient PKI\",\n           Proceedings of the 2018 ACM SIGSAC Conference on Computer\n           and Communications Security, pp. 2060-2076,\n           DOI 10.1145/3243734.3243790, October 2018,\n           <https://dl.acm.org/doi/10.1145/3243734.3243790>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[DNSFlagDay2020]\n           \"DNS flag day 2020\", <https://dnsflagday.net/2020/>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[Fujiwara2018]\n           Fujiwara, K., \"Measures against DNS cache poisoning\n           attacks using IP fragmentation\", OARC 30 Workshop, 2019,\n           <https://indico.dns-\n           oarc.net/event/31/contributions/692/attachments/660/1115/\n           fujiwara-5.pdf>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[Herzberg2013]\n           Herzberg, A. and H. Shulman, \"Fragmentation Considered\n           Poisonous, or: One-domain-to-rule-them-all.org\", IEEE\n           Conference on Communications and Network Security (CNS),\n           DOI 10.1109/CNS.2013.6682711, 2013,\n           <https://ieeexplore.ieee.org/document/6682711>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[Hlavacek2013]\n           Hlavacek, T., \"IP fragmentation attack on DNS\", RIPE 67\n           Meeting, 2013, <https://ripe67.ripe.net/\n           presentations/240-ipfragattack.pdf>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[Huston2021]\n           Huston, G. and J. Damas, \"Measuring DNS Flag Day 2020\",\n           OARC 34 Workshop, February 2021, <https://indico.dns-\n           oarc.net/event/37/contributions/806/\n           attachments/782/1366/2021-02-04-dns-flag.pdf>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC0791]  Postel, J., \"Internet Protocol\", STD 5, RFC 791,\n           DOI 10.17487/RFC0791, September 1981,\n           <https://www.rfc-editor.org/info/rfc791>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC2308]  Andrews, M., \"Negative Caching of DNS Queries (DNS\n           NCACHE)\", RFC 2308, DOI 10.17487/RFC2308, March 1998,\n           <https://www.rfc-editor.org/info/rfc2308>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC2671]  Vixie, P., \"Extension Mechanisms for DNS (EDNS0)\",\n           RFC 2671, DOI 10.17487/RFC2671, August 1999,\n           <https://www.rfc-editor.org/info/rfc2671>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC2782]  Gulbrandsen, A., Vixie, P., and L. Esibov, \"A DNS RR for\n           specifying the location of services (DNS SRV)\", RFC 2782,\n           DOI 10.17487/RFC2782, February 2000,\n           <https://www.rfc-editor.org/info/rfc2782>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC4035]  Arends, R., Austein, R., Larson, M., Massey, D., and S.\n           Rose, \"Protocol Modifications for the DNS Security\n           Extensions\", RFC 4035, DOI 10.17487/RFC4035, March 2005,\n           <https://www.rfc-editor.org/info/rfc4035>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC5155]  Laurie, B., Sisson, G., Arends, R., and D. Blacka, \"DNS\n           Security (DNSSEC) Hashed Authenticated Denial of\n           Existence\", RFC 5155, DOI 10.17487/RFC5155, March 2008,\n           <https://www.rfc-editor.org/info/rfc5155>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC8900]  Bonica, R., Baker, F., Huston, G., Hinden, R., Troan, O.,\n           and F. Gont, \"IP Fragmentation Considered Fragile\",\n           BCP 230, RFC 8900, DOI 10.17487/RFC8900, September 2020,\n           <https://www.rfc-editor.org/info/rfc8900>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC9460]  Schwartz, B., Bishop, M., and E. Nygren, \"Service Binding\n           and Parameter Specification via the DNS (SVCB and HTTPS\n           Resource Records)\", RFC 9460, DOI 10.17487/RFC9460,\n           November 2023, <https://www.rfc-editor.org/info/rfc9460>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "[RFC9471]  Andrews, M., Huque, S., Wouters, P., and D. Wessels, \"DNS\n           Glue Requirements in Referral Responses\", RFC 9471,\n           DOI 10.17487/RFC9471, September 2023,\n           <https://www.rfc-editor.org/info/rfc9471>.",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "Appendix A. Details of Requestor's Maximum UDP Payload Size Discussions",
      "section_title": true,
      "ja": "付録A. リクエスターの最大UDPペイロードサイズディスカッションの詳細"
    },
    {
      "indent": 3,
      "text": "There are many discussions about default path MTU size and a requestor's maximum UDP payload size.",
      "ja": "デフォルトのパスMTUサイズとリクエスターの最大UDPペイロードサイズについて多くの議論があります。"
    },
    {
      "indent": 6,
      "text": "* The minimum MTU for an IPv6 interface is 1280 octets (see Section 5 of [RFC8200]). So, it can be used as the default path MTU value for IPv6. The corresponding minimum MTU for an IPv4 interface is 68 (60 + 8) [RFC0791].",
      "ja": "* IPv6インターフェイスの最小MTUは1280オクテットです（[RFC8200]のセクション5を参照）。したがって、IPv6のデフォルトパスMTU値として使用できます。IPv4インターフェイスの対応する最小MTUは68（60 + 8）[RFC0791]です。"
    },
    {
      "indent": 6,
      "text": "* [RFC4035] states that \"A security-aware name server MUST support the EDNS0 ([RFC2671]) message size extension, [and it] MUST support a message size of at least 1220 octets\". Then, the smallest number of the maximum DNS/UDP payload size is 1220.",
      "ja": "* [RFC4035]は、「セキュリティ対応の名前サーバーはEDNS0（[RFC2671]）メッセージサイズの拡張をサポートする必要があると述べています。次に、最大DNS/UDPペイロードサイズの最小数は1220です。"
    },
    {
      "indent": 6,
      "text": "* In order to avoid IP fragmentation, [DNSFlagDay2020] proposes that UDP requestors set the requestor's payload size to 1232 and UDP responders compose UDP responses so they fit in 1232 octets. The size 1232 is based on an MTU of 1280, which is required by the IPv6 specification [RFC8200], minus 48 octets for the IPv6 and UDP headers.",
      "ja": "* IP断片化を回避するために、[DNSFLAGDAY2020]は、UDPリクエスト担当者がリクエスターのペイロードサイズを1232に設定し、UDPレスポンダーがUDP応答を構成して1232オクテットに収まることを提案します。サイズ1232は、IPv6仕様[RFC8200]で必要な1280のMTUに基づいており、IPv6およびUDPヘッダーのマイナス48オクテットです。"
    },
    {
      "indent": 6,
      "text": "* Most of the Internet, especially the inner core, has an MTU of at least 1500 octets. Maximum DNS/UDP payload size for IPv6 on an MTU 1500 Ethernet is 1452 (1500 minus 40 (IPv6 header size) minus 8 (UDP header size)). To allow for possible IP options and distant tunnel overhead, the recommendation of default maximum DNS/UDP payload size is 1400.",
      "ja": "* インターネットのほとんど、特に内側のコアには、少なくとも1500オクテットのMTUがあります。MTU 1500イーサネット上のIPv6の最大DNS/UDPペイロードサイズは1452（1500マイナス40（IPv6ヘッダーサイズ）マイナス8（UDPヘッダーサイズ））です。可能なIPオプションと遠隔トンネルオーバーヘッドを可能にするために、デフォルトの最大DNS/UDPペイロードサイズの推奨は1400です。"
    },
    {
      "indent": 6,
      "text": "* [Huston2021] analyzes the result of [DNSFlagDay2020] and reports that their measurements suggest that in the interior of the Internet between recursive resolvers and authoritative servers, the prevailing MTU is 1500 and there is no measurable signal of use of smaller MTUs in this part of the Internet. They propose that their measurements suggest setting the EDNS(0) requestor's UDP payload size to 1472 octets for IPv4 and 1452 octets for IPv6.",
      "ja": "* [huston2021]は[dnsflagday2020]の結果を分析し、彼らの測定値が再帰リゾルバーと権威あるサーバーの間のインターネットの内部では、一般的なMTUが1500であり、この部分のより小さなMTUの使用の測定可能な信号がないことを示唆していることを報告します。インターネット。彼らは、彼らの測定がEDN（0）要求者のUDPペイロードサイズをIPv4で1472オクテット、IPv6に1452オクテットに設定することを提案することを提案しています。"
    },
    {
      "indent": 3,
      "text": "As a result of these discussions, this document recommends a value of 1400, with smaller values also allowed.",
      "ja": "これらの議論の結果として、このドキュメントは1400の値を推奨し、値も許可されています。"
    },
    {
      "indent": 0,
      "text": "Appendix B. Minimal Responses",
      "section_title": true,
      "ja": "付録B. 最小限の応答"
    },
    {
      "indent": 3,
      "text": "Some implementations have a \"minimal responses\" configuration setting/option that causes a DNS server to make response packets smaller, containing only mandatory and required data.",
      "ja": "一部の実装には、「最小限の応答」構成設定/オプションがあり、DNSサーバーが応答パケットを小さくし、必須および必要なデータのみを含みます。"
    },
    {
      "indent": 3,
      "text": "Under the minimal-responses configuration, a DNS server composes responses containing only necessary Resource Records (RRs). For delegations, see [RFC9471]. In case of a non-existent domain name or non-existent type, the authority section will contain an SOA record, and the answer section is empty (see Section 2 of [RFC2308]).",
      "ja": "最小レスポンズ構成の下で、DNSサーバーは、必要なリソースレコード（RRS）のみを含む応答を構成します。委任については、[RFC9471]を参照してください。存在しないドメイン名または存在しないタイプの場合、当局セクションにはSOAレコードが含まれ、回答セクションは空です（[RFC2308]のセクション2を参照）。"
    },
    {
      "indent": 3,
      "text": "Some resource records (MX, SRV, SVCB, and HTTPS) require additional A, AAAA, and Service Binding (SVCB) records in the Additional section defined in [RFC1035], [RFC2782], and [RFC9460].",
      "ja": "一部のリソースレコード（MX、SRV、SVCB、およびHTTPS）には、[RFC1035]、[RFC2782]、および[RFC9460]で定義された追加セクションに追加のA、AAA、およびサービスバインディング（SVCB）レコードが必要です。"
    },
    {
      "indent": 3,
      "text": "In addition, if the zone is DNSSEC signed and a query has the DNSSEC OK bit, signatures are added in the answer section, or the corresponding DS RRSet and signatures are added in the authority section. Details are defined in [RFC4035] and [RFC5155].",
      "ja": "さらに、ゾーンがDNSSECに署名されており、クエリにDNSSEC OKビットがある場合、署名が回答セクションに追加されるか、対応するDS RRSETと署名が当局セクションに追加されます。詳細は[RFC4035]および[RFC5155]で定義されています。"
    },
    {
      "indent": 0,
      "text": "Appendix C. Known Implementations",
      "section_title": true,
      "ja": "付録C. 既知の実装"
    },
    {
      "indent": 3,
      "text": "This section records the status of known implementations of the proposed recommendations described in Section 3.",
      "ja": "このセクションでは、セクション3で説明されている提案された推奨事項の既知の実装のステータスを記録します。"
    },
    {
      "indent": 3,
      "text": "Please note that the listing of any individual implementation here does not imply endorsement by the IETF. Furthermore, no effort has been made to verify the information that was supplied by IETF contributors and presented here.",
      "ja": "ここでの個々の実装のリストは、IETFによる承認を意味するものではないことに注意してください。さらに、IETF貢献者から提供され、ここに提示された情報を検証する努力は行われていません。"
    },
    {
      "indent": 0,
      "text": "C.1. BIND 9",
      "section_title": true,
      "ja": "C.1. バインド9"
    },
    {
      "indent": 3,
      "text": "BIND 9 does not implement R1 and R2.",
      "ja": "Bind 9はR1とR2を実装しません。"
    },
    {
      "indent": 3,
      "text": "BIND 9 on Linux sets IP_MTU_DISCOVER to IP_PMTUDISC_OMIT with a fallback to IP_PMTUDISC_DONT.",
      "ja": "Linuxで9をバインドします。IP_PMTUDISC_DONTへのフォールバックを使用して、IP_MTU_DISCOVERにIP_PMTUDISC_OMITを設定します。"
    },
    {
      "indent": 3,
      "text": "When BIND 9 is on systems with IP_DONTFRAG (such as FreeBSD), IP_DONTFRAG is disabled.",
      "ja": "Bind 9がIP_DontFrag（FreeBSDなど）を使用してシステム上にある場合、IP_DontFragは無効になります。"
    },
    {
      "indent": 3,
      "text": "Accepting Path MTU Discovery for UDP is considered harmful and dangerous. BIND 9's settings avoid attacks to Path MTU Discovery.",
      "ja": "UDPのPATH MTU発見を受け入れることは、有害で危険と見なされます。9の設定にバインドされているのは、Path MTU発見への攻撃を避けます。"
    },
    {
      "indent": 3,
      "text": "For R3, BIND 9 will honor the requestor's size up to the configured limit (max-udp-size). The UDP response packet is bound to be between 512 and 4096 bytes, with the default set to 1232. BIND 9 supports the requestor's size up to the configured limit (max-udp-size).",
      "ja": "R3の場合、Bind 9は、リクエスタのサイズを構成された制限（MAX-UUDP-Size）まで称えます。UDP応答パケットは512〜4096バイトの間で、デフォルトは1232に設定されています。BIND9は、リクエスタのサイズを構成された制限（MAX-UDP-Size）までサポートします。"
    },
    {
      "indent": 3,
      "text": "In the case of R4 and the send fails with EMSGSIZE, BIND 9 sets the TC bit and tries to send a minimal answer again.",
      "ja": "R4の場合、emsgsizeで送信が失敗し、9をバインドしてTCビットを設定し、最小限の答えを再度送信しようとします。"
    },
    {
      "indent": 3,
      "text": "For R5, BIND 9 uses the edns-buf-size option, with the default of 1232.",
      "ja": "R5の場合、Bind 9はEDNS-BUF-SIZEオプションを使用し、デフォルトは1232です。"
    },
    {
      "indent": 3,
      "text": "For R7, after two UDP timeouts, BIND 9 will fall back to TCP.",
      "ja": "R7の場合、2つのUDPタイムアウトの後、Bind 9はTCPに戻ります。"
    },
    {
      "indent": 0,
      "text": "C.2. Knot DNS and Knot Resolver",
      "section_title": true,
      "ja": "C.2. 結び目DNSとノットリゾルバー"
    },
    {
      "indent": 3,
      "text": "Both Knot servers set IP_PMTUDISC_OMIT to avoid path MTU spoofing. The UDP size limit is 1232 by default.",
      "ja": "両方のノットサーバーがIP_PMTUDISC_OMITを設定して、PATH MTUスプーフィングを避けます。UDPサイズの制限は、デフォルトでは1232です。"
    },
    {
      "indent": 3,
      "text": "Fragments are ignored if they arrive over a Linux XDP interface.",
      "ja": "Fragmentは、Linux XDPインターフェイスに到着すると無視されます。"
    },
    {
      "indent": 3,
      "text": "TCP is attempted after repeated UDP timeouts.",
      "ja": "TCPは、UDPタイムアウトを繰り返した後に試行されます。"
    },
    {
      "indent": 3,
      "text": "Minimal responses are returned and are currently not configurable.",
      "ja": "最小限の応答が返され、現在構成できません。"
    },
    {
      "indent": 3,
      "text": "Smaller signatures are used, with ecdsap256sha256 as the default.",
      "ja": "ECDSAP256SHA256がデフォルトとして、より小さな署名が使用されます。"
    },
    {
      "indent": 0,
      "text": "C.3. PowerDNS Authoritative Server, PowerDNS Recursor, and PowerDNS dnsdist",
      "section_title": true,
      "ja": "C.3. PowerDNS ATURITITIVE SERVER、POWERDNS RECURSOR、およびPOWERDNS DNSDIST"
    },
    {
      "indent": 6,
      "text": "* Use IP_PMTUDISC_OMIT with a fallback to IP_PMTUDISC_DONT.",
      "ja": "* IP_PMTUDISC_DONTへのフォールバックでIP_PMTUDISC_OMITを使用します。"
    },
    {
      "indent": 6,
      "text": "* The default EDNS buffer size of 1232; no probing for smaller sizes.",
      "ja": "* 1232のデフォルトのEDNSバッファサイズ。サイズが小さいため、調査はありません。"
    },
    {
      "indent": 6,
      "text": "* There is no handling of EMSGSIZE.",
      "ja": "* emsgsizeの取り扱いはありません。"
    },
    {
      "indent": 6,
      "text": "* Recursor: UDP timeouts do not cause a switch to TCP, but \"spoofing near misses\" may.",
      "ja": "* 再帰：UDPタイムアウトはTCPへの切り替えを引き起こすことはありませんが、「ニアミスのスプーフィング」5月。"
    },
    {
      "indent": 0,
      "text": "C.4. PowerDNS Authoritative Server",
      "section_title": true,
      "ja": "C.4. PowerDNS権威あるサーバー"
    },
    {
      "indent": 6,
      "text": "* The default DNSSEC algorithm is 13.",
      "ja": "* デフォルトのDNSSECアルゴリズムは13です。"
    },
    {
      "indent": 6,
      "text": "* Responses are minimal; this is not configurable.",
      "ja": "* 応答は最小限です。これは構成できません。"
    },
    {
      "indent": 0,
      "text": "C.5. Unbound",
      "section_title": true,
      "ja": "C.5. バウンドアンバウンド"
    },
    {
      "indent": 3,
      "text": "Unbound sets IP_MTU_DISCOVER to IP_PMTUDISC_OMIT with fallback to IP_PMTUDISC_DONT. It also disables IP_DONTFRAG on systems that have it, but not on Apple systems. On systems that support it, Unbound sets IPV6_USE_MIN_MTU, with a fallback to IPV6_MTU at 1280, with a fallback to IPV6_USER_MTU. It also sets IPV6_MTU_DISCOVER to IPV6_PMTUDISC_OMIT, with a fallback to IPV6_PMTUDISC_DONT.",
      "ja": "Unboundは、IP_PMTUDISC_DONTにフォールバックを使用して、IP_MTU_DISCOVERをIP_PMTUDISC_OMITに設定します。また、IP_DontFragはそれを持っているシステムで無効にしますが、Apple Systemsではありません。それをサポートするシステムでは、UnboundはIPv6_use_min_mtuを設定し、1280のIPv6_mtuへのフォールバックで、IPv6_user_mtuへのフォールバックを使用します。また、IPv6_pmtudisc_omitにIPv6_mtu_discoverをIPv6_pmtudisc_dontにフォールバックします。"
    },
    {
      "indent": 3,
      "text": "Unbound requests a UDP size of 1232 from peers, by default. The requestor's size is limited to a max of 1232.",
      "ja": "Unboundは、デフォルトでは、ピアから1232のUDPサイズを要求します。要求者のサイズは、最大1232に制限されています。"
    },
    {
      "indent": 3,
      "text": "After some timeouts, Unbound retries with a smaller size, if applicable, or at size 1232 for IPv6 and 1472 for IPv4. This does not cause any negative effects due to the \"flag day\" [DNSFlagDay2020] change to 1232.",
      "ja": "いくつかのタイムアウトの後、該当する場合は小さいサイズで、またはIPv6の場合はサイズ1232、IPv4で1472で未結合の再試行を行います。これは、「旗の日」[DNSFLAGDAY2020]の変化により、1232に変化するため、悪影響を引き起こしません。"
    },
    {
      "indent": 3,
      "text": "Unbound has the \"minimal responses\" configuration option; set default on.",
      "ja": "Unboundには、「最小応答」構成オプションがあります。デフォルトを設定します。"
    },
    {
      "indent": 0,
      "text": "Acknowledgments",
      "section_title": true,
      "ja": "謝辞"
    },
    {
      "indent": 3,
      "text": "The authors would like to specifically thank Paul Wouters, Mukund Sivaraman, Tony Finch, Hugo Salgado, Peter van Dijk, Brian Dickson, Puneet Sood, Jim Reid, Petr Spacek, Andrew McConachie, Joe Abley, Daisuke Higashi, Joe Touch, Wouter Wijngaards, Vladimir Cunat, Benno Overeinder, and Štěpán Němec for their extensive reviews and comments.",
      "ja": "著者は、ポール・ウーターズ、ムクンド・シヴァラマン、トニー・フィンチ、ヒューゴ・サルガド、ピーター・ヴァン・ディック、ブライアン・ディクソン、プニート・スッド、ジム・リード、ペトル・スペースク、アンドリュー・マコナチー、ジョー・イーブリー、ヒガシ、ジョー・タッチ、ウーター・ウィジュンガードに特に感謝します。広範なレビューとコメントについて、ウラジミール・カナト、ベンノ・オーバーアインダー、およびシュタン・ナ・メック。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "section_title": true,
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Kazunori Fujiwara\nJapan Registry Services Co., Ltd.\nChiyoda First Bldg. East 13F\n3-8-1 Nishi-Kanda, Chiyoda-ku, Tokyo\n101-0065\nJapan\nPhone: +81 3 5215 8451\nEmail: fujiwara@jprs.co.jp",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Paul Vixie\nAWS Security\n11400 La Honda Road\nWoodside, CA 94062\nUnited States of America\nPhone: +1 650 393 3994\nEmail: paul@redbarn.org",
      "raw": true,
      "ja": ""
    }
  ]
}