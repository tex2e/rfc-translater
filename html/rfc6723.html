<!DOCTYPE html>


<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 6723 - Update of the Pseudowire Control-Word Negotiation Mechanism 日本語訳</title>

  
  <link rel="shortcut icon" type="image/x-icon" href="https://tex2e.github.io/rfc-translater/favicon.ico" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>

</head>
<body>
  
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="draft/index.html">Draft</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">6723</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc6723">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div>
      <div class="alert alert-info" role="alert">
        <h4 class="alert-heading">RFC 6723 - Update of the Pseudowire Control-Word Negotiation Mechanism 日本語訳</h4>
        <span class="URL">原文URL :
          <a href="https://datatracker.ietf.org/doc/html/rfc6723">
            https://datatracker.ietf.org/doc/html/rfc6723
          </a>
        </span><br>
        <span class="title_ja">
          タイトル : <strong>RFC 6723 - 疑似配線制御ワードネゴシエーションメカニズムの更新</strong></span><br>
        <span class="updated_by">翻訳編集 : 自動生成</span><span id="rfc_status"></span><span id="rfc_wg"></span><br>
      </div>
      <div id="rfc_alert" class="hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                       L. Jin, Ed.
Request for Comments: 6723                                           ZTE
Updates: 4447, 6073                                          R. Key, Ed.
Category: Standards Track                                         Huawei
ISSN: 2070-1721                                                S. Delord
                                                          Alcatel-Lucent
                                                               T. Nadeau
                                                                 Juniper
                                                              S. Boutros
                                                     Cisco Systems, Inc.
                                                          September 2012
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Update of the Pseudowire Control-Word Negotiation Mechanism
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
疑似配線制御ワードネゴシエーションメカニズムの更新
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The control-word negotiation mechanism specified in RFC 4447 has a problem when a PE (Provider Edge) changes the preference for the use of the control word from NOT PREFERRED to PREFERRED. This document updates RFC 4447 and RFC 6073 by adding the Label Request message to resolve this control-word negotiation issue for single-segment and multi-segment pseudowires.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 4447で指定されているコントロールワードネゴシエーションメカニズムには、PE（プロバイダーエッジ）がコントロールワードの使用に関する設定をNOT PREFERENCEからPREFEREDに変更すると問題が発生します。このドキュメントでは、単一セグメントおよび複数セグメントの疑似配線のこの制御ワードネゴシエーションの問題を解決するために、ラベル要求メッセージを追加することにより、RFC 4447およびRFC 6073を更新しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本文書の状態
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これはInternet Standards Trackドキュメントです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、IETF（Internet Engineering Task Force）の製品です。これは、IETFコミュニティのコンセンサスを表しています。公開レビューを受け、インターネットエンジニアリングステアリンググループ（IESG）による公開が承認されました。インターネット標準の詳細については、RFC 5741のセクション2をご覧ください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc6723.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの現在のステータス、エラータ、およびフィードバックの提供方法に関する情報は、http：//www.rfc-editor.org/info/rfc6723で入手できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2012 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）2012 IETF Trustおよびドキュメントの作成者として特定された人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書は、BCP 78およびこの文書の発行日に有効なIETF文書に関するIETFトラストの法的規定（http://trustee.ietf.org/license-info）の対象となります。これらのドキュメントは、このドキュメントに関するあなたの権利と制限を説明しているため、注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、Trust Legal Provisionsのセクション4.eに記載されているSimplified BSD Licenseのテキストが含まれている必要があり、Simplified BSD Licenseに記載されているように保証なしで提供されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 2
   2.  Conventions Used in This Document . . . . . . . . . . . . . . . 3
   3.  Problem Statement . . . . . . . . . . . . . . . . . . . . . . . 3
   4.  Control-Word Renegotiation by Label Request Message . . . . . . 4
     4.1.  Control-Word Renegotiation for Multi-Segment PW . . . . . . 5
     4.2.  Control-Word Renegotiation Use Case . . . . . . . . . . . . 5
   5.  Backward Compatibility  . . . . . . . . . . . . . . . . . . . . 6
   6.  Security Considerations . . . . . . . . . . . . . . . . . . . . 7
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . 7
   8.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . . . 7
   9.  Normative References  . . . . . . . . . . . . . . . . . . . . . 7
   Appendix A.  Updated Diagram of C-Bit Handling Procedures . . . . . 8
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 The control-word negotiation mechanism specified in [RFC4447], Section 6.2, encounters a problem when a PE changes the preference for the use of the control word from NOT PREFERRED to PREFERRED. [RFC4447] specifies that if both endpoints prefer the use of the control word, then the pseudowire control word should be used. However, in the case where a PE changes its preference from NOT PREFERRED to PREFERRED and both ends of the PW (pseudowire) PE have the use of control word set as PREFERRED, an incorrect negotiated result of the control word as &#34;not used&#34; occurs. This document updates the control-word negotiation mechanism in [RFC4447] by adding a Label Request message to resolve this negotiation issue for single-segment PW. Multi-segment PW in [RFC6073] inherits the control-word negotiation mechanism in [RFC4447], and this document updates [RFC6073] by adding the processing of Label Request message on the S-PE (Switching Provider Edge). When the PE changes the preference for the use of control word from PREFERRED to NOT PREFERRED, it should follow [RFC4447], and there is no problem.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
[RFC4447]のセクション6.2で指定されているコントロールワードネゴシエーションメカニズムは、PEがコントロールワードの使用に関する設定をNOT PREFEREDからPREFEREDに変更すると問題が発生します。 [RFC4447]は、両方のエンドポイントが制御ワードの使用を好む場合、疑似配線制御ワードを使用する必要があることを指定しています。ただし、PEの優先順位がNOT PREFEREDからPREFEREDに変更され、PW（疑似配線）PEの両端で優先として設定されている制御ワードが使用されている場合、「未使用」として制御ワードの誤ったネゴシエートされた結果が発生します。 。このドキュメントは、[RFC4447]のコントロールワードネゴシエーションメカニズムを更新し、ラベル要求メッセージを追加して、単一セグメントPWのこのネゴシエーションの問題を解決します。 [RFC6073]のマルチセグメントPWは[RFC4447]の制御ワードネゴシエーションメカニズムを継承し、このドキュメントはS-PE（スイッチングプロバイダーエッジ）でのラベル要求メッセージの処理を追加することにより[RFC6073]を更新します。 PEがコントロールワードの使用の優先順位を、PREFERREDからNOT Preferredに変更する場合、[RFC4447]に従う必要があり、問題はありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Conventions Used in This Document
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. このドキュメントで使用される規則
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントのキーワード「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「MAY」、および「OPTIONAL」は、 [RFC2119]で説明されているように解釈されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. Problem Statement
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. 問題文
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4447], Section 6, describes the control-word negotiation mechanism. Each PW endpoint has a configurable parameter that specifies whether the use of the control word is PREFERRED or NOT PREFERRED. During control-word negotiation, if one PE advertises a C bit set to 0 in the Label Mapping message with its locally configured use of control word as PREFERRED, and a corresponding peer PE changes its use of control word from NOT PREFERRED to PREFERRED, this causes an incorrect negotiated control-word result of &#34;not used&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4447]のセクション6では、制御ワードのネゴシエーションメカニズムについて説明しています。各PWエンドポイントには、制御ワードの使用が優先されるかどうかを指定する構成可能なパラメーターがあります。コントロールワードのネゴシエーション中に、1つのPEがローカルに構成された制御ワードの使用を優先としてラベルマッピングメッセージで0に設定されたCビットをアドバタイズし、対応するピアPEが制御ワードの使用をNOT優先から優先に変更した場合、これは「未使用」という誤ったネゴシエートされた制御ワード結果を引き起こします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following case will describe the negotiation problem in detail:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次のケースでは、交渉の問題について詳しく説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                +-------+                    +-------+
                |       |         PW         |       |
                |  PE1  |====================|  PE2  |
                |       |                    |       |
                +-------+                    +-------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-33">
Figure 1
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-33">
図1
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Initially, the use of control word on PE1 is configured as PREFERRED, and on PE2 as NOT PREFERRED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 最初に、PE1での制御ワードの使用は、PREFERREDとして構成され、PE2での制御はNOT PREFERANTとして構成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. The negotiation result for the control word of this PW is not used, and ultimately PE1 sends the Label Mapping message with C bit set to 0 according to [RFC4447], Section 6.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. このPWの制御ワードのネゴシエーション結果は使用されず、最終的にPE1は[RFC4447]のセクション6.2に従って、Cビットを0に設定してラベルマッピングメッセージを送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. PE2 then changes its use of control-word configuration from NOT PREFERRED to PREFERRED, by deleting PW configuration with NOT PREFERRED use of control word, and configuring the PW again with PREFERRED use of control word.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 次に、PE2は、コントロールワードの使用をNOT PREFEREDからPREFEREDに変更し、コントロールワードをNOT PLUSに使用してPW構成を削除し、コントロールワードを使用してPWを再度構成します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. PE2 will then send the Label Withdraw message to PE1, and correspondingly will receive the Label Release message from PE1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. 次にPE2はLabel WithdrawメッセージをPE1に送信し、それに応じてPE1からラベル解放メッセージを受信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. According to the control-word negotiation mechanism, the previously received Label Mapping message on PE2 from PE1 carries the C bit set to 0; therefore, PE2 will still send the Label Mapping message with the C bit set to 0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. 制御ワードネゴシエーションメカニズムによれば、PE1から以前にPE2で受信したラベルマッピングメッセージは、Cビットが0に設定された状態で伝送されます。したがって、PE2は引き続きCビットが0に設定されたラベルマッピングメッセージを送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The negotiation result for the control word is still not used, even though the use of control-word configuration on both PE1 and PE2 are PREFERRED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PE1とPE2の両方で制御ワード構成を使用することをお勧めしますが、制御ワードのネゴシエーション結果はまだ使用されていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. Control-Word Renegotiation by Label Request Message
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. ラベル要求メッセージによる制御語の再交渉
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The control-word negotiation mechanism in [RFC4447], Section 6, is updated to add the Label Request message described in this section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4447]のセクション6の制御語ネゴシエーションメカニズムが更新され、このセクションで説明されているラベル要求メッセージが追加されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The renegotiation process begins when the local PE has received the remote Label Mapping message with the C bit set to 0, and at the point its use of control word is changed from NOT PREFERRED to PREFERRED. The following additional procedure will be carried out:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
再ネゴシエーションプロセスは、ローカルPEがCビットが0に設定されたリモートラベルマッピングメッセージを受信したときに始まり、その時点で、コントロールワードの使用がNOT preferredからpreferredに変更されます。以下の追加手順が実行されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
i. The local PE MUST send a Label Release message to remote PE. If local PE has previously sent a Label Mapping message, it MUST send a Label Withdraw message to remote PE and wait until it has received a Label Release message from the remote PE. Note: the above-mentioned sending of the Label Release message and Label Withdraw message does not require a specific sequence.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
i. ローカルPEはラベル解放メッセージをリモートPEに送信する必要があります。ローカルPEが以前にラベルマッピングメッセージを送信した場合は、ラベルウィズドローメッセージをリモートPEに送信し、リモートPEからラベル解放メッセージを受信するまで待機する必要があります。注：上記のLabel ReleaseメッセージとLabel Withdrawメッセージの送信には、特定のシーケンスは必要ありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ii. The local PE MUST send a Label Request message to the peer PE, and then MUST wait until it receives a Label Mapping message containing the peer&#39;s current configured preference for use of control word.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ii。ローカルPEは、ラベル要求メッセージをピアPEに送信する必要があり、次に、コントロールワードの使用に関するピアの現在構成されている設定を含むラベルマッピングメッセージを受信するまで待機する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
iii. After receiving the remote peer PE Label Mapping message with the C bit, the local PE MUST follow the procedures defined in [RFC4447], Section 6, when sending its Label Mapping message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
iii。 Cビットを含むリモートピアPEラベルマッピングメッセージを受信した後、ローカルPEは、そのラベルマッピングメッセージを送信するときに、[RFC4447]、セクション6で定義された手順に従う必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The remote PE will follow [RFC4447], and once the remote PE has successfully processed the Label Withdraw message and Label Release message, it will reset its use of control word with the locally configured preference. Then, the remote PE will send a Label Mapping message with locally configured preference for use of control word as a response to Label Request message as specified in [RFC5036].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
リモートPEは[RFC4447]に従い、リモートPEがLabel WithdrawメッセージとLabel Releaseメッセージを正常に処理すると、ローカルで構成された設定でコントロールワードの使用をリセットします。次に、リモートPEは、[RFC5036]で指定されているように、ラベル要求メッセージへの応答として制御ワードを使用するようにローカルに設定されたプリファレンスを含むラベルマッピングメッセージを送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Note: for the local PE, before processing new request to change the configuration, the above message-exchanging process should be finished. The FEC (Forwarding Equivalence Class) element in the Label Request message should be the PE&#39;s local PW FEC element. As a response to the Label Request message, the peer PE should send a Label Mapping message with its own local PW FEC element. The Label Request message format and procedure is described in [RFC5036].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
注：ローカルPEの場合、構成を変更する新しい要求を処理する前に、上記のメッセージ交換プロセスを終了する必要があります。ラベル要求メッセージのFEC（転送等価クラス）要素は、PEのローカルPW FEC要素である必要があります。ラベル要求メッセージへの応答として、ピアPEは独自のローカルPW FEC要素を含むラベルマッピングメッセージを送信する必要があります。ラベル要求メッセージのフォーマットと手順は、[RFC5036]で説明されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. Control-Word Renegotiation for Multi-Segment PW
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. マルチセグメントPWの制御ワード再ネゴシエーション
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The multi-segment PW case for a T-PE (Terminating Provider Edge) operates similarly as the PE in single-segment PW described in the above section. An initial passive role is defined in [RFC6073] for the S-PE when processing of the Label Mapping message. [RFC6073] is updated by applying this passive role to the processing of Label Request message. When an S-PE receives a Label Request message from one of its adjacent PEs (which may be an S-PE or another T-PE), it MUST send a matching Label Request message to other adjacent PE (again, it may be an S-PE or a T-PE). This is necessary since an S-PE does not have complete information of the interface parameter field in the FEC advertisement. When the S-PE receives a Label Release message from remote PE, it MUST send a corresponding Label Release message to the other remote PE when it holds a label for the PW from the remote PE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
T-PE（終端プロバイダーエッジ）のマルチセグメントPWケースは、上記のセクションで説明した単一セグメントPWのPEと同様に動作します。最初のパッシブな役割は、ラベルマッピングメッセージの処理時にS-PEの[RFC6073]で定義されます。 [RFC6073]は、この受動的な役割をラベル要求メッセージの処理に適用することによって更新されます。 S-PEは、隣接するPE（S-PEまたは別のT-PEのいずれか）からラベル要求メッセージを受信すると、一致するラベル要求メッセージを他の隣接するPEに送信する必要があります（ここでも、 S-PEまたはT-PE）。 S-PEはFECアドバタイズメントのインターフェイスパラメータフィールドの完全な情報を持っていないので、これは必要です。 S-PEがリモートPEからラベル解放メッセージを受信すると、リモートPEからのPWのラベルを保持している場合、対応するラベル解放メッセージを他のリモートPEに送信する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note: because the local T-PE will send a Label Withdraw message before sending a Label Request message to the remote peer, the S-PE MUST process the Label Withdraw message before the Label Request message. When the S-PE receives the Label Withdraw message, it should process this message to send a Label Release message as a response and a Label Withdraw message to an upstream S-PE/T-PE. The S-PE will then process the next LDP message, e.g. the Label Request message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注：ローカルT-PEはラベル要求メッセージをリモートピアに送信する前にラベルウィズドローメッセージを送信するため、S-PEはラベル要求メッセージの前にラベルウィズドローメッセージを処理する必要があります。 S-PEは、Label Withdrawメッセージを受信すると、このメッセージを処理して、Label Releaseメッセージを応答として送信し、Label Withdrawメッセージを上流のS-PE / T-PEに送信します。次に、S-PEは次のLDPメッセージを処理します。ラベル要求メッセージ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When the local PE changes the use of control word from PREFERRED to NOT PREFERRED, the local PE would then renegotiate the control word so that it is not used by deleting the PW configuration with PREFERRED use of control word, and configuring the PW again with NOT PREFERRED use of control word. All of these procedures have been defined in [RFC4447], Section 5.4.1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ローカルPEがコントロールワードの使用をPREFEREDからNOT PREFEREDに変更すると、ローカルPEはコントロールワードを再ネゴシエートして、PW構成を削除してPW構成を削除し、NOTを使用してPWを再構成します。コントロールワードの優先使用。これらの手順はすべて、[RFC4447]のセクション5.4.1で定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The diagram in Appendix A of this document updates the control-word negotiation diagram in [RFC4447] Appendix A.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの付録Aの図は、[RFC4447]付録Aの制御語交渉図を更新します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. Control-Word Renegotiation Use Case
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. 制御語の再交渉のユースケース
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The procedure of PE1 and PE2 for the use case in Figure 1 will become as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
図1のユースケースのPE1およびPE2の手順は次のようになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. PE2 changes locally configured preference for use of control word to PREFERRED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. PE2は、コントロールワードの使用についてローカルに設定された設定をPreferredに変更します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. PE2 will then send the Release messages to PE1. PE2 will also send the Label Withdraw message, and wait until it has received the Label Release message from PE1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. 次に、PE2はリリースメッセージをPE1に送信します。 PE2はまた、Label Withdrawメッセージを送信し、PE1からLabel Releaseメッセージを受信するまで待機します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. PE1 will send the Label Release message in response to the Label Withdraw message from PE2. After processing the Label Release from PE2, PE1 will then reset the use of control word to the locally configured preference as PREFERRED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. PE1は、PE2からのLabel Withdrawメッセージに応答して、Label Releaseメッセージを送信します。 PE2からのラベルリリースを処理した後、PE1は制御ワードの使用をローカルに設定された優先に優先にリセットします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. Upon receipt of the Label Release message from PE1, PE2 will send the Label Request message to PE1, and proceed to wait until a Label Mapping message is received.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. PE1からラベル解放メッセージを受信すると、PE2はラベル要求メッセージをPE1に送信し、ラベルマッピングメッセージが受信されるまで待機します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. PE1 will send a Label Mapping message with the C bit set to 1 again to PE2 in response to the Label Request message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. PE1は、ラベル要求メッセージに応答して、Cビットが1に設定されたラベルマッピングメッセージをPE2に送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. PE2 receives the Label Mapping message from PE1 and gets the remote label binding information. PE2 will wait for the PE1 Label Mapping message before sending its Label Mapping message with the C bit set.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. PE2はPE1からラベルマッピングメッセージを受信し、リモートラベルバインディング情報を取得します。 PE2は、C1が設定されたラベルマッピングメッセージを送信する前に、PE1ラベルマッピングメッセージを待ちます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
7. PE2 will send the Label Mapping to PE1 with C bit set to 1, and follow procedures defined in [RFC4447], Section 6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
7. PE2はCビットを1に設定してPE1にラベルマッピングを送信し、[RFC4447]のセクション6で定義された手順に従います。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
While it is assumed that PE1 is configured to prefer the use of the control word, in step 5, if PE1 doesn&#39;t prefer or support the control word, PE1 would then send the Label Mapping message with the C bit set to 0. As a result, PE2 in step 7 would send a Label Mapping message with the C bit set 0 as per [RFC4447], Section 6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PE1はコントロールワードの使用を優先するように構成されていると想定されていますが、ステップ5で、PE1がコントロールワードを優先またはサポートしない場合、PE1はCビットが0に設定されたラベルマッピングメッセージを送信します。その結果、ステップ7のPE2は、[RFC4447]のセクション6に従って、Cビットが0に設定されたラベルマッピングメッセージを送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
By sending a Label Request message, PE2 will get the locally configured preference for use of control word of peer PE1 in the received Label Mapping message. By using the new C bit from the Label Mapping message received from peer PE1 and the locally configured preference for use of control word, PE2 should determine the use of PW control word according to [RFC4447], Section 6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ラベル要求メッセージを送信することにより、PE2は受信したラベルマッピングメッセージでピアPE1の制御ワードを使用するためにローカルに設定された設定を取得します。ピアPE1から受信したラベルマッピングメッセージからの新しいCビットとローカルで構成された制御ワードの使用に関する設定を使用することにより、PE2は[RFC4447]のセクション6に従ってPW制御ワードの使用を決定する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Backward Compatibility
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 下位互換性
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Since control-word negotiation mechanism is updated by adding the Label Request message, and still follows the basic procedure described in [RFC4447], Section 6, this document is fully compatible with existing implementations. For single-segment pseudowire, the remote PE (PE1 in Figure 1) which already implements [RFC4447], and the Label Request message as defined in [RFC5036] could be compatible with the PE (PE2 in Figure 1) following the mechanism of this document. For the multi-segment pseudowire, the T-PE is the same as PE in single-segment pseudowire; the S-PE should be upgraded with the mechanism defined in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
コントロールワードネゴシエーションメカニズムはラベルリクエストメッセージを追加することで更新され、[RFC4447]のセクション6で説明されている基本的な手順に従っているため、このドキュメントは既存の実装と完全に互換性があります。単一セグメント疑似配線の場合、[RFC4447]をすでに実装しているリモートPE（図1のPE1）、および[RFC5036]で定義されているラベル要求メッセージは、このメカニズムに従ってPE（図1のPE2）と互換性がある可能性があります。資料。マルチセグメント疑似配線の場合、T-PEは単一セグメント疑似配線のPEと同じです。 S-PEは、このドキュメントで定義されているメカニズムでアップグレードする必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. セキュリティに関する考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The security considerations specified in [RFC4447] and [RFC6073] also apply to this document, and this document does not introduce any additional security constraints.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4447]と[RFC6073]で指定されているセキュリティの考慮事項もこのドキュメントに適用され、このドキュメントでは追加のセキュリティ制約を紹介していません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. Acknowledgements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. 謝辞
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The authors would like to thank Stewart Bryant, Andrew Malis, Nick Del Regno, Luca Martini, Venkatesan Mahalingam, Alexander Vainshtein, Adrian Farrel, and Spike Curtis for their discussion and comments.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
著者は、スチュワートブライアント、アンドリューマリス、ニックデルレグノ、ルカマルティーニ、ベンカテサンマハリンガム、アレクサンダーヴァインシュテイン、エイドリアンファレル、スパイクカーティス、およびディスカッションとコメントに感謝します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. Contributors
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. 貢献者
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Vishwas Manral Hewlett-Packard Co. 19111 Pruneridge Ave., Bldg. 44 Cupertino, CA 95014-0691 US EMail: vishwas.manral@hp.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Biswas Mineral Hewlett-Packard CO。 19111 Pruneridge av。、Bloodg。そのメール：95014-0691の44クパチーノ：trust.amandal@hap.com
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Reshad Rahman Cisco Systems, Inc. 2000 Innovation Drive Ottawa, Ontario K2K 3E8 CANADA EMail: rrahman@cisco.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Reshad Rahman Cisco Systems、Inc. 2000イノベーションドライブオタワ、オンタリオK2K 3E8カナダEメール：rrahman@cisco.com
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. 引用文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するキーワード」、BCP 14、RFC 2119、1997年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4447] Martini, L., Rosen, E., El-Aawar, N., Smith, T., and G. Heron, &#34;Pseudowire Setup and Maintenance Using the Label Distribution Protocol (LDP)&#34;, RFC 4447, April 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4447] Martini、L.、Rosen、E.、El-Aawar、N.、Smith、T。、およびG. Heron、「ラベル配布プロトコル（LDP）を使用した疑似配線のセットアップとメンテナンス」、RFC 4447、2006年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5036] Andersson, L., Minei, I., and B. Thomas, &#34;LDP Specification&#34;, RFC 5036, October 2007.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5036] Andersson、L.、Minei、I。、およびB. Thomas、「LDP仕様」、RFC 5036、2007年10月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6073] Martini, L., Metz, C., Nadeau, T., Bocci, M., and M. Aissaoui, &#34;Segmented Pseudowire&#34;, RFC 6073, January 2011.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6073]マティーニ、L。、メッツ、C。、ナドー、T。、ボッチ、M。、およびM.アイサウイ、「セグメント化された疑似配線」、RFC 6073、2011年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
Appendix A. Updated Diagram of C-Bit Handling Procedures
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
付録A. Cビット処理手順の更新された図
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   -----------------------------------
   |                                 |
   |                        ------------------
   |                    Y   | Received Label |       N
   |                 -------|  Mapping msg?  |--------------
   |                 |      ------------------             |
   |             --------------                            |
   |             |            |                            |
   |          -------      -------                         |
   |          | C=0 |      | C=1 |                         |
   |          -------      -------                         |
   |             |            |                            |
   |             |    ----------------                     |
   |             |    | Control Word |     N               |
   |             |    |    Capable?  |-----------          |
   |             |    ----------------          |          |
   |             |          Y |                 |          |
   |             |            |                 |          |
   |             |   ----------------           |          |
   |             |   | Control Word |  N        |          |
   |             |   |  Preferred?  |----       |          |
   |             |   ----------------   |       |          |
   |             |          Y |         |       |          |
   |  ---------------------   |         |       |          |
   |  |Control Word change|   |         |       |   ----------------
   |  |from NOT PREFERRED |   |         |       |   | Control Word |
   |  | to PREFERRED?     |   |         |       |   |  Preferred?  |
   |  ---------------------   |         |       |   ----------------
   |     Y |     | N          |         |       |     N |     Y |
   |       | Delete, and      |         |       |       |       |
   |       | configure      Send      Send    Send    Send    Send
   |       | new PW again    C=1       C=0     C=0     C=0     C=1
   |       |                            |       |       |       |
   |  ----------------------------   ----------------------------------
   |  |Send Label Release msg,   |   | If receive the same as sent,   |
   |  |send Label Withdraw msg if|   | PW setup is complete.  If not: |
   |  |has sent Label Mapping msg|   ----------------------------------
   |  ----------------------------          |       |       |       |
   |           |                       ------------------- -----------
   |  -------------------              |     Receive     | | Receive |
   |  | Receive Label   |              |       C=1       | |   C=0   |
   |  | Release message |              ------------------- -----------
   |  -------------------                       |               |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |           |                          Wait for the        Send
   |  -------------------                 next message     Wrong C-bit
   |  | Send Label      |                                       |
   |  | Request message |                                  Send Label
   |  -------------------                              Mapping message
   |           |
   -------------
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Lizhong Jin (editor) ZTE Corporation 889, Bibo Road Shanghai, 201203, China
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ぃ←おんｇ じん （えぢとｒ） Ｚて こｒぽらちおん ８８９、 びぼ ろあｄ しゃんｇはい、 ２０１２０３、 ちな
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: lizhong.jin@zte.com.cn
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Raymond Key (editor) Huawei
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レイモンドキー（編集者）Huawei
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: raymond.key@ieee.org
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Simon Delord Alcatel-Lucent
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サイモンデロードアルカテルルーセント
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: simon.delord@gmail.com
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thomas Nadeau Juniper
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
トーマスナドージュニパー
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: tnadeau@juniper.net
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Sami Boutros Cisco Systems, Inc. 3750 Cisco Way San Jose, California 95134, USA
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Sami Boutros Cisco Systems、Inc. 3750 Cisco Way San Jose、California 95134、USA
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: sboutros@cisco.com
        </pre>
      </div>

    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
