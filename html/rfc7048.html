<!DOCTYPE html>


<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 7048 - Neighbor Unreachability Detection Is Too Impatient 日本語訳</title>

  
  <link rel="shortcut icon" type="image/x-icon" href="https://tex2e.github.io/rfc-translater/favicon.ico" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>

</head>
<body>
  
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="draft/index.html">Draft</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">7048</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc7048">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <div>
      <div class="alert alert-info" role="alert">
        <h4 class="alert-heading">RFC 7048 - Neighbor Unreachability Detection Is Too Impatient 日本語訳</h4>
        <span class="URL">原文URL :
          <a href="https://datatracker.ietf.org/doc/html/rfc7048">
            https://datatracker.ietf.org/doc/html/rfc7048
          </a>
        </span><br>
        <span class="title_ja">
          タイトル : <strong>RFC 7048 - ネイバー到達不能検出が短すぎる</strong></span><br>
        <span class="updated_by">翻訳編集 : 自動生成</span><span id="rfc_status"></span><span id="rfc_wg"></span><br>
      </div>
      <div id="rfc_alert" class="hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                       E. Nordmark
Request for Comments: 7048                               Arista Networks
Updates: 4861                                               I. Gashinsky
Category: Standards Track                                         Yahoo!
ISSN: 2070-1721                                             January 2014
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
Neighbor Unreachability Detection Is Too Impatient
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-11">
ネイバー到達不能検出が短すぎる
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6 Neighbor Discovery includes Neighbor Unreachability Detection. That function is very useful when a host has an alternative neighbor -- for instance, when there are multiple default routers -- since it allows the host to switch to the alternative neighbor in a short time. By default, this time is 3 seconds after the node starts probing. However, if there are no alternative neighbors, this timeout behavior is far too impatient. This document specifies relaxed rules for Neighbor Discovery retransmissions that allow an implementation to choose different timeout behavior based on whether or not there are alternative neighbors. This document updates RFC 4861.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6ネイバー探索には、ネイバー到達不能検出が含まれています。この機能は、ホストに代替ネイバーがある場合（たとえば、デフォルトのルーターが複数ある場合）に非常に役立ちます。これにより、ホストは短時間で代替ネイバーに切り替えることができます。デフォルトでは、この時間はノードがプローブを開始してから3秒です。ただし、代替ネイバーが存在しない場合、このタイムアウトの動作はあまりにも短気です。このドキュメントは、実装が代替ネイバーがあるかどうかに基づいて異なるタイムアウト動作を選択できるようにするネイバー探索再送信の緩和されたルールを指定します。このドキュメントはRFC 4861を更新します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本文書の状態
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これはInternet Standards Trackドキュメントです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、IETF（Internet Engineering Task Force）の製品です。これは、IETFコミュニティのコンセンサスを表しています。公開レビューを受け、インターネットエンジニアリングステアリンググループ（IESG）による公開が承認されました。インターネット標準の詳細については、RFC 5741のセクション2をご覧ください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7048.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの現在のステータス、エラータ、およびフィードバックの提供方法に関する情報は、http：//www.rfc-editor.org/info/rfc7048で入手できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2014 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）2014 IETF Trustおよびドキュメントの作成者として識別された人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書は、BCP 78およびこの文書の発行日に有効なIETF文書に関するIETFトラストの法的規定（http://trustee.ietf.org/license-info）の対象となります。これらのドキュメントは、このドキュメントに関するあなたの権利と制限を説明しているため、注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、Trust Legal Provisionsのセクション4.eに記載されているSimplified BSD Licenseのテキストが含まれている必要があり、Simplified BSD Licenseに記載されているように保証なしで提供されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   1. Introduction ....................................................2
   2. Definition of Terms .............................................3
   3. Protocol Updates ................................................3
   4. Example Algorithm ...............................................6
   5. Acknowledgements ................................................7
   6. Security Considerations .........................................8
   7. References ......................................................8
      7.1. Normative References .......................................8
      7.2. Informative References .....................................8
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="1--Introduction">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6 Neighbor Discovery [RFC4861] includes Neighbor Unreachability Detection (NUD), which detects when a neighbor is no longer reachable. The timeouts specified for NUD are very short (by default, three transmissions spaced one second apart). These short timeouts can be appropriate when there are alternative neighbors to which the packets can be sent -- for example, if a host has multiple default routers in its Default Router List or if the host has a Neighbor Cache Entry (NCE) created by a Redirect message. In those cases, when NUD fails, the host will try the alternative neighbor by redoing the next-hop selection. That implies picking the next router in the Default Router List or discarding the NCE created by a Redirect message, respectively.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6ネイバー探索[RFC4861]には、ネイバーが到達不能になったことを検出するネイバー到達不能検出（NUD）が含まれています。 NUDに指定されたタイムアウトは非常に短いです（デフォルトでは、1秒間隔で3つの送信）。これらの短いタイムアウトは、パケットを送信できる別のネイバーがある場合に適切です。たとえば、ホストのデフォルトルーターリストに複数のデフォルトルーターがある場合や、ホストによって作成されたネイバーキャッシュエントリ（NCE）がある場合などです。リダイレクトメッセージ。これらの場合、NUDが失敗すると、ホストはネクストホップの選択をやり直すことによって代替ネイバーを試行します。これは、デフォルトルーターリストで次のルーターを選択すること、またはリダイレクトメッセージによって作成されたNCEをそれぞれ破棄することを意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The timeouts specified in [RFC4861] were chosen to be short in order to optimize scenarios where alternative neighbors are available.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4861]で指定されたタイムアウトは、代替のネイバーが利用可能なシナリオを最適化するために短くなるように選択されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 However, when there is no alternative neighbor, there are several benefits to making NUD probe for a longer time. One benefit is to make NUD more robust against transient failures, such as spanning tree reconvergence and other layer 2 issues that can take many seconds to resolve. Marking the NCE as unreachable, in that case, causes additional multicast on the network. Assuming there are IP packets to send, the lack of an NCE will result in multicast Neighbor Solicitations being sent (to the solicited-node multicast address) every second instead of the unicast Neighbor Solicitations that NUD sends.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
ただし、代替のネイバーがない場合、NUDプローブを長時間行うことにはいくつかの利点があります。 1つの利点は、スパニングツリーの再コンバージェンスや、解決に数秒かかる可能性のあるその他のレイヤー2の問題などの一時的な障害に対してNUDをより堅牢にすることです。その場合、NCEを到達不能としてマークすると、ネットワーク上で追加のマルチキャストが発生します。送信するIPパケットがあると仮定すると、NCEがないと、NUDが送信するユニキャスト近隣要請の代わりに毎秒（要請ノードマルチキャストアドレスに）マルチキャスト近隣要請が送信されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As a result, IPv6 Neighbor Discovery is operationally more brittle than the IPv4 Address Resolution Protocol (ARP). For IPv4, there is no mandatory time limit on the retransmission behavior for ARP [RFC0826], which allows implementors to pick more robust schemes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
その結果、IPv6近隣探索は、IPv4アドレス解決プロトコル（ARP）よりも運用上脆弱です。 IPv4の場合、ARP [RFC0826]の再送信動作に必須の時間制限はありません。これにより、実装者はより堅牢なスキームを選択できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following constant values in [RFC4861] seem to have been made part of IPv6 conformance testing: MAX_MULTICAST_SOLICIT, MAX_UNICAST_SOLICIT, and RETRANS_TIMER. While such strict conformance testing seems consistent with [RFC4861], it means that the standard needs to be updated to allow IPv6 Neighbor Discovery to be as robust as ARP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4861]の次の定数値は、IPv6適合性テストの一部になっているようです：MAX_MULTICAST_SOLICIT、MAX_UNICAST_SOLICIT、およびRETRANS_TIMER。このような厳密な適合性テストは[RFC4861]と整合しているように見えますが、IPv6近隣探索がARPと同じくらい堅牢であるためには、標準を更新する必要があることを意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document updates RFC 4861 to relax the retransmission rules.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、再送信ルールを緩和するためにRFC 4861を更新します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Additional motivations for making IPv6 Neighbor Discovery more robust in the face of degenerate conditions are covered in [RFC6583].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
縮退状態に直面してIPv6近隣探索をより堅牢にするための追加の動機は、[RFC6583]で説明されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="2--Definition-of-Terms">
2. Definition of Terms
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 用語の定義
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントのキーワード「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「MAY」、および「OPTIONAL」は、 [RFC2119]で説明されているように解釈されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="3--Protocol-Updates">
3. Protocol Updates
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. プロトコルの更新
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Discarding the NCE after three packets spaced one second apart is only needed when an alternative neighbor is available, such as an additional default router or discarding an NCE created by a Redirect.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1秒間隔の3つのパケットの後でNCEを破棄する必要があるのは、追加のデフォルトルーターなどの代替ネイバーが利用できる場合、またはリダイレクトによって作成されたNCEを破棄する場合のみです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an implementation transmits more than MAX_UNICAST_SOLICIT/ MAX_MULTICAST_SOLICIT packets, then it SHOULD use the exponential backoff of the retransmit timer. This is to avoid any significant load due to a steady background level of retransmissions from implementations that retransmit a large number of Neighbor Solicitations (NS) before discarding the NCE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
実装がMAX_UNICAST_SOLICIT / MAX_MULTICAST_SOLICITパケットを超えて送信する場合は、再送信タイマーの指数バックオフを使用する必要があります。これは、NCEを破棄する前に多数の近傍要請（NS）を再送信する実装からの再送信のバックグラウンドレベルが安定していることによる重大な負荷を回避するためです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Even if there is no alternative neighbor, the protocol needs to be able to handle the case when the link-layer address of the neighbor/ target has changed by switching to multicast Neighbor Solicitations at some point in time.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
代替ネイバーが存在しない場合でも、プロトコルは、ネイバー/ターゲットのリンク層アドレスが、ある時点でマルチキャストネイバー要請に切り替えて変更された場合に対処できる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In order to capture all the cases above, this document introduces a new UNREACHABLE state in the conceptual model described in [RFC4861]. An NCE in the UNREACHABLE state retains the link-layer address, and IPv6 packets continue to be sent to that link-layer address. But in the UNREACHABLE state, the NUD Neighbor Solicitations are multicast (to the solicited-node multicast address), using a timeout that follows an exponential backoff.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記のすべてのケースをキャプチャするために、このドキュメントでは、[RFC4861]で説明されている概念モデルに新しいUNREACHABLE状態を導入しています。 UNREACHABLE状態のNCEはリンク層アドレスを保持し、IPv6パケットはそのリンク層アドレスに送信され続けます。ただし、到達不能状態では、NUD近隣要請は（要請ノードマルチキャストアドレスに）マルチキャストされ、指数バックオフに続くタイムアウトを使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the places where [RFC4861] says to discard/delete the NCE after N probes (Sections 7.3 and 7.3.3, and Appendix C), this document instead specifies a transition to the UNREACHABLE state.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4861]がNプローブの後にNCEを破棄/削除するように言っている場所（セクション7.3および7.3.3、および付録C）では、このドキュメントは代わりにUNREACHABLE状態への移行を指定しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the Neighbor Cache Entry was created by a Redirect message, a node MAY delete the NCE instead of changing its state to UNREACHABLE. In any case, the node SHOULD NOT use an NCE created by a Redirect to send packets if that NCE is in the UNREACHABLE state. Packets should be sent following the next-hop selection algorithm in [RFC4861], Section 5.2, which disregards NCEs that are not reachable.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ネイバーキャッシュエントリがリダイレクトメッセージによって作成された場合、ノードは状態をUNREACHABLEに変更するのではなく、NCEを削除できます（MAY）。いずれの場合でも、そのNCEがUNREACHABLE状態の場合、ノードはリダイレクトによって作成されたNCEを使用してパケットを送信しないでください。パケットは、[RFC4861]のセクション5.2のネクストホップ選択アルゴリズムに従って送信する必要があります。これは、到達できないNCEを無視します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Section 6.3.6 of [RFC4861] indicates that default routers that are &#34;known to be reachable&#34; are preferred. For the purposes of that section, if the NCE for the router is in the UNREACHABLE state, it is not known to be reachable. Thus, the particular text in Section 6.3.6 that says &#34;in any state other than INCOMPLETE&#34; needs to be extended to say &#34;in any state other than INCOMPLETE or UNREACHABLE&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4861]のセクション6.3.6は、「到達可能であることがわかっている」デフォルトルータが優先されることを示しています。そのセクションの目的上、ルーターのNCEがUNREACHABLE状態にある場合、到達可能かどうかは不明です。したがって、6.3.6項の「INCOMPLETE以外のすべての状態で」という特定のテキストは、「INCOMPLETEまたはUNREACHABLE以外のすべての状態で」というように拡張する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Apart from the use of multicast NS instead of unicast NS, and the exponential backoff of the timer, the UNREACHABLE state works the same as the current PROBE state.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ユニキャストNSではなくマルチキャストNSを使用すること、およびタイマーの指数バックオフを除いて、UNREACHABLE状態は現在のPROBE状態と同じように機能します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A node MAY garbage collect a Neighbor Cache Entry at any time as specified in [RFC4861]. This freedom to garbage collect does not change with the introduction of the UNREACHABLE state in the conceptual model. An implementation MAY prefer garbage collecting UNREACHABLE NCEs over other NCEs.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4861]で指定されているように、ノードはいつでもネイバーキャッシュエントリをガベージコレクションできます（MAY）。このガベージコレクションの自由は、概念モデルにUNREACHABLE状態が導入されても変わりません。実装は、他のNCEよりも到達不可能なNCEのガベージコレクションを優先する場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There is a non-obvious extension to the state-machine description in Appendix C of [RFC4861] in the case for &#34;NA, Solicited=1, Override=0. Different link-layer address than cached&#34;. There we need to add &#34;UNREACHABLE&#34; to the current list of &#34;STALE, PROBE, Or DELAY&#34;. That is, the NCE would be unchanged. Note that there is no corresponding change necessary to the text in [RFC4861], Section 7.2.5, since it is phrased using &#34;Otherwise&#34; instead of explicitly listing the three states.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「NA、Solicited = 1、Override = 0。Cachedとは異なるリンク層アドレス」の場合、[RFC4861]の付録Cのステートマシンの説明に明らかでない拡張があります。そこで、「STALE、PROBE、またはDELAY」の現在のリストに「UNREACHABLE」を追加する必要があります。つまり、NCEは変更されません。 [RFC4861]のセクション7..2.5のテキストは、3つの州を明示的にリストする代わりに「その他」を使用して表現されているため、対応する変更は必要ありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The other state transitions described in Appendix C handle the introduction of the UNREACHABLE state without any change, since they are described using &#34;not INCOMPLETE&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
付録Cで説明されているその他の状態遷移は、「不完全ではない」を使用して記述されているため、変更なしでUNREACHABLE状態の導入を処理します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
There is also the more obvious change already described above. [RFC4861] has this:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すでに上で説明したより明白な変更もあります。 [RFC4861]にはこれがあります：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
State Event Action New state
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
状態イベントアクション新しい状態
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PROBE Retransmit timeout, Discard entry - N or more retransmissions.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PROBE再送信タイムアウト、エントリの破棄-N回以上の再送信。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
That needs to be replaced by:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これを次のように置き換える必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
State Event Action New state
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
状態イベントアクション新しい状態
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PROBE Retransmit timeout, Increase timeout UNREACHABLE N retransmissions. Send multicast NS
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PROBE再送信タイムアウト、タイムアウトの増加UNREACHABLE N再送信。マルチキャストNSを送信する
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
UNREACHABLE Retransmit timeout Increase timeout UNREACHABLE Send multicast NS
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
UNREACHABLE再送信タイムアウトタイムアウトの増加UNREACHABLE送信マルチキャストNS
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The exponential backoff SHOULD be clamped at some reasonable maximum retransmit timeout, such as 60 seconds (see MAX_RETRANS_TIMER below). If there is no IPv6 packet sent using the UNREACHABLE NCE, then it is RECOMMENDED to stop the retransmits of the multicast NS until either the NCE is garbage collected or there are IPv6 packets sent using the NCE. The multicast NS and associated exponential backoff can be applied on the condition of continued use of the NCE to send IPv6 packets to the recorded link-layer address.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
指数バックオフは、60秒などの適切な最大再送タイムアウトでクランプする必要があります（下記のMAX_RETRANS_TIMERを参照）。 UNREACHABLE NCEを使用して送信されたIPv6パケットがない場合は、NCEがガベージコレクションされるか、NCEを使用してIPv6パケットが送信されるまで、マルチキャストNSの再送信を停止することをお勧めします。マルチキャストNSおよび関連する指数バックオフは、記録されたリンク層アドレスにIPv6パケットを送信するためのNCEの継続的な使用の条件に適用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A node can unicast the first few Neighbor Solicitation messages even while in the UNREACHABLE state, but it MUST switch to multicast Neighbor Solicitations within 60 seconds of the initial retransmission to be able to handle a link-layer address change for the target. The example below shows such behavior.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ノードは、UNREACHABLE状態でも最初のいくつかの近隣要請メッセージをユニキャストできますが、ターゲットのリンク層アドレス変更を処理できるようにするには、最初の再送信から60秒以内にマルチキャスト近隣要請に切り替える必要があります。以下の例は、そのような動作を示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="4--Example-Algorithm">
4. Example Algorithm
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. アルゴリズムの例
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section is NOT normative but specifies a simple implementation that conforms with this document. The implementation is described using operator-configurable values that allow it to be configured to be compatible with the retransmission behavior in [RFC4861]. The operator can configure the values for MAX_UNICAST_SOLICIT, MAX_MULTICAST_SOLICIT, RETRANS_TIMER, and the new BACKOFF_MULTIPLE, MAX_RETRANS_TIMER, and MARK_UNREACHABLE. This allows the implementation to be as simple as:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションは規範的ではありませんが、このドキュメントに準拠する簡単な実装を指定しています。実装は、[RFC4861]の再送信動作と互換性を持つように構成できるように、オペレーターが構成可能な値を使用して説明されています。オペレーターは、MAX_UNICAST_SOLICIT、MAX_MULTICAST_SOLICIT、RETRANS_TIMER、および新しいBACKOFF_MULTIPLE、MAX_RETRANS_TIMER、およびMARK_UNREACHABLEの値を構成できます。これにより、実装は次のように簡単になります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   next_retrans = ($BACKOFF_MULTIPLE ^ $solicit_retrans_num) *
   $RetransTimer * $JitterFactor where solicit_retrans_num is zero for
   the first transmission, and JitterFactor is a random value between
   MIN_RANDOM_FACTOR and MAX_RANDOM_FACTOR [RFC4861] to avoid any
   synchronization of transmissions from different hosts.
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
After MARK_UNREACHABLE transmissions, the implementation would mark the NCE UNREACHABLE and as a result explore alternate next hops. After MAX_UNICAST_SOLICIT, the implementation would switch to multicast NUD probes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
MARK_UNREACHABLE送信の後、実装はNCEをUNREACHABLEとしてマークし、その結果、代替ネクストホップを探索します。 MAX_UNICAST_SOLICITの後、実装はマルチキャストNUDプローブに切り替わります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The behavior of this example algorithm is to have 5 attempts, with time spacing of 0 (initial request), 1 second later, 3 seconds after the first retransmission, then 9, then 27, and switch to UNREACHABLE after the first three transmissions. Thus, relative to the time of the first transmissions, the retransmissions would occur at 1 second, 4 seconds, 13 seconds, and finally 40 seconds. At 4 seconds from the first transmission, the NCE would be marked UNREACHABLE. That behavior corresponds to:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このサンプルアルゴリズムの動作は5回試行され、時間間隔は0（初期リクエスト）、1秒後、最初の再送信後3秒、次に9、次に27であり、最初の3回の送信後にUNREACHABLEに切り替えます。したがって、最初の送信の時間に対して、再送信は1秒、4秒、13秒、最後に40秒で発生します。最初の送信から4秒後に、NCEはUNREACHABLEとマークされます。その振る舞いは、
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
MAX_UNICAST_SOLICIT=5
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
MAX_UNICAST_SOLICIT = 5
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
RETRANS_TIMER=1 (default)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
RETRANS_TIMER = 1（デフォルト）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
MAX_RETRANS_TIMER=60
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
MAX_RETRANS_TIMER = 60
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
BACKOFF_MULTIPLE=3
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
BACKOFF_MULTIPLE = 3
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
MARK_UNREACHABLE=3
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
MARK_UNREACHABLE = 3
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 After 3 retransmissions, the implementation would mark the NCE UNREACHABLE. That results in trying an alternative neighbor, such as another default router, or ignoring an NCE created by a Redirect as specified in [RFC4861]. With the above values, that would occur after 4 seconds following the first transmission compared to the 2 seconds using the fixed scheme in [RFC4861]. That additional delay is small compared to the default ReachableTime of 30,000 milliseconds.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
3回の再送信後、実装はNCEを到達不能にマークします。その結果、別のデフォルトルーターなどの代替ネイバーが試行されるか、[RFC4861]で指定されているリダイレクトによって作成されたNCEが無視されます。上記の値では、[RFC4861]の固定方式を使用した2秒と比較して、最初の送信から4秒後に発生します。この追加の遅延は、デフォルトのReachableTimeである30,000ミリ秒と比較するとわずかです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
After 5 transmissions, i.e., 40 seconds after the initial transmission, the example behavior is to switch to multicast NUD probes. In the language of the state machine in [RFC4861], that corresponds to the action &#34;Discard entry&#34;. Thus, any attempts to send future packets would result in sending multicast NS packets. An implementation MAY retain the backoff value as it switches to multicast NUD probes. The potential downside of deferring switching to multicast is that it would take longer for NUD to handle a change in a link-layer address, i.e., the case when a host or a router changes its link-layer address while keeping the same IPv6 address. However, [RFC4861] says that a node MAY send unsolicited NS to handle that case, which is rather infrequent in operational networks. In any case, the implementation needs to follow the &#34;SHOULD&#34; in Section 3 to switch to multicast solutions within 60 seconds after the initial transmission.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5回の送信後、つまり最初の送信から40秒後の動作例は、マルチキャストNUDプローブに切り替えることです。 [RFC4861]のステートマシンの言語では、これは「エントリを破棄」アクションに対応します。したがって、将来のパケットを送信しようとすると、マルチキャストNSパケットが送信されます。実装は、マルチキャストNUDプローブに切り替えるときにバックオフ値を保持してもよい（MAY）。マルチキャストへの切り替えを延期することの潜在的な欠点は、NUDがリンク層アドレスの変更を処理するのに時間がかかることです。つまり、ホストまたはルーターが同じIPv6アドレスを維持しながらリンク層アドレスを変更した場合です。ただし、[RFC4861]は、ノードがそのようなケースを処理するために一方的なNSを送信する可能性があると述べています。これは、運用ネットワークではかなりまれです。いずれの場合でも、実装はセクション3の「SHOULD」に従って、最初の送信から60秒以内にマルチキャストソリューションに切り替える必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If BACKOFF_MULTIPLE=1, MARK_UNREACHABLE=3, and MAX_UNICAST_SOLICIT=3, you would get the same behavior as in [RFC4861].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
BACKOFF_MULTIPLE = 1、MARK_UNREACHABLE = 3、およびMAX_UNICAST_SOLICIT = 3の場合、[RFC4861]と同じ動作になります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the request was not answered at first -- due, for example, to a transitory condition -- an implementation following this algorithm would retry immediately and then back off for progressively longer periods. This would allow for a reasonably fast resolution time when the transitory condition clears.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば一時的な状態が原因で、リクエストが最初に応答されなかった場合、このアルゴリズムに従う実装はすぐに再試行し、その後徐々に長い期間バックオフします。これにより、一時的な状態が解消したときに、解決時間がかなり速くなります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that RetransTimer and ReachableTime are by default set from the protocol constants RETRANS_TIMER and REACHABLE_TIME but are overridden by values advertised in Router Advertisements as specified in [RFC4861]. That remains the case even with the protocol updates specified in this document. The key values that the operator would configure are BACKOFF_MULTIPLE, MAX_RETRANS_TIMER, MAX_UNICAST_SOLICIT, and MAX_MULTICAST_SOLICIT.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RetransTimerとReachableTimeは、デフォルトではプロトコル定数RETRANS_TIMERとREACHABLE_TIMEから設定されますが、[RFC4861]で指定されているように、ルーターアドバタイズメントでアドバタイズされた値によってオーバーライドされます。これは、このドキュメントで指定されているプロトコルの更新でも同じです。オペレーターが構成する主な値は、BACKOFF_MULTIPLE、MAX_RETRANS_TIMER、MAX_UNICAST_SOLICIT、およびMAX_MULTICAST_SOLICITです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is useful to have a maximum value for ($BACKOFF_MULTIPLE^$solicit_attempt_num)*$RetransTimer so that the retransmissions are not too far apart. The above value of 60 seconds for this MAX_RETRANS_TIMER is consistent with DHCPv6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
（$ BACKOFF_MULTIPLE ^ $ solicit_attempt_num）* $ RetransTimerの最大値を設定すると、再送信の間隔が大きくなりすぎないので便利です。このMAX_RETRANS_TIMERの上記の60秒の値は、DHCPv6と一致しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="5--Acknowledgements">
5. Acknowledgements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 謝辞
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The comments from Thomas Narten, Philip Homburg, Joel Jaeggli, Hemant Singh, Tina Tsou, Suresh Krishnan, and Murray Kucherawy have helped improve this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thomas Narten、Philip Homburg、Joel Jaeggli、Hemant Singh、Tina Tsou、Suresh Krishnan、Murray Kucherawyのコメントは、このドキュメントの改善に役立ちました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="6--Security-Considerations">
6. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. セキュリティに関する考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Relaxing the retransmission behavior for NUD is believed to have no impact on security. In particular, it doesn&#39;t impact the application of Secure Neighbor Discovery [RFC3971].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NUDの再送信動作を緩和しても、セキュリティには影響がないと考えられます。特に、Secure Neighbor Discovery [RFC3971]のアプリケーションには影響しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7--References">
7. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. 参考文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-1--Normative-References">
7.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. 引用文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するキーワード」、BCP 14、RFC 2119、1997年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3971] Arkko, J., Kempf, J., Zill, B., and P. Nikander, &#34;SEcure Neighbor Discovery (SEND)&#34;, RFC 3971, March 2005.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3971] Arkko、J.、Kempf、J.、Zill、B。、およびP. Nikander、「SEcure Neighbor Discovery（SEND）」、RFC 3971、2005年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4861] Narten, T., Nordmark, E., Simpson, W., and H. Soliman, &#34;Neighbor Discovery for IP version 6 (IPv6)&#34;, RFC 4861, September 2007.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4861] Narten、T.、Nordmark、E.、Simpson、W。、およびH. Soliman、「Neighbor Discovery for IP version 6（IPv6）」、RFC 4861、2007年9月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2" id="7-2--Informative-References">
7.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. 参考引用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC0826] Plummer, D., &#34;Ethernet Address Resolution Protocol: Or converting network protocol addresses to 48.bit Ethernet address for transmission on Ethernet hardware&#34;, STD 37, RFC 826, November 1982.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC0826] Plummer、D。、「イーサネットアドレス解決プロトコル：またはネットワークプロトコルアドレスを48ビットのイーサネットアドレスに変換してイーサネットハードウェアで送信する」、STD 37、RFC 826、1982年11月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6583] Gashinsky, I., Jaeggli, J., and W. Kumari, &#34;Operational Neighbor Discovery Problems&#34;, RFC 6583, March 2012.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6583] Gashinsky、I.、Jaeggli、J。、およびW. Kumari、「Operational Neighbor Discovery Problems」、RFC 6583、2012年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Erik Nordmark Arista Networks Santa Clara, CA USA
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エリックノードマークアリスタネットワークスサンタクララ、カリフォルニア州アメリカ合衆国
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: nordmark@acm.org
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Igor Gashinsky Yahoo! 45 W 18th St New York, NY USA
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イゴールガシンスキーYahoo! 45 W 18th Stニューヨーク、ニューヨークアメリカ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: igor@yahoo-inc.com
        </pre>
      </div>

    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
