<!DOCTYPE html>

<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 7351 - A Media Type for XML Patch Operations 日本語訳</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="https://tex2e.github.io/rfc-translater/favicon.ico" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>

</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="privacy-policy.html">Privacy Policy</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">7351</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc7351">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <!-- <div class="row"> -->
      <div id="rfc_header" class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h4 class="alert-heading">RFC 7351 - A Media Type for XML Patch Operations 日本語訳</h4>
          <span class="URL">URL :
            <a href="https://datatracker.ietf.org/doc/html/rfc7351">
              https://datatracker.ietf.org/doc/html/rfc7351
            </a>
          </span><br>
          <span class="title_ja">
            タイトル : <strong>RFC 7351 - XMLパッチ操作のメディアタイプ</strong></span><br>
          <span class="updated_by">翻訳編集 : 自動生成</span><br>
        </div>
      </div>
      <div id="rfc_alert" class="col-sm-12 col-md-12 hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    <!-- </div> -->
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Independent Submission                                          E. Wilde
Request for Comments: 7351                                   UC Berkeley
Category: Informational                                      August 2014
ISSN: 2070-1721
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
A Media Type for XML Patch Operations
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-17">
XMLパッチ操作のメディアタイプ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The XML patch document format defines an XML document structure for expressing a sequence of patch operations to be applied to an XML document. The XML patch document format builds on the foundations defined in RFC 5261. This specification also provides the media type registration &#34;application/xml-patch+xml&#34;, to allow the use of XML patch documents in, for example, HTTP conversations.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMLパッチドキュメント形式は、XMLドキュメントに適用される一連のパッチ操作を表現するためのXMLドキュメント構造を定義します。 XMLパッチドキュメント形式は、RFC 5261で定義された基盤に基づいて構築されます。この仕様では、メディアタイプ登録 &#34;application / xml-patch + xml&#34;も提供され、HTTP会話などでXMLパッチドキュメントを使用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本文書の状態
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is not an Internet Standards Track specification; it is published for informational purposes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントはInternet Standards Trackの仕様ではありません。情報提供を目的として公開されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is a contribution to the RFC Series, independently of any other RFC stream. The RFC Editor has chosen to publish this document at its discretion and makes no statement about its value for implementation or deployment. Documents approved for publication by the RFC Editor are not a candidate for any level of Internet Standard; see Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これは、他のRFCストリームとは無関係に、RFCシリーズへの貢献です。 RFCエディターは、このドキュメントを独自の裁量で公開することを選択し、実装または展開に対するその価値については何も述べていません。 RFC Editorによって公開が承認されたドキュメントは、どのレベルのインターネット標準の候補にもなりません。 RFC 5741のセクション2をご覧ください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7351.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの現在のステータス、エラータ、およびフィードバックの提供方法に関する情報は、http：//www.rfc-editor.org/info/rfc7351で入手できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2014 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）2014 IETF Trustおよびドキュメントの作成者として識別された人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書は、BCP 78およびIETF文書に関するIETFトラストの法的規定（http://trustee.ietf.org/license-info）の対象であり、この文書の発行日に有効です。これらのドキュメントは、このドキュメントに関するあなたの権利と制限を説明しているため、注意深く確認してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Patch Documents . . . . . . . . . . . . . . . . . . . . . . .   3
     2.1.  Patch Document Format . . . . . . . . . . . . . . . . . .   3
     2.2.  Patch Examples  . . . . . . . . . . . . . . . . . . . . .   5
   3.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   7
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   7
     6.1.  Normative References  . . . . . . . . . . . . . . . . . .   7
     6.2.  Informative References  . . . . . . . . . . . . . . . . .   7
   Appendix A.  Implementation Hints . . . . . . . . . . . . . . . .   9
     A.1.  Matching Namespaces . . . . . . . . . . . . . . . . . . .   9
     A.2.  Patching Namespaces . . . . . . . . . . . . . . . . . . .  10
   Appendix B.  ABNF for RFC 5261  . . . . . . . . . . . . . . . . .  12
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Extensible Markup Language (XML) [RFC7303] is a common format for the exchange and storage of structured data. HTTP PATCH [RFC5789] extends HTTP [RFC7231] with a method to perform partial modifications to resources. HTTP PATCH requires that patch documents be sent along with the request, and it is therefore useful for there to be standardized patch document formats (identified by media types) for popular media types.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Extensible Markup Language（XML）[RFC7303]は、構造化データの交換と保存のための一般的な形式です。 HTTP PATCH [RFC5789]は、HTTP [RFC7231]を拡張して、リソースに対して部分的な変更を行うメソッドを備えています。 HTTP PATCHでは、要求とともにパッチドキュメントを送信する必要があるため、一般的なメディアタイプ用に標準化されたパッチドキュメントフォーマット（メディアタイプによって識別される）があると便利です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The XML patch media type &#34;application/xml-patch+xml&#34; is an XML document structure for expressing a sequence of operations to apply to a target XML document, suitable for use with the HTTP PATCH method. Servers can freely choose which patch formats they want to accept, and &#34;application/xml-patch+xml&#34; could be a simple default format that can be used unless a server decides to use a different (maybe more sophisticated) patch format for XML.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMLパッチメディアタイプ「application / xml-patch + xml」は、ターゲットのXMLドキュメントに適用する一連の操作を表現するためのXMLドキュメント構造であり、HTTP PATCHメソッドでの使用に適しています。サーバーは受け入れたいパッチ形式を自由に選択できます。「application / xml-patch + xml」は、サーバーがXMLに別の（おそらくより高度な）パッチ形式を使用することを決定しない限り、使用できる単純なデフォルト形式である可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The format for patch documents is based on the XML patch framework defined in RFC 5261 [RFC5261]. While RFC 5261 does define a concrete syntax as well as the media type &#34;application/patch-ops-error+xml&#34; for error documents, it only defines XML Schema (XSD) [W3C.REC-xmlschema-1-20041028] types for patch operations. The concrete document format and the media type for patch operations are defined in an XSD defined in this specification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
パッチドキュメントの形式は、RFC 5261 [RFC5261]で定義されているXMLパッチフレームワークに基づいています。 RFC 5261は、エラードキュメントの具体的な構文とメディアタイプ「application / patch-ops-error + xml」を定義していますが、XMLスキーマ（XSD）[W3C.REC-xmlschema-1-20041028]タイプのみを定義していますパッチ操作。パッチ操作の具体的なドキュメント形式とメディアタイプは、この仕様で定義されているXSDで定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 This specification relies on RFC 5261 but also requires that errata reported to date are taken into account. The main reason for the errata is the problematic ways in which RFC 5261 relies on XML Path Language (XPath) as the expression language for selecting the location of a patch, while at the same time XPath&#39;s data model does not contain sufficient information to determine whether such a selector indeed can be used for a patch operation or should result in an error. Specifically, the problem occurs with namespaces, where XPath does not expose namespace declaration attributes, while the patch model needs them to determine whether or not a namespace patch is allowed. Appendix A contains more information about the general problem and errata reports.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
この仕様はRFC 5261に依存していますが、これまでに報告されたエラッタも考慮する必要があります。エラッタの主な理由は、RFC 5261がパッチの場所を選択するための式言語としてXMLパス言語（XPath）に依存する問題のある方法であると同時に、XPathのデータモデルには、このようなセレクターは実際にパッチ操作に使用できますが、エラーが発生するはずです。具体的には、問題はネームスペースで発生し、XPathはネームスペース宣言属性を公開しませんが、パッチモデルはネームスペースパッチが許可されているかどうかを判断するためにそれらを必要とします。付録Aには、一般的な問題とエラッタレポートに関する詳細情報が含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Patch Documents
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. パッチドキュメント
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following sections describe and illustrate the XML patch document format.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次のセクションでは、XMLパッチドキュメント形式について説明し、説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. Patch Document Format
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. パッチドキュメント形式
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The XML patch document format is based on a simple schema that uses a &#34;patch&#34; element as the document element and allows an arbitrary sequence of &#34;add&#34;, &#34;remove&#34;, and &#34;replace&#34; elements as the children of the document element. These children follow the semantics defined in RFC 5261, which means that each element is treated as an individual patch operation, and the result of each patch operation is a patched XML document that is the target XML document for the next patch operation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMLパッチドキュメント形式は、「パッチ」要素をドキュメント要素として使用し、「追加」、「削除」、および「置換」要素の任意のシーケンスをドキュメント要素の子として許可する単純なスキーマに基づいています。これらの子はRFC 5261で定義されているセマンティクスに従います。つまり、各要素は個別のパッチ操作として扱われ、各パッチ操作の結果は、次のパッチ操作のターゲットXMLドキュメントであるパッチ済みXMLドキュメントになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following simple example patch document contains a single patch operation. This operation adds a new attribute called &#34;new-attribute&#34; to the document element of the target XML document. An XML patch document always uses a &#34;patch&#34; element in the &#34;urn:ietf:rfc:7351&#34; namespace as the document element that contains zero or more patch operation elements, which are also in the &#34;urn:ietf:rfc:7351&#34; namespace.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の簡単なパッチドキュメントの例には、単一のパッチ操作が含まれています。この操作により、「new-attribute」と呼ばれる新しい属性がターゲットXMLドキュメントのドキュメント要素に追加されます。 XMLパッチドキュメントは、常に「urn：ietf：rfc：7351」ネームスペースの「patch」要素を、「urn：ietf：rfc：7351」にもあるゼロ以上のパッチ操作要素を含むドキュメント要素として使用します。名前空間。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;p:patch xmlns:p=&#34;urn:ietf:rfc:7351&#34;&gt;
       &lt;p:add sel=&#34;*&#34; type=&#34;@new-attribute&#34;&gt;value&lt;/p:add&gt;
   &lt;/p:patch&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following more complex example patch document uses the example from RFC 5261, Section A.18 (but changing the example namespaces to example.com URIs); it uses the same &#34;patch&#34; element and XML namespace as shown in the simpler example. It shows the general structure of an XML patch document with multiple operations, as well as an example of each operation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次のより複雑なサンプルパッチドキュメントは、RFC 5261のセクションA.18の例を使用しています（ただし、名前空間の例をexample.com URIに変更しています）。より単純な例に示すように、同じ「patch」要素とXML名前空間を使用します。複数の操作を含むXMLパッチドキュメントの一般的な構造と、各操作の例を示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;p:patch xmlns=&#34;http://example.com/ns1&#34;
            xmlns:y=&#34;http://example.com/ns2&#34;
            xmlns:p=&#34;urn:ietf:rfc:7351&#34;&gt;
       &lt;p:add sel=&#34;doc/elem[@a=&#39;foo&#39;]&#34;&gt;
           &lt;!-- This is a new child --&gt;
           &lt;child id=&#34;ert4773&#34;&gt;
               &lt;y:node/&gt;
           &lt;/child&gt;
       &lt;/p:add&gt;
       &lt;p:replace sel=&#34;doc/note/text()&#34;&gt;Patched doc&lt;/p:replace&gt;
       &lt;p:remove sel=&#34;*/elem[@a=&#39;bar&#39;]/y:child&#34; ws=&#34;both&#34;/&gt;
       &lt;p:add sel=&#34;*/elem[@a=&#39;bar&#39;]&#34; type=&#34;@b&#34;&gt;new attr&lt;/p:add&gt;
   &lt;/p:patch&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As this example demonstrates, both the document element &#34;patch&#34; and the patch operation elements are in the same XML namespace. This is the result of RFC 5261 only defining types for the patch operation elements, which then can be reused in schemas to define concrete patch elements.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この例が示すように、ドキュメント要素「patch」とパッチ操作要素の両方が同じXML名前空間にあります。これは、RFC 5261がパッチ操作要素のタイプのみを定義した結果であり、スキーマで再利用して、具体的なパッチ要素を定義できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5261 defines XSD [W3C.REC-xmlschema-1-20041028] for the patch operation types. The following schema for the XML patch media type is based on the types defined in RFC 5261, which are imported as &#34;rfc5261.xsd&#34; in the following schema. The schema defines a &#34;patch&#34; document element, and then allows an unlimited (and possibly empty) sequence of the &#34;add&#34;, &#34;remove&#34;, and &#34;replace&#34; operation elements, which are directly based on the respective types from the schema defined in RFC 5261.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5261は、パッチ操作タイプのXSD [W3C.REC-xmlschema-1-20041028]を定義しています。次のXMLパッチメディアタイプのスキーマは、RFC 5261で定義されているタイプに基づいています。これらのタイプは、次のスキーマで「rfc5261.xsd」としてインポートされます。スキーマは「パッチ」ドキュメント要素を定義し、定義されたスキーマのそれぞれのタイプに直接基づく「追加」、「削除」、および「置換」操作要素の無制限の（場合によっては空の）シーケンスを許可します。 RFC 5261。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;xs:schema targetNamespace=&#34;urn:ietf:rfc:7351&#34;
              xmlns:xs=&#34;http://www.w3.org/2001/XMLSchema&#34;&gt;
       &lt;xs:import schemaLocation=&#34;rfc5261.xsd&#34;/&gt;
       &lt;xs:element name=&#34;patch&#34;&gt;
           &lt;xs:complexType&gt;
               &lt;xs:choice minOccurs=&#34;0&#34; maxOccurs=&#34;unbounded&#34;&gt;
                   &lt;xs:element name=&#34;add&#34; type=&#34;add&#34;/&gt;
                   &lt;xs:element name=&#34;remove&#34; type=&#34;remove&#34;/&gt;
                   &lt;xs:element name=&#34;replace&#34; type=&#34;replace&#34;/&gt;
               &lt;/xs:choice&gt;
           &lt;/xs:complexType&gt;
       &lt;/xs:element&gt;
   &lt;/xs:schema&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.2. Patch Examples
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.2. パッチの例
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Since the semantics of the XML patch operations are defined by RFC 5261, please refer to the numerous examples in that specification for more XML patch document examples. All the examples in RFC 5261 can be taken as examples for the XML patch media type, when looking at them with two minor changes in mind.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMLパッチ操作のセマンティクスはRFC 5261で定義されているため、XMLパッチドキュメントの例については、仕様の多数の例を参照してください。 RFC 5261のすべての例は、2つの小さな変更を考慮してXMLパッチメディアタイプの例として見ることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The two differences are that XML patch documents always use the &#34;patch&#34; element as the document element and that both the &#34;patch&#34; element and the individual operation elements in XML patch documents have to be in the XML namespace with the URI &#34;urn:ietf:rfc:7351&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2つの違いは、XMLパッチドキュメントは常に「patch」要素をドキュメント要素として使用することと、「patch」要素とXMLパッチドキュメントの個々の操作要素の両方が、URIが「urn：ietf」のXML名前空間にある必要があることです。 ：rfc：7351 &#34;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For example, consider the patch example in RFC 5261, Appendix A.1, &#34;Adding an Element&#34;. In this example, the patch is applied to the following XML document:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
たとえば、RFC 5261の付録A.1「要素の追加」のパッチの例を考えてみます。この例では、パッチは次のXMLドキュメントに適用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
   &lt;doc&gt;
       &lt;note&gt;This is a sample document&lt;/note&gt;
   &lt;/doc&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The patch example is based on the following patch document (with the element and namespace changes described above):
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
パッチの例は、次のパッチドキュメント（上記の要素と名前空間の変更を含む）に基づいています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;p:patch xmlns:p=&#34;urn:ietf:rfc:7351&#34;&gt;
    &lt;p:add sel=&#34;doc&#34;&gt;&lt;foo id=&#34;ert4773&#34;&gt;This is a new child&lt;/foo&gt;&lt;/p:add&gt;
&lt;/p:patch&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Applying the patch results in the following XML document:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
パッチを適用すると、次のXMLドキュメントが生成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
   &lt;doc&gt;
       &lt;note&gt;This is a sample document&lt;/note&gt;
   &lt;foo id=&#34;ert4773&#34;&gt;This is a new child&lt;/foo&gt;&lt;/doc&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. IANA Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. IANAに関する考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Internet media type [RFC6838] for an XML patch document is application/xml-patch+xml.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMLパッチドキュメントのインターネットメディアタイプ[RFC6838]は、application / xml-patch + xmlです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Type name: application
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
タイプ名：アプリケーション
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Subtype name: xml-patch+xml
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
サブタイプ名：xml-patch + xml
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Required parameters: none Optional parameters:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
必須パラメーター：なしオプションパラメーター：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
charset: Same as charset parameter for the media type &#34;application/xml&#34; as specified in RFC 7303 [RFC7303].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
charset：RFC 7303 [RFC7303]で指定されているメディアタイプ「application / xml」のcharsetパラメータと同じです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Encoding considerations: Same as encoding considerations of media type &#34;application/xml&#34; as specified in RFC 7303 [RFC7303].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
エンコーディングに関する考慮事項：RFC 7303 [RFC7303]で指定されているメディアタイプ「application / xml」のエンコーディングに関する考慮事項と同じです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Security considerations: This media type has all of the security considerations described in RFC 7303 [RFC7303], RFC 5261 [RFC5261], and RFC 3470 [RFC3470], plus those listed in Section 4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
セキュリティに関する考慮事項：このメディアタイプには、RFC 7303 [RFC7303]、RFC 5261 [RFC5261]、およびRFC 3470 [RFC3470]で説明されているすべてのセキュリティに関する考慮事項と、セクション4に記載されている考慮事項があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Interoperability considerations: N/A
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
相互運用性に関する考慮事項：N / A
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Published specification: RFC 7351
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
公開された仕様：RFC 7351
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Applications that use this media type: Applications that manipulate XML documents.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
このメディアタイプを使用するアプリケーション：XMLドキュメントを操作するアプリケーション。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Additional information:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
追加情報：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
         Magic number(s): N/A
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
File extension(s): XML documents often use &#34;.xml&#34; as the file extension, and this media type does not propose a specific extension other than this generic one.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
ファイル拡張子：XMLドキュメントはファイル拡張子として「.xml」を使用することが多く、このメディアタイプはこの一般的な拡張子以外の特定の拡張子を提案しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
Macintosh file type code(s): TEXT
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-9">
Macintoshファイルタイプコード：TEXT
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      Person &amp; email address to contact for further information: Erik
      Wilde &lt;dret@berkeley.edu&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Intended usage: COMMON
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
使用目的：COMMON
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Restrictions on usage: none
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
使用上の制限：なし
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      Author: Erik Wilde &lt;dret@berkeley.edu&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
Change controller: IETF
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
コントローラの変更：IETF
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. セキュリティに関する考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The security considerations from RFC 5261 [RFC5261] apply to the application/xml-patch+xml media type.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5261 [RFC5261]のセキュリティに関する考慮事項は、application / xml-patch + xmlメディアタイプに適用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In addition, parsing XML may entail including information from external sources through XML&#39;s mechanism of external entities. Implementations, therefore, should be aware of the fact that standard parsers may resolve external entities and thus include external information as a result of applying patch operations to an XML document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
さらに、XMLの解析には、外部エンティティのXMLメカニズムを介した外部ソースからの情報を含める必要がある場合があります。したがって、実装では、標準のパーサーが外部エンティティを解決し、XMLドキュメントにパッチ操作を適用した結果として外部情報が含まれる可能性があることを認識しておく必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Acknowledgements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. 謝辞
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thanks for comments and suggestions provided by Bas de Bakker, Tony Hansen, Bjoern Hoehrmann, and Julian Reschke.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Bas de Bakker、Tony Hansen、Bjoern Hoehrmann、Julian Reschkeからのコメントと提案に感謝します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. 参考文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. 引用文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3470] Hollenbeck, S., Rose, M., and L. Masinter, &#34;Guidelines for the Use of Extensible Markup Language (XML) within IETF Protocols&#34;, BCP 70, RFC 3470, January 2003.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3470] Hollenbeck、S.、Rose、M。、およびL. Masinter、「IETFプロトコル内でのExtensible Markup Language（XML）の使用に関するガイドライン」、BCP 70、RFC 3470、2003年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5234] Crocker, D. and P. Overell, &#34;Augmented BNF for Syntax Specifications: ABNF&#34;, STD 68, RFC 5234, January 2008.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5234] Crocker、D。およびP. Overell、「構文仕様の拡張BNF：ABNF」、STD 68、RFC 5234、2008年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5261] Urpalainen, J., &#34;An Extensible Markup Language (XML) Patch Operations Framework Utilizing XML Path Language (XPath) Selectors&#34;, RFC 5261, September 2008.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5261] Urpalainen、J。、「XMLパス言語（XPath）セレクターを利用した拡張マークアップ言語（XML）パッチ操作フレームワーク」、RFC 5261、2008年9月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6838] Freed, N., Klensin, J., and T. Hansen, &#34;Media Type Specifications and Registration Procedures&#34;, BCP 13, RFC 6838, January 2013.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6838] Freed、N.、Klensin、J。、およびT. Hansen、「メディアタイプの仕様と登録手順」、BCP 13、RFC 6838、2013年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7303] Thompson, H. and C. Lilley, &#34;XML Media Types&#34;, RFC 7303, July 2014.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7303] Thompson、H。およびC. Lilley、「XML Media Types」、RFC 7303、2014年7月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. 参考引用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[Err3477] RFC Errata, &#34;Errata ID 3477&#34;, RFC 5261.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[Err3477] RFC Errata、「Errata ID 3477」、RFC 5261。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[Err3478] RFC Errata, &#34;Errata ID 3478&#34;, RFC 5261.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[Err3478] RFC Errata、「Errata ID 3478」、RFC 5261。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5789] Dusseault, L. and J. Snell, &#34;PATCH Method for HTTP&#34;, RFC 5789, March 2010.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5789] Dusseault、L.およびJ. Snell、「PATCH Method for HTTP」、RFC 5789、2010年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7231] Fielding, R. and J. Reschke, &#34;Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content&#34;, RFC 7231, June 2014.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7231] Fielding、R。およびJ. Reschke、「Hypertext Transfer Protocol（HTTP / 1.1）：Semantics and Content」、RFC 7231、2014年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-DOM-Level-3-Core-20040407] Robie, J., Wood, L., Champion, M., Hegaret, P., Nicol, G., Le Hors, A., and S. Byrne, &#34;Document Object Model (DOM) Level 3 Core Specification&#34;, World Wide Web Consortium Recommendation REC-DOM-Level-3-Core-20040407, April 2004, &lt;http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-DOM-Level-3-Core-20040407] Robie、J.、Wood、L.、Champion、M.、Hegaret、P.、Nicol、G.、Le Hors、A.、and S. Byrne 、「Document Object Model（DOM）Level 3 Core Specification」、World Wide Web Consortium Recommendation REC-DOM-Level-3-Core-20040407、2004年4月、&lt;http://www.w3.org/TR/2004/REC -DOM-Level-3-Core-20040407&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-xml-20081126] Sperberg-McQueen, C., Yergeau, F., Paoli, J., Maler, E., and T. Bray, &#34;Extensible Markup Language (XML) 1.0 (Fifth Edition)&#34;, World Wide Web Consortium Recommendation REC-xml-20081126, November 2008, &lt;http://www.w3.org/TR/2008/REC-xml-20081126&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-xml-20081126] Sperberg-McQueen、C.、Yergeau、F.、Paoli、J.、Maler、E。、およびT. Bray、「Extensible Markup Language（XML）1.0（Fifth Edition）」、 World Wide Web Consortium Recommendation REC-xml-20081126、2008年11月、&lt;http://www.w3.org/TR/2008/REC-xml-20081126&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-xml-names-20091208] Hollander, D., Layman, A., Bray, T., Tobin, R., and H. Thompson, &#34;Namespaces in XML 1.0 (Third Edition)&#34;, World Wide Web Consortium Recommendation REC-xml-names-20091208, December 2009, &lt;http://www.w3.org/TR/2009/REC-xml-names-20091208&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-xml-names-20091208] Hollander、D.、Layman、A.、Bray、T.、Tobin、R.、and H. Thompson、 &#34;Namespaces in XML 1.0（Third Edition）&#34;、World Wide Webコンソーシアム勧告REC-xml-names-20091208、2009年12月、&lt;http://www.w3.org/TR/2009/REC-xml-names-20091208&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-xmlschema-1-20041028] Thompson, H., Beech, D., Maloney, M., and N. Mendelsohn, &#34;XML Schema Part 1: Structures Second Edition&#34;, World Wide Web Consortium Recommendation REC-xmlschema-1-20041028, October 2004, &lt;http://www.w3.org/TR/2004/REC-xmlschema-1-20041028&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-xmlschema-1-20041028] Thompson、H.、Beech、D.、Maloney、M。、およびN. Mendelsohn、「XML Schema Part 1：Structures Second Edition」、World Wide Web Consortium Recommendation REC-xmlschema -1-20041028、2004年10月、&lt;http://www.w3.org/TR/2004/REC-xmlschema-1-20041028&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-xpath-19991116] DeRose, S. and J. Clark, &#34;XML Path Language (XPath) Version 1.0&#34;, World Wide Web Consortium Recommendation REC-xpath-19991116, November 1999, &lt;http://www.w3.org/TR/1999/REC-xpath-19991116&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-xpath-19991116] DeRose、S。およびJ. Clark、「XML Path Language（XPath）Version 1.0」、World Wide Web Consortium Recommendation REC-xpath-19991116、1999年11月、&lt;http：// www。 w3.org/TR/1999/REC-xpath-19991116&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-xpath20-20101214] Boag, S., Berglund, A., Kay, M., Simeon, J., Robie, J., Chamberlin, D., and M. Fernandez, &#34;XML Path Language (XPath) 2.0 (Second Edition)&#34;, World Wide Web Consortium Recommendation REC-xpath20-20101214, December 2010, &lt;http://www.w3.org/TR/2010/REC-xpath20-20101214&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[W3C.REC-xpath20-20101214] Boag、S.、Berglund、A.、Kay、M.、Simeon、J.、Robie、J.、Chamberlin、D.、and M. Fernandez、 &#34;XML Path Language（XPath ）2.0（Second Edition）」、World Wide Web Consortium Recommendation REC-xpath20-20101214、2010年12月、&lt;http://www.w3.org/TR/2010/REC-xpath20-20101214&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
Appendix A. Implementation Hints
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
付録A.実装のヒント
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This section is informative. It describes some issues that might be interesting for implementers, but it might also be interesting for users of XML patch that want to understand some of the differences between standard XPath 1.0 processing and the processing model of selectors in RFC 5261.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このセクションは参考情報です。実装者にとって興味深いかもしれないいくつかの問題について説明しますが、標準のXPath 1.0処理とRFC 5261のセレクターの処理モデルの違いのいくつかを理解したいXMLパッチのユーザーにとっても興味深いかもしれません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Specifically, the issues described in the following two sections have been identified as technical issues with RFC 5261 and have been filed as errata. Implementers interested in using XML patch are encouraged to take those errata into account when implementing XML patch documents. The issue about &#34;Matching Namespaces&#34; described in Appendix A.1 has been filed as RFC Errata ID 3477 [Err3477]. The issue about &#34;Patching Namespaces&#34; described in Appendix A.2 has been filed as RFC Errata ID 3478 [Err3478].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
具体的には、次の2つのセクションで説明する問題は、RFC 5261の技術的な問題として識別されており、エラッタとして提出されています。 XMLパッチドキュメントを実装する場合は、XMLパッチの使用に関心のある実装者がそれらのエラッタを考慮することをお勧めします。付録A.1で説明されている「名前空間の一致」に関する問題は、RFC Errata ID 3477 [Err3477]として提出されています。付録A.2で説明されている「パッチング名前空間」に関する問題は、RFC Errata ID 3478 [Err3478]として提出されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
A.1. Matching Namespaces
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
A.1. 名前空間の一致
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5261 defines standard rules for matching prefixed names in expressions: any prefixes are interpreted according to the namespace bindings of the diff document (the document that the expression is applied against). This means that each prefixed name can be interpreted in the context of the diff document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5261は、式の接頭辞付きの名前を照合するための標準ルールを定義しています。接頭辞は、diffドキュメント（式が適用されるドキュメント）の名前空間バインディングに従って解釈されます。つまり、接頭辞が付いた各名前は、diffドキュメントのコンテキストで解釈できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For unprefixed names in expressions, the rules depart from XPath 1.0 [W3C.REC-xpath-19991116]. XPath 1.0 defines that unprefixed names in expressions match namespace-less names (i.e., there is no &#34;default namespace&#34; for names used in XPath 1.0 expressions). RFC 5261 requires, however, that unprefixed names in expressions must use the default namespace of the diff document (if there is one). This means that it is not possible to simply take a selector from a patch document and evaluate it in the context of the diff document according to the rules of XPath 1.0 because this would interpret unprefixed names incorrectly. As a consequence, it is not possible to simply take an XPath 1.0 processor and evaluate XML patch selectors in the context of the diff document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
式の接頭辞のない名前の場合、ルールはXPath 1.0 [W3C.REC-xpath-19991116]から逸脱しています。 XPath 1.0は、式の接頭辞なしの名前が名前空間のない名前に一致することを定義しています（つまり、XPath 1.0式で使用される名前には「デフォルトの名前空間」はありません）。ただし、RFC 5261では、式の接頭辞のない名前には、diffドキュメントのデフォルトのネームスペース（存在する場合）を使用する必要があります。つまり、接頭辞のない名前が誤って解釈されるため、パッチドキュメントからセレクタを取得して、XPath 1.0のルールに従ってdiffドキュメントのコンテキストでそれを評価することは不可能です。その結果、XPath 1.0プロセッサを使用して、diffドキュメントのコンテキストでXMLパッチセレクタを評価するだけでは不可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 As an extension of XPath 1.0&#39;s simple model, XPath 2.0 [W3C.REC-xpath20-20101214] specifies different processing rules for unprefixed names: they are matched against the URI of the &#34;default element/type namespace&#34;, which is defined as part of an expression&#39;s static context. In some XPath 2.0 applications, this can be set; XSL Transformations (XSLT) 2.0, for example, has the ability to define an &#34;xpath-default-namespace&#34;, which then will be used to match unprefixed names in expressions. Thus, by using an XPath 2.0 implementation that allows one to set this URI, and setting it to the default namespace of the diff document (or leaving it undefined if there is no such default namespace), it is possible to use an out-of-the-box XPath 2.0 implementation for evaluating XML patch selectors.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
XPath 1.0の単純なモデルの拡張として、XPath 2.0 [W3C.REC-xpath20-20101214]は、接頭辞なしの名前に対してさまざまな処理規則を指定します。これらは、次のように定義される「デフォルトの要素/タイプの名前空間」のURIと照合されます。式の静的コンテキストの一部。一部のXPath 2.0アプリケーションでは、これを設定できます。たとえば、XSL Transformations（XSLT）2.0には「xpath-default-namespace」を定義する機能があり、これを使用して式の接頭辞のない名前を照合します。したがって、このURIを設定できるXPath 2.0実装を使用し、それをdiffドキュメントのデフォルトの名前空間に設定する（または、そのようなデフォルトの名前空間がない場合は未定義のままにする）ことで、out-of -XMLパッチセレクターを評価するためのボックスXPath 2.0実装。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Please keep in mind, however, that evaluating selectors is only one part of applying patches. When it comes to applying the actual patch operation, neither XPath 1.0 nor XPath 2.0 are sufficient because they do not preserve some of the information from the XML syntax (specifically namespace declarations) that is required to correctly apply patch operations. The following section describes this issue in more detail.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ただし、セレクタの評価はパッチの適用の一部にすぎないことに注意してください。実際のパッチ操作の適用に関しては、XPath 1.0もXPath 2.0も、パッチ操作を正しく適用するために必要なXML構文（特に名前空間宣言）からの情報の一部を保持しないため、十分ではありません。次のセクションでは、この問題について詳しく説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Please note that [RFC5261], Section 4.2.2 on namespace matching explains XPath 2.0&#39;s rules incorrectly. For this reason, RFC Errata ID 3477 is available for Section 4.2.2 of RFC 5261.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5261]の名前空間の照合に関するセクション4.2.2は、XPath 2.0のルールを誤って説明していることに注意してください。このため、RFC Errata ID 3477はRFC 5261のセクション4.2.2で利用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
A.2. Patching Namespaces
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
A.2. 名前空間のパッチ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
One of the issues when patching namespaces based on XPath is that XPath exposes namespaces differently than the XML 1.0 [W3C.REC-xml-20081126] syntax for XML namespaces [W3C.REC-xml-names-20091208]. In the XML syntax, a namespace is declared with an attribute using the reserved name or prefix &#34;xmlns&#34;, and this results in this namespace being available recursively through the document tree. In XPath, the namespace declaration is not exposed as an attribute (i.e., the attribute, although syntactically an XML attribute, is not accessible in XPath), but the resulting namespace nodes are exposed recursively through the tree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XPathに基づいて名前空間にパッチを適用するときの問題の1つは、XPathがXML 1.0 [W3C.REC-xml-20081126] XML名前空間[W3C.REC-xml-names-20091208]の構文とは異なる方法で名前空間を公開することです。 XML構文では、名前空間は予約済みの名前または接頭辞 &#34;xmlns&#34;を使用して属性で宣言され、これにより、この名前空間はドキュメントツリーから再帰的に使用できるようになります。 XPathでは、名前空間宣言は属性として公開されていません（つまり、属性は構文的にはXML属性ですが、XPathでアクセスできません）。しかし、結果の名前空間ノードはツリーを通じて再帰的に公開されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5261 uses the terms &#34;namespace declaration&#34; and &#34;namespace&#34; almost interchangeably, but it is important to keep in mind that the namespace declaration is an XML syntax construct that is unavailable in XPath, while the namespace itself is a logical construct that is not visible in the XML syntax, but a result of a namespace declaration. The intent of RFC 5261 is to patch namespaces as if namespace declarations were patched; thus, it only allows patching namespace nodes on the element nodes where the namespace has been declared.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5261では「名前空間宣言」と「名前空間」という用語をほぼ同じ意味で使用していますが、名前空間宣言はXPathでは使用できないXML構文構造であり、名前空間自体は論理構造ではないことに注意してください。 XML構文で表示されますが、名前空間宣言の結果です。 RFC 5261の目的は、ネームスペース宣言にパッチが適用されたかのようにネームスペースにパッチを適用することです。したがって、名前空間が宣言されている要素ノード上の名前空間ノードにのみパッチを適用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Patching namespaces in XML patch is supposed to &#34;emulate&#34; the effect of actually changing the namespace declaration (which is why a namespace can only be patched at the element where it has been declared). Therefore, when patching a namespace, even though XPath&#39;s &#34;namespace&#34; axis is used, implementations have to make sure that not only the single selected namespace node is being patched but that all namespaces nodes resulting from the namespace declaration of this namespace are also patched accordingly.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMLパッチで名前空間にパッチを適用すると、名前空間宣言を実際に変更する効果が「エミュレート」されるはずです（そのため、名前空間は、宣言されている要素でのみパッチを適用できます）。したがって、名前空間にパッチを適用する場合、XPathの「名前空間」軸が使用されていても、実装では、選択された単一の名前空間ノードにパッチが適用されるだけでなく、この名前空間の名前空間宣言に起因するすべての名前空間ノードにもパッチが適用されるようにする必要があります。 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This means that an implementation might have to descend into the tree, matching all namespace nodes with the selected prefix/URI pair recursively, until it encounters leaf elements or namespace declarations with the same prefix it is patching. Determining this requires access to the diff document beyond XPath, because, in XPath itself, namespace declarations are not represented; thus, such a recursive algorithm wouldn&#39;t know when to stop. Consider the following document:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
つまり、パッチを適用している同じ接頭辞を持つリーフ要素または名前空間宣言に遭遇するまで、実装はツリーに降りて、選択した接頭辞/ URIペアとすべての名前空間ノードを再帰的に照合しなければならない場合があります。 XPath自体では名前空間宣言が表されないため、これを決定するには、XPathを超えてdiffドキュメントにアクセスする必要があります。したがって、そのような再帰的アルゴリズムでは、いつ停止するかがわかりません。次のドキュメントを検討してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;x xmlns:a=&#34;tag:42&#34;&gt;
       &lt;y xmlns:a=&#34;tag:42&#34;/&gt;
   &lt;/x&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If this document is patched with a selector of /x/namespace::a, then only the namespace node on element x should be patched, even though the namespace node on element y has the same prefix/URI combination as the one on element x. However, determining that the repeated namespace declaration was present at all on element y is impossible when using XPath alone, which means that implementations must have an alternative way to determine the difference between the document above, and this one:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントが/ x / namespace :: aのセレクターでパッチされている場合、要素yの名前空間ノードに要素xのプレフィックスとURIの組み合わせと同じであっても、要素xの名前空間ノードのみにパッチを適用する必要があります。 。ただし、XPathだけを使用する場合、繰り返し名前空間宣言が要素yに存在することを確認することは不可能です。つまり、実装には、上記のドキュメントとこのドキュメントの違いを判断する別の方法が必要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   &lt;x xmlns:a=&#34;tag:42&#34;&gt;
       &lt;y/&gt;
   &lt;/x&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In this second example, patching with a selector of /x/namespace::a should indeed change the namespace nodes on elements x and y, because they both have been derived from the same namespace declaration.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この2番目の例では、/ x / namespace :: aのセレクターでパッチを適用すると、要素xとyの名前空間ノードが実際に変更されます。これらは両方とも同じ名前空間宣言から派生しているためです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The conclusion of these considerations is that for implementing XML patch, access closer to the XML syntax (specifically access to namespace declarations) is necessary. As a result, implementations attempting to exclusively use the XPath model for implementing XML patch will fail to correctly address certain edge cases (such as the one shown above).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これらの考慮事項の結論は、XMLパッチを実装するには、XML構文により近いアクセス（特に名前空間宣言へのアクセス）が必要であるということです。その結果、XMLパッチを実装するためにXPathモデルのみを使用しようとする実装は、特定のエッジケース（上記の例など）に正しく対処できません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that XPath&#39;s specific limitations do not mean that it is impossible to use XML technologies other than XPath. The Document Object Model (DOM) [W3C.REC-DOM-Level-3-Core-20040407], for example, does expose namespace declaration attributes as regular attributes in the document tree; thus, they could be used to differentiate between the two variants shown above.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XPathの特定の制限は、XPath以外のXMLテクノロジーを使用できないことを意味するものではないことに注意してください。たとえば、ドキュメントオブジェクトモデル（DOM）[W3C.REC-DOM-Level-3-Core-20040407]は、名前空間宣言属性をドキュメントツリーの通常の属性として公開します。したがって、上記の2つのバリアントを区別するために使用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Please note that RFC 5261, Section 4.4.3 (on replacing namespaces) mixes the terms &#34;namespace declaration&#34; and &#34;namespace&#34;. For this reason, RFC Errata ID 3478 is available for Section 4.4.3 of RFC 5261.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5261のセクション4.4.3（名前空間の置き換えについて）では、「名前空間宣言」と「名前空間」という用語が混在していることに注意してください。このため、RFC Errata ID 3478はRFC 5261のセクション4.4.3で利用できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
Appendix B. ABNF for RFC 5261
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
付録B. RFC 5261のABNF
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5261 [RFC5261] does not contain an ABNF grammar for the allowed subset of XPath expressions but includes an XSD-based grammar in its type definition for operation types. In order to make implementation easier, this appendix contains an ABNF grammar that has been derived from the XSD expressions in RFC 5261. In the following grammar, &#34;xpath&#34; is the definition for the allowed XPath expressions for remove and replace operations, and &#34;xpath-add&#34; is the definition for the allowed XPath expressions for add operations. The names of all grammar productions are the ones used in the XSD-based grammar of RFC 5261.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 5261 [RFC5261]には、XPath式の許可されたサブセットのABNF文法は含まれていませんが、操作タイプのタイプ定義にXSDベースの文法が含まれています。実装を容易にするために、この付録には、RFC 5261のXSD式から派生したABNF文法が含まれています。次の文法では、「xpath」は、削除および置換操作で許可されるXPath式の定義であり、「xpath -add &#34;は、追加操作で許可されるXPath式の定義です。すべての文法プロダクションの名前は、RFC 5261のXSDベースの文法で使用されているものです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
anychar    =  %x00-ffffffff
ncname     =  1*%x00-ffffffff
qname      =  [ ncname &#34;:&#34; ] ncname
aname      =  &#34;@&#34; qname
pos        =  &#34;[&#34; 1*DIGIT &#34;]&#34;
attr       =  ( &#34;[&#34; aname &#34;=&#39;&#34; 0*anychar &#34;&#39;]&#34; ) /
              ( &#34;[&#34; aname &#34;=&#34; DQUOTE 0*anychar DQUOTE &#34;]&#34; )
valueq     =  &#34;[&#34; ( qname / &#34;.&#34; ) &#34;=&#34; DQUOTE 0*anychar DQUOTE &#34;]&#34;
value      =  ( &#34;[&#34; ( qname / &#34;.&#34; ) &#34;=&#39;&#34; 0*anychar &#34;&#39;]&#34; ) / valueq
cond       =  attr / value / pos
step       =  ( qname / &#34;*&#34; ) 0*cond
piq        =  %x70.72.6f.63.65.73.73.69.6e.67.2d
              %x69.6e.73.74.72.75.63.74.69.6f.6e
              ; &#34;processing-instruction&#34;, case-sensitive
              &#34;(&#34; [ DQUOTE ncname DQUOTE ] &#34;)&#34;
pi         =  ( %x70.72.6f.63.65.73.73.69.6e.67.2d
              %x69.6e.73.74.72.75.63.74.69.6f.6e
              ; &#34;processing-instruction&#34;, case-sensitive
              &#34;(&#34; [ &#34;&#39;&#34; ncname &#34;&#39;&#34; ] &#34;)&#34; ) / piq
id         =  ( %x69.64 ; &#34;id&#34;, case-sensitive
              &#34;(&#34; [ &#34;&#39;&#34; ncname &#34;&#39;&#34; ] &#34;)&#34; ) /
              ( %x69.64 ; &#34;id&#34;, case-sensitive
              &#34;(&#34; [ DQUOTE ncname DQUOTE ] &#34;)&#34; )
com        =  %x63.6f.6d.6d.65.6e.74 ; &#34;comment&#34;, case-sensitive
              &#34;()&#34;
text       =  %x74.65.78.74 ; &#34;text&#34;, case-sensitive
              &#34;()&#34;
nspa       =  %x6e.61.6d.65.73.70.61.63.65 ; &#34;namespace&#34;, case-sensitive
              &#34;::&#34; ncname
cnodes     =  ( text / com / pi ) [ pos ]
child      =  cnodes / step
last       =  child / aname / nspa
xpath      =  [ &#34;/&#34; ] ( ( id [ 0*( &#34;/&#34; step ) &#34;/&#34; last ] ) /
              ( 0*( step &#34;/&#34; ) last ) )
xpath-add  =  [ &#34;/&#34; ] ( ( id [ 0*( &#34;/&#34; step ) &#34;/&#34; child ] ) /
              ( 0*( step &#34;/&#34; ) child ) )
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Please note that the &#34;ncname&#34; production listed above does not fully capture the constraints of the original XSD-based definition, where it is defined as &#34;\i\c*&#34;. DIGIT and DQUOTE are defined by the ABNF specification [RFC5234].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記の「ncname」プロダクションは、「\ i \ c *」として定義されている元のXSDベースの定義の制約を完全にはキャプチャしていません。 DIGITとDQUOTEは、ABNF仕様[RFC5234]で定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Author&#39;s Address
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Erik Wilde UC Berkeley
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
エリックワイルドUCバークレー
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   EMail: dret@berkeley.edu
   URI:   http://dret.net/netdret/
        </pre>
      </div>

    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
