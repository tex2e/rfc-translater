<!DOCTYPE html>

<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RFC 8048 - Interworking between the Session Initiation Protocol (SIP) and the Extensible Messaging and Presence Protocol (XMPP): Presence 日本語訳</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="https://tex2e.github.io/rfc-translater/favicon.ico" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>

</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="contact.html">Contact</a>
        <a class="nav-item nav-link" href="../figs/html/index.html">Figs</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">8048</span>
  <div style="height: 1ex;"></div>
  <div class="jump-to-original-rfc-container">
    <a href="https://datatracker.ietf.org/doc/html/rfc8048">
      <button type="button" class="btn btn-light btn-sm">
        <span class="jump-to-original-rfc">Orig</span>
      </button>
    </a>
  </div>
  <div class="container">
    <!-- <div class="row"> -->
      <div id="rfc_header" class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h4 class="alert-heading">RFC 8048 - Interworking between the Session Initiation Protocol (SIP) and the Extensible Messaging and Presence Protocol (XMPP): Presence 日本語訳</h4>
          <span class="URL">URL :
            <a href="https://datatracker.ietf.org/doc/html/rfc8048">
              https://datatracker.ietf.org/doc/html/rfc8048
            </a>
          </span><br>
          <span class="title_ja">
            タイトル : <strong>RFC 8048 - セッション開始プロトコル（SIP）と拡張メッセージングおよびプレゼンスプロトコル（XMPP）間のインターワーキング：プレゼンス</strong></span><br>
          <span class="updated_by">翻訳編集 : 自動生成</span><br>
        </div>
      </div>
      <div id="rfc_alert" class="col-sm-12 col-md-12 hidden" role="alert">
        <div class="alert alert-danger">
          <span id="rfc_alert_obsoleted_by"></span>
        </div>
      </div>
    <!-- </div> -->
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                    P. Saint-Andre
Request for Comments: 8048                                      Filament
Obsoletes: 7248                                            December 2016
Category: Standards Track
ISSN: 2070-1721
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Interworking between the Session Initiation Protocol (SIP) and the Extensible Messaging and Presence Protocol (XMPP): Presence
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セッション開始プロトコル（SIP）と拡張メッセージングおよびプレゼンスプロトコル（XMPP）間のインターワーキング：プレゼンス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
概要
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines a bidirectional protocol mapping for the exchange of presence information between the Session Initiation Protocol (SIP) and the Extensible Messaging and Presence Protocol (XMPP). This document obsoletes RFC 7248.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントでは、Session Initiation Protocol（SIP）とExtensible Messaging and Presence Protocol（XMPP）の間でプレゼンス情報を交換するための双方向プロトコルマッピングを定義します。このドキュメントはRFC 7248を廃止します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
本文書の状態
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これはInternet Standards Trackドキュメントです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 7841.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントは、IETF（Internet Engineering Task Force）の製品です。これは、IETFコミュニティのコンセンサスを表しています。公開レビューを受け、インターネットエンジニアリングステアリンググループ（IESG）による公開が承認されました。インターネット標準の詳細については、RFC 7841のセクション2をご覧ください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc8048.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの現在のステータス、エラッタ、およびフィードバックの提供方法に関する情報は、http：//www.rfc-editor.org/info/rfc8048で入手できます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2016 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright（c）2016 IETF Trustおよびドキュメントの作成者として識別された人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書は、BCP 78およびこの文書の発行日に有効なIETF文書に関するIETFトラストの法的規定（http://trustee.ietf.org/license-info）の対象となります。これらのドキュメントは、このドキュメントに関するあなたの権利と制限を説明しているため、注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、Trust Legal Provisionsのセクション4.eに記載されているSimplified BSD Licenseのテキストが含まれている必要があり、Simplified BSD Licenseに記載されているように保証なしで提供されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3
   2.  Intended Audience . . . . . . . . . . . . . . . . . . . . . .   4
   3.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   5
   4.  Architectural Assumptions . . . . . . . . . . . . . . . . . .   5
   5.  Presence Authorizations . . . . . . . . . . . . . . . . . . .   6
     5.1.  Overview  . . . . . . . . . . . . . . . . . . . . . . . .   6
     5.2.  XMPP to SIP . . . . . . . . . . . . . . . . . . . . . . .   7
       5.2.1.  Requesting a Presence Authorization . . . . . . . . .   7
       5.2.2.  Refreshing a Notification Dialog  . . . . . . . . . .  11
       5.2.3.  Cancelling a Presence Authorization . . . . . . . . .  11
     5.3.  SIP to XMPP . . . . . . . . . . . . . . . . . . . . . . .  15
       5.3.1.  Requesting a Presence Authorization . . . . . . . . .  15
       5.3.2.  Refreshing a Notification Dialog  . . . . . . . . . .  18
       5.3.3.  Cancelling a Presence Authorization . . . . . . . . .  19
   6.  Notifications of Presence Information . . . . . . . . . . . .  19
     6.1.  Overview  . . . . . . . . . . . . . . . . . . . . . . . .  19
     6.2.  XMPP to SIP . . . . . . . . . . . . . . . . . . . . . . .  20
     6.3.  SIP to XMPP . . . . . . . . . . . . . . . . . . . . . . .  25
   7.  Polling for Presence Information  . . . . . . . . . . . . . .  27
     7.1.  XMPP to SIP . . . . . . . . . . . . . . . . . . . . . . .  27
     7.2.  SIP to XMPP . . . . . . . . . . . . . . . . . . . . . . .  28
   8.  Privacy and Security Considerations . . . . . . . . . . . . .  28
     8.1.  Amplification Attacks . . . . . . . . . . . . . . . . . .  28
     8.2.  Presence Leaks  . . . . . . . . . . . . . . . . . . . . .  29
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  30
     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  30
     9.2.  Informative References  . . . . . . . . . . . . . . . . .  31
   Appendix A.  Changes from RFC 7248  . . . . . . . . . . . . . . .  33
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  34
   Author&#39;s Address  . . . . . . . . . . . . . . . . . . . . . . . .  34
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Presence is information about the availability of an entity (such as network availability or availability for communication). Presence features in both SIP and XMPP involve several aspects:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
プレゼンスは、エンティティの可用性（ネットワークの可用性や通信の可用性など）に関する情報です。 SIPとXMPPの両方のプレゼンス機能には、いくつかの側面があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o A long-lived authorization for a user to receive notifications about a contact&#39;s presence across presence and notification sessions; such an authorization is formally requested by the user, approved (or not) by the contact, and often associated with a record in an address list or &#34;buddy list&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ユーザーがプレゼンスセッションと通知セッションにわたって連絡先のプレゼンスに関する通知を受信するための長期間有効な承認。このような承認は、ユーザーによって正式に要求され、連絡先によって承認（または非承認）され、多くの場合、アドレスリストまたは「バディリスト」のレコードに関連付けられます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o An ephemeral presence session, during which the contact is online (i.e., available for interaction) and after which the contact is offline again.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 一時的なプレゼンスセッション。この期間中、連絡先はオンラインであり（対話に利用可能）、その後、連絡先は再びオフラインになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o An ephemeral notification session, during which the user requests presence notifications from the contact (these are implicit in XMPP, but explicit in SIP where they are managed by means of notification dialogs).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 一時的な通知セッション。この間、ユーザーは連絡先からのプレゼンス通知を要求します（これらはXMPPでは暗黙的ですが、通知ダイアログを使用して管理されるSIPでは明示的です）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Notifications that are sent from the contact to the user for the life of either the contact&#39;s presence session or the user&#39;s notification session.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 連絡先のプレゼンスセッションまたはユーザーの通知セッションの存続期間中に連絡先からユーザーに送信される通知。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Although specifications for both SIP and XMPP use the term &#34;subscription&#34;, they do so in different ways. In SIP, a &#34;subscription&#34; is the specific mechanism whereby a subscriber (or an entity acting on the subscriber&#39;s behalf, such as a SIP Presence Server) requests presence notifications from the contact over a relatively short period of time, renewed as necessary to keep receiving presence notifications during a presence session. By contrast, in XMPP a &#34;subscription&#34; is essentially shorthand for a long-lived presence authorization. To prevent confusion, this document uses the term &#34;notification dialog&#34; for a SIP subscription and the term &#34;presence authorization&#34; for an XMPP subscription.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIPとXMPPの両方の仕様では「サブスクリプション」という用語を使用していますが、それらは異なる方法で使用します。 SIPでは、「サブスクリプション」は特定のメカニズムであり、サブスクライバー（またはSIPプレゼンスサーバーなどのサブスクライバーに代わって動作するエンティティ）が比較的短い期間で連絡先にプレゼンス通知を要求し、必要に応じて更新して、プレゼンスセッション中にプレゼンス通知を受信する。対照的に、XMPPでは、「サブスクリプション」は本質的に長命のプレゼンス認証の省略形です。混乱を避けるために、このドキュメントでは、SIPサブスクリプションには「通知ダイアログ」という用語を使用し、XMPPサブスクリプションには「プレゼンス認証」という用語を使用しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In order to help ensure interworking between presence systems that conform to the instant messaging and presence protocol requirements [RFC2779], it is important to clearly define protocol mappings between such systems. Within the IETF, work has proceeded on two presence technologies:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
インスタントメッセージングとプレゼンスプロトコルの要件[RFC2779]に準拠するプレゼンスシステム間の相互作用を保証するには、そのようなシステム間のプロトコルマッピングを明確に定義することが重要です。 IETF内では、2つのプレゼンステクノロジーに関する作業が進められています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Various extensions to the Session Initiation Protocol ([RFC3261]) for presence, in particular [RFC3856]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o プレゼンスのためのセッション開始プロトコル（[RFC3261]）へのさまざまな拡張、特に[RFC3856]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The Extensible Messaging and Presence Protocol (XMPP), which consists of a formalization of the core XML-streaming protocols developed originally by the Jabber open-source community; the relevant specifications are [RFC6120] for the XML-streaming layer and [RFC6121] for basic presence and instant-messaging extensions
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Extensible Messaging and Presence Protocol（XMPP）。これは、Jabberオープンソースコミュニティによって元々開発されたコアXMLストリーミングプロトコルの形式化で構成されます。関連する仕様は、XMLストリーミングレイヤーの[RFC6120]と、基本的なプレゼンスとインスタントメッセージ拡張の[RFC6121]です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
One approach to help ensure interworking between these protocols is to map each protocol to the abstract semantics described in [RFC3860]; however, apparently that approach has never been implemented. The approach taken in this document is to directly map semantics from one protocol to another (i.e., from SIP/SIMPLE (SIP for Instant Messaging and Presence Leveraging Extensions) to XMPP and vice versa), because that is how existing systems solve the interworking problem.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これらのプロトコル間の相互作用を保証するための1つのアプローチは、各プロトコルを[RFC3860]で説明されている抽象的なセマンティクスにマッピングすることです。しかし、明らかにそのアプローチは実装されたことはありません。このドキュメントで採用されているアプローチは、セマンティクスをあるプロトコルから別のプロトコルに直接マッピングすることです（つまり、SIP / SIMPLE（SIP for Instant Messaging and Presence Leveraging Extensions）からXMPP、またはその逆）。これは、既存のシステムがインターワーキングの問題を解決する方法です。 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The architectural assumptions underlying such direct mappings are provided in [RFC7247], including mapping of addresses and error conditions. The mappings specified in this document cover basic presence functionality. Mapping of more advanced functionality (e.g., so-called &#34;rich presence&#34;) is out of scope for this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
そのような直接マッピングの基礎となるアーキテクチャ上の仮定は、アドレスやエラー条件のマッピングを含め、[RFC7247]で提供されています。このドキュメントで指定されているマッピングは、基本的なプレゼンス機能をカバーしています。より高度な機能（いわゆる「リッチプレゼンス」など）のマッピングは、このドキュメントの範囲外です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document obsoletes RFC 7248.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントはRFC 7248を廃止します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Intended Audience
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. 対象とする訪問者
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   The documents in this series (which include [RFC7247], [RFC7572],
   [RFC7573], and [RFC7702]) are intended for use by software developers
   who have an existing system based on one of these technologies (e.g.,
   SIP) and would like to enable communication from that existing system
   to systems based on the other technology (e.g., XMPP).  We assume
   that readers are familiar with the core specifications for both SIP
   [RFC3261] and XMPP [RFC6120], with the base document for this series
   [RFC7247], and with the following presence-related specifications:
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;A Presence Event Package for the Session Initiation Protocol&#34; [RFC3856]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 「セッション開始プロトコルのプレゼンスイベントパッケージ」[RFC3856]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;Presence Information Data Format (PIDF)&#34; [RFC3863]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 「プレゼンス情報データ形式（PIDF）」[RFC3863]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence&#34; [RFC6121]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 「Extensible Messaging and Presence Protocol（XMPP）：Instant Messaging and Presence」[RFC6121]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;SIP-Specific Event Notification&#34; [RFC6665]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 「SIP固有のイベント通知」[RFC6665]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. Terminology
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. 用語
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A number of terms used here (&#34;user&#34;, &#34;contact&#34;, &#34;notification&#34;, etc.) are explained in [RFC3261], [RFC3856], [RFC3857], [RFC6120], and [RFC6121]. This document uses some, but not all, of the presence-related terms defined in the Model for Presence and Instant Messaging [RFC2778]. In particular, the term &#34;presence session&#34; is used as described in [RFC6121] to mean a delimited time period during which an endpoint is online and available for communications.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ここで使用されているいくつかの用語（「ユーザー」、「連絡先」、「通知」など）は、[RFC3261]、[RFC3856]、[RFC3857]、[RFC6120]、および[RFC6121]で説明されています。このドキュメントでは、プレゼンスとインスタントメッセージングのモデル[RFC2778]で定義されているプレゼンス関連の用語のすべてではなく一部を使用しています。特に、「プレゼンスセッション」という用語は、[RFC6121]で説明されているように使用され、エンドポイントがオンラインで通信に利用できる期間を意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   In flow diagrams, SIP traffic is shown using arrows such as &#34;***&gt;&#34;,
   whereas XMPP traffic is shown using arrows such as &#34;...&gt;&#34;.  As in
   [RFC7247], the terms &#34;SIP to XMPP Gateway&#34; and &#34;XMPP to SIP Gateway&#34;
   are abbreviated as &#34;S2X GW&#34; and &#34;X2S GW&#34;, respectively.
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;NOT RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
キーワード「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「NOT RECOMMENDED」、「MAY」、「OPTIONALこの文書の &#34;は、[RFC2119]で説明されているように解釈されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. Architectural Assumptions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. アーキテクチャの前提
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The fundamental architectural assumptions underlying SIP-XMPP interworking are described in [RFC7247].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIP-XMPPインターワーキングの基礎となる基本的なアーキテクチャの前提は、[RFC7247]で説明されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that, in SIP, there are two ways that presence services can be deployed on the server side:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIPでは、プレゼンスサービスをサーバー側にデプロイする方法が2つあることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Under this model, described most fully in [RFC3857], a dedicated SIP Presence Server handles events related to the presence event package. Instead of forwarding a SUBSCRIBE message to the SIP user, the Presence Server would inform the user of subscription activity using the &#39;presence.winfo&#39; event package. The SIP User Agent would then authorize the subscribing contact through some interaction with the Presence Server (for instance, using XML Configuration Access Protocol (XCAP) [RFC4825]). Therefore, presence updates from the SIP User Agent would not be sent as NOTIFY messages to the XMPP user but as PUBLISH messages to the Presence Server, which would then generate NOTIFY messages to all active subscribers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. [RFC3857]で最も完全に説明されているこのモデルでは、専用のSIPプレゼンスサーバーがプレゼンスイベントパッケージに関連するイベントを処理します。 SUBSCRIBEメッセージをSIPユーザーに転送する代わりに、Presence Serverは &#39;presence.winfo&#39;イベントパッケージを使用してサブスクリプションアクティビティをユーザーに通知します。次に、SIPユーザーエージェントは、プレゼンスサーバーとのやり取り（たとえば、XML構成アクセスプロトコル（XCAP）[RFC4825]を使用）を通じてサブスクライブする連絡先を承認します。したがって、SIPユーザーエージェントからのプレゼンス更新は、XMPPユーザーへのNOTIFYメッセージとして送信されるのではなく、プレゼンスサーバーへのPUBLISHメッセージとして送信され、すべてのアクティブなサブスクライバーへのNOTIFYメッセージが生成されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. Under this model, a SIP Presence Server acts in proxy mode and merely passes through the SUBSCRIBE and NOTIFY messages to the SIP User Agent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. このモデルでは、SIPプレゼンスサーバーはプロキシモードで動作し、SUBSCRIBEメッセージとNOTIFYメッセージを通過するだけでSIPユーザーエージェントに渡されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Because the behavior of the XMPP-to-SIP gateway is not changed by the SIP architectural model that is used, the diagrams and protocol flows in this document cover both options by labeling the end entity a &#34;SIP User Agent or Presence Server&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPP-to-SIPゲートウェイの動作は、使用されるSIPアーキテクチャモデルによって変更されないため、このドキュメントの図とプロトコルフローは、エンドエンティティに「SIPユーザーエージェントまたはプレゼンスサーバー」というラベルを付けることで、両方のオプションをカバーしています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Presence Authorizations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. プレゼンス認証
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. Overview
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. 概観
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Both XMPP and presence-aware SIP systems enable entities (often, but not necessarily, human users) to subscribe to the presence of other entities. XMPP presence is specified in [RFC6121]. Presence using a SIP event package is specified in [RFC3856].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPとプレゼンス対応SIPシステムの両方により、エンティティ（必ずしも人間ではないが、多くの場合、人間のユーザー）が他のエンティティのプレゼンスにサブスクライブできます。 XMPPの存在は[RFC6121]で指定されています。 SIPイベントパッケージを使用したプレゼンスは、[RFC3856]で指定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As described in [RFC6121], XMPP presence authorizations are managed using XMPP &lt;presence/&gt; stanzas of type &#34;subscribe&#34;, &#34;subscribed&#34;, &#34;unsubscribe&#34;, and &#34;unsubscribed&#34;. The main states are:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6121]で説明されているように、XMPPプレゼンス認証は、タイプ「subscribe」、「subscribed」、「unsubscribe」、および「unsubscribed」のXMPP &lt;presence /&gt;スタンザを使用して管理されます。主な状態は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;none&#34; (neither the user nor the contact is subscribed to the other&#39;s presence information)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;なし&#34;（ユーザーも連絡先も他のユーザーのプレゼンス情報に登録されていません）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;from&#34; (the contact will receive presence notifications from the user)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;from&#34;（連絡先はユーザーからプレゼンス通知を受け取ります）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;to&#34; (the contact will send presence notifications to the user)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;to&#34;（連絡先はユーザーにプレゼンス通知を送信します）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#34;both&#34; (both user and contact will receive each other&#39;s presence notifications)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 「両方」（ユーザーと連絡先の両方が互いのプレゼンス通知を受け取ります）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As described in [RFC3856], in SIP the subscriber does not explicitly request the creation or removal of presence authorizations. Rather, the authorizations are triggered by subscription activity. When a SIP user receives an initial SIP SUBSCRIBE event from a contact, the recipient&#39;s SIP User Agent or SIP Presence Server asks the user to make an authorization policy decision. This decision is recorded in the SIP User Agent or SIP Presence Server, so that in the future any notification dialogs from the contact are automatically approved. (Note that addresses for SIP users and contacts are most generally referenced by a Presence URI of the form &lt;pres:user@domain&gt; but might be referenced by a SIP or SIPS (Session Initiation Protocol Secure) URI of the form &lt;sip:user@domain&gt; or &lt;sips:user@domain&gt;; because, in practice, &#39;pres&#39; URIs are rarely used, the examples in this document use &#39;sip&#39; URIs.)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3856]で説明されているように、SIPでは、加入者はプレゼンス許可の作成または削除を明示的に要求しません。むしろ、承認はサブスクリプションアクティビティによってトリガーされます。 SIPユーザーが連絡先から最初のSIP SUBSCRIBEイベントを受信すると、受信者のSIPユーザーエージェントまたはSIPプレゼンスサーバーはユーザーに承認ポリシーの決定を要求します。この決定はSIPユーザーエージェントまたはSIPプレゼンスサーバーに記録されるため、今後、連絡先からの通知ダイアログは自動的に承認されます。 （SIPユーザーと連絡先のアドレスは最も一般的には&lt;pres：user @ domain&gt;形式のプレゼンスURIによって参照されますが、&lt;sip：user形式のSIPまたはSIPS（Session Initiation Protocol Secure）URIによって参照される場合があります@domain&gt;または&lt;sips：user @ domain&gt;;実際には「pres」URIはほとんど使用されないため、このドキュメントの例では「sip」URIを使用しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 In both SIP and XMPP, presence authorizations are long-lived (indeed permanent if not explicitly cancelled). In SIP, by default a notification session is typically short-lived unless explicitly extended (the default time-to-live of a SIP notification dialog is 3600 seconds, as specified in Section 6.4 of [RFC3856], so that a notification dialog needs to be explicitly refreshed in order for a user&#39;s notification session to last as long as the contact&#39;s presence session). In XMPP, a user&#39;s notification session with a contact is almost always automatically handled by the user&#39;s server based on the user&#39;s presence state (see [RFC6121] for details).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
SIPとXMPPの両方で、プレゼンス認証は有効期間が長くなります（明示的に取り消されない限り、実際には永続的です）。 SIPでは、通知セッションは通常、明示的に延長されない限り、通常は短命です（SIP通知ダイアログのデフォルトの存続時間は3600秒であり、[RFC3856]のセクション6.4で指定されているため、通知ダイアログはユーザーの通知セッションが連絡先のプレゼンスセッションの間存続するように、明示的に更新されます）。 XMPPでは、連絡先とのユーザーの通知セッションは、ほとんど常に、ユーザーのプレゼンス状態に基づいてユーザーのサーバーによって自動的に処理されます（詳細については、[RFC6121]を参照してください）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. XMPP to SIP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. XMPPからSIP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2.1. Requesting a Presence Authorization
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2.1. プレゼンス認証のリクエスト
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following diagram illustrates the protocol flow necessary to establish an authorization for an XMPP user to a receive presence notifications from a SIP contact, as further explained in the text and examples after the diagram.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の図は、XMPPユーザーがSIP連絡先からプレゼンス通知を受信するための承認を確立するために必要なプロトコルフローを示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   XMPP         XMPP         SIP     SIP UA or
   Client      Server       Proxy    Presence Server
    |        + X2S GW         |            |
    |            |            |            |
    | (F1) XMPP  |            |            |
    | subscribe  |            |            |
    |...........&gt;|            |            |
    |            | (F2) SIP   |            |
    |            | SUBSCRIBE  |            |
    |            |***********&gt;|            |
    |            |            | (F3) SIP   |
    |            |            | SUBSCRIBE  |
    |            |            |***********&gt;|
    |            |            | (F4) SIP   |
    |            |            | 200 OK     |
    |            |            |&lt;***********|
    |            | (F5) SIP   |            |
    |            | 200 OK     |            |
    |            |&lt;***********|            |
    |            |            | (F6) SIP   |
    |            |            | NOTIFY     |
    |            |            | (pending)  |
    |            |            |&lt;***********|
    |            | (F7) SIP   |            |
    |            | NOTIFY     |            |
    |            |&lt;***********|            |
    |            | (F8) SIP   |            |
    |            | 200 OK     |            |
    |            |***********&gt;|            |
    |            |            | (F9) SIP   |
    |            |            | 200 OK     |
    |            |            |***********&gt;|
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
    |            |            | (F10) SIP  |
    |            |            | NOTIFY     |
    |            |            | (active)   |
    |            |            |&lt;***********|
    |            | (F11) SIP  |            |
    |            | NOTIFY     |            |
    |            |&lt;***********|            |
    |            | (F12) SIP  |            |
    |            | 200 OK     |            |
    |            |***********&gt;|            |
    |            |            | (F13) SIP  |
    |            |            | 200 OK     |
    |            |            |***********&gt;|
    | (F14) XMPP |            |            |
    | subscribed |            |            |
    |&lt;...........|            |            |
    | (F15) XMPP |            |            |
    | presence   |            |            |
    |&lt;...........|            |            |
    |            |            |            |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
An XMPP user (e.g., juliet@example.com) asks for a presence authorization by sending a request to a SIP contact (e.g., romeo@example.net), and the contact either accepts or declines the request. If the SIP contact accepts the request, the XMPP user will have a long-lived authorization to receive the SIP contact&#39;s presence information until (1) the XMPP user unsubscribes or (2) the SIP contact cancels the authorization. The request is encapsulated in a &lt;presence/&gt; stanza of type &#34;subscribe&#34;:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPユーザー（例：juliet@example.com）は、SIP連絡先（例：romeo@example.net）にリクエストを送信してプレゼンス認証を要求し、連絡先はリクエストを受け入れるか拒否します。 SIP連絡先が要求を受け入れると、XMPPユーザーは、（1）XMPPユーザーがサブスクリプションを解除するか、（2）SIP連絡先が承認をキャンセルするまで、SIP連絡先のプレゼンス情報を受信するための長期間の承認を持ちます。リクエストは、タイプ「subscribe」の&lt;presence /&gt;スタンザにカプセル化されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 1: XMPP User Subscribes to SIP Contact (F1)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例1：XMPPユーザーがSIPコンタクト（F1）にサブスクライブする
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;juliet@example.com&#39;
   |            to=&#39;romeo@example.net&#39;
   |            type=&#39;subscribe&#39;/&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upon receiving such a &lt;presence/&gt; stanza, the XMPP server to which Juliet has connected needs to determine the identity of the domainpart in the &#39;to&#39; address, which it does by following the procedures explained in Section 5 of [RFC7247]. If the domain is a SIP domain, the XMPP server will hand off the &lt;presence/&gt; stanza to an associated XMPP-to-SIP gateway or connection manager that natively communicates with presence-aware SIP proxies.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
そのような&lt;presence /&gt;スタンザを受信すると、Julietが接続しているXMPPサーバーは、[RFC7247]のセクション5で説明されている手順に従って、「to」アドレスのドメインパーツのIDを特定する必要があります。ドメインがSIPドメインの場合、XMPPサーバーは&lt;presence /&gt;スタンザを、プレゼンス対応SIPプロキシとネイティブに通信する関連XMPP-to-SIPゲートウェイまたは接続マネージャーに渡します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The XMPP-to-SIP gateway is then responsible for translating the XMPP request into a SIP SUBSCRIBE request addressed from the XMPP user to the SIP contact:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次に、XMPPからSIPへのゲートウェイは、XMPP要求を、XMPPユーザーからSIP連絡先にアドレス指定されたSIP SUBSCRIBE要求に変換します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 2: SIP Transformation of XMPP Presence Authorization Request (F2)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例2：XMPPプレゼンス認証要求（F2）のSIP変換
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  SUBSCRIBE sip:romeo@example.net SIP/2.0
   |  Via: SIP/2.0/TCP x2s.example.com;branch=z9hG4bKna998sk
   |  From: &lt;sip:juliet@example.com&gt;;tag=j89d
   |  Call-ID: 5BCF940D-793D-43F8-8972-218F7F4EAA8C
   |  Event: presence
   |  Max-Forwards: 70
   |  CSeq: 1 SUBSCRIBE
   |  Contact: &lt;sip:juliet@example.com&gt;;gr=yn0cl4bnw0yr3vym
   |  Accept: application/pidf+xml
   |  Expires: 3600
   |  Content-Length: 0
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Once the SIP proxy has delivered the SIP SUBSCRIBE to the SIP User Agent or Presence Server (F3, no example shown), the SIP User Agent would then send a response indicating acceptance of the request:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIPプロキシがSIP SUBSCRIBEをSIPユーザーエージェントまたはプレゼンスサーバー（F3、例は示されていない）に配信すると、SIPユーザーエージェントは要求の受け入れを示す応答を送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 3: SIP User Accepts Presence Authorization Request (F4)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例3：SIPユーザーがプレゼンス認証要求を受け入れる（F4）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  SIP/2.0 200 OK
   |  Via: SIP/2.0/TCP s2x.example.net;branch=z9hG4bKna998sk
   |  From: &lt;sip:juliet@example.com&gt;;tag=j89d
   |  To: &lt;sip:romeo@example.net&gt;;tag=ffd2
   |  Call-ID: 5BCF940D-793D-43F8-8972-218F7F4EAA8C
   |  CSeq: 1 SUBSCRIBE
   |  Contact: &lt;sip:romeo@example.net&gt;;gr=dr4hcr0st3lup4c
   |  Expires: 3600
   |  Content-Length: 0
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In accordance with Section 6.7 of [RFC3856], the XMPP-to-SIP gateway needs to consider the state to be &#34;neutral&#34; until it receives a NOTIFY message with a Subscription-State header [RFC6665] whose value is &#34;active&#34;. Therefore, the SIP User Agent or Presence Server SHOULD immediately send such a NOTIFY message (see Section 6 below). If the XMPP-to-SIP gateway initially receives one or more NOTIFY messages with a Subscription-State header whose value is &#34;pending&#34; (F6), then it MUST respond to them on the SIP side but refrain from sending any presence stanzas from the SIP contact to the XMPP user.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3856]のセクション6.7に従って、XMPP-to-SIPゲートウェイは、値が「アクティブ」であるSubscription-Stateヘッダー[RFC6665]を含むNOTIFYメッセージを受信するまで、状態を「ニュートラル」と見なす必要があります。したがって、SIPユーザーエージェントまたはプレゼンスサーバーは、そのようなNOTIFYメッセージをすぐに送信する必要があります（以下のセクション6を参照）。 XMPP-to-SIPゲートウェイが最初に値が「保留」（F6）であるSubscription-Stateヘッダーを持つ1つ以上のNOTIFYメッセージを受信する場合、SIP側で応答する必要がありますが、プレゼンススタンザをXMPPユーザーへのSIPコンタクト。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 4: SIP User Agent or Presence Server Sends Presence Notification (F10)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例4：SIPユーザーエージェントまたはプレゼンスサーバーがプレゼンス通知を送信する（F10）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  NOTIFY sip:juliet@example.com SIP/2.0
   |  Via: SIP/2.0/TCP simple.example.net;branch=z9hG4bKna998sk
   |  From: &lt;sip:juliet@example.com&gt;;tag=j89d
   |  To: &lt;sip:romeo@example.net&gt;;tag=ffd2
   |  Call-ID: 5BCF940D-793D-43F8-8972-218F7F4EAA8C
   |  Event: presence
   |  Subscription-State: active;expires=499
   |  Max-Forwards: 70
   |  CSeq: 2 NOTIFY
   |  Content-Type: application/pidf+xml
   |  Content-Length: 193
   |
   |  &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;
   |  &lt;presence xmlns=&#39;urn:ietf:params:xml:ns:pidf&#39;
   |            entity=&#39;pres:romeo@example.net&#39;&gt;
   |    &lt;tuple id=&#39;ID-dr4hcr0st3lup4c&#39;&gt;
   |      &lt;status&gt;
   |        &lt;basic&gt;open&lt;/basic&gt;
   |        &lt;show xmlns=&#39;jabber:client&#39;&gt;away&lt;/show&gt;
   |      &lt;/status&gt;
   |    &lt;/tuple&gt;
   |  &lt;/presence&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upon receiving the first NOTIFY with a state of active, the XMPP-to-SIP gateway returns a 200 OK to the SIP User Agent or Presence Server (F12, no example shown).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
アクティブ状態の最初のNOTIFYを受信すると、XMPPからSIPへのゲートウェイは、200 OKをSIPユーザーエージェントまたはプレゼンスサーバーに返します（F12、例は表示されていません）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The XMPP-to-SIP gateway also generates a &lt;presence/&gt; stanza of type &#34;subscribed&#34;:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPP-to-SIPゲートウェイは、タイプ「subscribed」の&lt;presence /&gt;スタンザも生成します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 5: XMPP User Receives Acknowledgement from SIP Contact (F14)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例5：XMPPユーザーがSIPコンタクト（F14）から確認応答を受信する
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;romeo@example.net&#39;
   |            to=&#39;juliet@example.com&#39;
   |            type=&#39;subscribed&#39;/&gt;
   As described in Section 6, if this first NOTIFY in the notification
   session contains a body, then the XMPP-to-SIP gateway also generates
   a presence notification addressed to the XMPP user (if the NOTIFY
   does not contain a body, then the gateway would interpret it as
   unknown or &#34;closed&#34;):
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 6: XMPP User Receives Presence Notification from SIP Contact (F15)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例6：XMPPユーザーがSIP連絡先からプレゼンス通知を受信する（F15）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;romeo@example.net/dr4hcr0st3lup4c&#39;
   |            to=&#39;juliet@example.com&#39;/&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2.2. Refreshing a Notification Dialog
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2.2. 通知ダイアログの更新
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is the responsibility of the XMPP-to-SIP gateway to set the value of the Expires header and to periodically renew the notification dialog on the SIMPLE side of the gateway. For example, the XMPP-to-SIP gateway SHOULD send a new SUBSCRIBE request to the SIP contact whenever the XMPP user initiates a presence session with the XMPP server by sending initial presence to its XMPP server (this is functionally equivalent to sending an XMPP presence probe). The XMPP-to-SIP gateway SHOULD also send a new SUBSCRIBE request to the SIP contact sufficiently in advance of when the SIP notification dialog is scheduled to expire during the XMPP user&#39;s active presence session.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPP-to-SIPゲートウェイは、Expiresヘッダーの値を設定し、ゲートウェイのSIMPLE側の通知ダイアログを定期的に更新する必要があります。たとえば、XMPP-to-SIPゲートウェイは、XMPPユーザーがXMPPサーバーに初期プレゼンスを送信してXMPPサーバーとのプレゼンスセッションを開始するたびに、新しいSUBSCRIBE要求をSIPコンタクトに送信する必要があります（これは機能的にXMPPプレゼンスを送信することと同じです）調査）。 XMPP-to-SIPゲートウェイは、XMPPユーザーのアクティブなプレゼンスセッション中にSIP通知ダイアログが期限切れになる前に、新しいSUBSCRIBE要求をSIPコンタクトに十分に送信する必要もあります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The rules regarding SIP SUBSCRIBE requests for the purpose of establishing and refreshing a notification dialog are provided in [RFC6665]. Those rules also apply to XMPP-to-SIP gateways. Furthermore, an XMPP-to-SIP gateway MUST consider the XMPP presence authorization to be permanently cancelled (and so inform the XMPP user) if it receives a SIP response of 403, 489, or 603. By contrast, it is appropriate to consider a SIP response of 423 or 481 to be a transient error and to honor the long-lived XMPP presence authorization. [RFC6665] explains more detailed considerations about the handling of SIP responses in relation to notification dialogs and refreshes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
通知ダイアログの確立と更新を目的としたSIP SUBSCRIBEリクエストに関するルールは、[RFC6665]で提供されています。これらのルールは、XMPPからSIPへのゲートウェイにも適用されます。さらに、XMPP-to-SIPゲートウェイは、403、489、または603のSIP応答を受信した場合、XMPPプレゼンス認証が永久にキャンセルされる（そしてXMPPユーザーに通知される）ことを考慮しなければなりません（MUST）。対照的に、一時的なエラーであり、長期間有効なXMPPプレゼンス認証を尊重する423または481のSIP応答。 [RFC6665]は、通知ダイアログと更新に関連するSIP応答の処理に関するより詳細な考慮事項を説明しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Finally, see the Privacy and Security Considerations section (Section 8) for important information and requirements regarding the security implications of notification refreshes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最後に、通知の更新によるセキュリティへの影響に関する重要な情報と要件については、「プライバシーとセキュリティに関する考慮事項」セクション（セクション8）を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2.3. Cancelling a Presence Authorization
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2.3. プレゼンス認証のキャンセル
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 The following diagram illustrates the protocol flow by which an XMPP user cancels her outbound presence authorization with a SIP contact (i.e., indicates that she no longer wishes to be authorized to see the SIP contact&#39;s presence). As can be seen, SIMPLE itself does not have a construct that enables a user to cancel her outbound presence authorization (however, in many SIP/SIMPLE implementations she could use a technology such as XCAP [RFC4825] to remove the contact from her address list); therefore, this flow instead results in the cancellation of the user&#39;s notification dialog (with the implication on the XMPP side that the user will not request a subsequent notification dialog). Additional details are explained in the text and examples after the diagram.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
次の図は、XMPPユーザーがSIP連絡先で自分のアウトバウンドプレゼンス認証をキャンセルするプロトコルフローを示しています（つまり、SIP連絡先のプレゼンスを確認するための認証が不要になったことを示しています）。ご覧のように、SIMPLE自体には、ユーザーが送信プレゼンス認証をキャンセルできるようにする構成がありません（ただし、多くのSIP / SIMPLE実装では、XCAP [RFC4825]などのテクノロジを使用して、連絡先をアドレス一覧から削除できます。 ）;したがって、このフローでは、代わりにユーザーの通知ダイアログがキャンセルされます（ユーザーが後続の通知ダイアログを要求しないというXMPP側の影響が伴います）。追加の詳細は、図の後にあるテキストと例で説明されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   XMPP         XMPP         SIP        SIP UA or
   Client      Server       Proxy    Presence Server
    |        + X2S GW         |            |
    |            |            |            |
    | (F16) XMPP |            |            |
    |unsubscribe |            |            |
    |...........&gt;|            |            |
    |            | (F17) SIP  |            |
    |            | SUBSCRIBE  |            |
    |            | Expires: 0 |            |
    |            |***********&gt;|            |
    |            |            | (F18) SIP  |
    |            |            | SUBSCRIBE  |
    |            |            | Expires: 0 |
    |            |            |***********&gt;|
    |            |            | (F19) SIP  |
    |            |            | 200 OK     |
    |            |            |&lt;***********|
    |            | (F20) SIP  |            |
    |            | 200 OK     |            |
    |            |&lt;***********|            |
    | (F21) XMPP |            |            |
    |unsubscribed|            |            |
    |&lt;...........|            |            |
    |            | (F22) SIP  |            |
    |            | NOTIFY     |            |
    |            | terminated |            |
    |            |***********&gt;|            |
    |            |            | (F23) SIP  |
    |            |            | NOTIFY     |
    |            |            | terminated |
    |            |            |***********&gt;|
    |            |            | (F24) SIP  |
    |            |            | 200 OK     |
    |            |            |&lt;***********|
    |            | (F25) SIP  |            |
    |            | 200 OK     |            |
    |            |&lt;***********|            |
    |            |            |            |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
At any time after subscribing, the XMPP user can indicate that she no longer wishes to be authorized to receive presence notifications from the contact. This is done by sending a &lt;presence/&gt; stanza of type &#34;unsubscribe&#34;:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
サブスクライブした後はいつでも、XMPPユーザーは、連絡先からのプレゼンス通知の受信を承認する必要がなくなったことを示すことができます。これは、タイプ「unsubscribe」の&lt;presence /&gt;スタンザを送信することによって行われます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 7: XMPP User Unsubscribes from SIP Contact (F16)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例7：XMPPユーザーがSIPコンタクト（F16）から退会する
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;juliet@example.com&#39;
   |            to=&#39;romeo@example.net&#39;
   |            type=&#39;unsubscribe&#39;/&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The XMPP-to-SIP gateway is responsible for translating the XMPP unsubscribe command into a SIP SUBSCRIBE request with the Expires header set to a value of zero (&#34;0&#34;):
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPP-to-SIPゲートウェイは、XMPP unsubscribeコマンドを、Expiresヘッダーをゼロ（ &#34;0&#34;）の値に設定したSIP SUBSCRIBE要求に変換します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 8: SIP Transformation of XMPP Unsubscribe (F17)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例8：XMPPのサブスクライブのSIPトランスフォーメーション（F17）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  SUBSCRIBE sip:romeo@example.net SIP/2.0
   |  Via: SIP/2.0/TCP s2x.example.net;branch=z9hG4bKna998sk
   |  From: &lt;sip:juliet@example.com&gt;;tag=j89d
   |  To: &lt;sip:romeo@example.com&gt;;tag=ffd2
   |  Call-ID: 5BCF940D-793D-43F8-8972-218F7F4EAA8C
   |  Event: presence
   |  Max-Forwards: 70
   |  CSeq: 42 SUBSCRIBE
   |  Contact: &lt;sip:juliet@example.com&gt;;gr=yn0cl4bnw0yr3vym
   |  Accept: application/pidf+xml
   |  Expires: 0
   |  Content-Length: 0
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upon receiving the SIP 200 OK acknowledging the cancellation, the XMPP-to-SIP gateway SHOULD send a &lt;presence/&gt; stanza of type &#34;unsubscribed&#34; addressed to the XMPP user:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
キャンセルを確認するSIP 200 OKを受信すると、XMPP-to-SIPゲートウェイは、XMPPユーザーにアドレス指定されたタイプ「unsubscribed」の&lt;presence /&gt;スタンザを送信する必要があります（SHOULD）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 9: XMPP User Receives Unsubscribed Notification (F21)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例9：XMPPユーザーがサブスクライブされていない通知を受信する（F21）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;romeo@example.net&#39;
   |            to=&#39;juliet@example.com&#39;
   |            type=&#39;unsubscribed&#39;/&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In accordance with Section 4.4.1 of [RFC6665], the XMPP-to-SIP gateway is then responsible for sending a NOTIFY message with a Subscription-State header of &#34;terminated&#34; in order to formally end the XMPP user&#39;s outbound presence authorization and the associated SIP dialog.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6665]のセクション4.4.1に従って、XMPP-to-SIPゲートウェイは、XMPPユーザーのアウトバウンドプレゼンス認証と正式に終了するために、「終了」のSubscription-Stateヘッダーを含むNOTIFYメッセージを送信します。関連するSIPダイアログ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 10: XMPP-to-SIP Gateway Sends Presence Notification to Terminate Authorization (F25)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例10：XMPP-to-SIPゲートウェイは、承認を終了するためにプレゼンス通知を送信します（F25）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  NOTIFY sip:juliet@example.com SIP/2.0
   |  Via: SIP/2.0/TCP simple.example.net;branch=z9hG4bKna998sk
   |  From: &lt;sip:juliet@example.com&gt;;tag=j89d
   |  To: &lt;sip:romeo@example.net&gt;;tag=ffd2
   |  Call-ID: 5BCF940D-793D-43F8-8972-218F7F4EAA8C
   |  Event: presence
   |  Subscription-State: terminated
   |  Max-Forwards: 70
   |  CSeq: 43 NOTIFY
   |  Content-Length: 0
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note: When the XMPP user cancels her outbound presence authorization to the SIP user, any inbound authorization that she might have approved (thus enabling the SIP user to see her presence) remains unchanged.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注：XMPPユーザーがSIPユーザーへのアウトバウンドプレゼンス認証をキャンセルしても、承認した可能性があるインバウンド認証（したがって、SIPユーザーがプレゼンスを表示できるようにする）は変更されません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3. SIP to XMPP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3. SIPからXMPP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3.1. Requesting a Presence Authorization
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3.1. プレゼンス認証のリクエスト
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following diagram illustrates the protocol flow for establishing an authorization for a SIP user to receive presence notifications from an XMPP contact, as further explained in the text and examples after the diagram.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の図は、SIPユーザーがXMPP連絡先からプレゼンス通知を受信するための承認を確立するためのプロトコルフローを示しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace toc">
   SIP         SIP         XMPP         XMPP
   UA         Proxy       Server        Client
    |       + S2X GW         |           |
    |           |            |           |
    | (F26) SIP |            |           |
    | SUBSCRIBE |            |           |
    |**********&gt;|            |           |
    | (F27) SIP |            |           |
    | 200 OK    |            |           |
    |&lt;**********|            |           |
    |           | (F28) XMPP |           |
    |           | subscribe  |           |
    |           |...........&gt;|           |
    |           |            | (F29) XMPP|
    |           |            | subscribe |
    |           |            |..........&gt;|
    |           |            | (F30) XMPP|
    |           |            | subscribed|
    |           |            |&lt;..........|
    |           | (F31) XMPP |           |
    |           | subscribed |           |
    |           |&lt;...........|           |
    | (F32) SIP |            |           |
    | NOTIFY    |            |           |
    | (active)  |            |           |
    |&lt;**********|            |           |
    | (F33) SIP |            |           |
    | 200 OK    |            |           |
    |**********&gt;|            |           |
    |           |            |           |
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A SIP User Agent initiates a presence authorization to an XMPP contact&#39;s presence information by sending a SIP SUBSCRIBE request to the contact. The following is an example of such a request:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIPユーザーエージェントは、連絡先にSIP SUBSCRIBE要求を送信することにより、XMPP連絡先のプレゼンス情報に対するプレゼンス認証を開始します。以下はそのようなリクエストの例です：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 11: SIP User Subscribes to XMPP Contact (F26)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例11：SIPユーザーがXMPP連絡先にサブスクライブする（F26）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  SUBSCRIBE sip:juliet@example.com SIP/2.0
   |  Via: SIP/2.0/TCP s2x.example.net;branch=z9hG4bKna998sk
   |  From: &lt;sip:romeo@example.net&gt;;tag=xfg9
   |  To: &lt;sip:juliet@example.net&gt;
   |  Call-ID: AA5A8BE5-CBB7-42B9-8181-6230012B1E11
   |  Event: presence
   |  Max-Forwards: 70
   |  CSeq: 1 SUBSCRIBE
   |  Contact: &lt;sip:romeo@example.net&gt;;gr=dr4hcr0st3lup4c
   |  Accept: application/pidf+xml
   |  Content-Length: 0
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Notice that the Expires header was not included in the SUBSCRIBE request; this means that the default value of 3600 (i.e., 3600 seconds = 1 hour) applies.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ExpiresヘッダーがSUBSCRIBEリクエストに含まれていないことに注意してください。これは、デフォルト値の3600（つまり、3600秒= 1時間）が適用されることを意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upon receiving the SUBSCRIBE, the SIP proxy needs to determine the identity of the domain portion of the Request-URI, which it does by following the procedures explained in Section 5 of [RFC7247]. If the domain is an XMPP domain, the SIP proxy will hand off the SUBSCRIBE to an associated SIP-to-XMPP gateway or connection manager that natively communicates with XMPP servers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SUBSCRIBEを受信すると、SIPプロキシは、[RFC7247]のセクション5で説明されている手順に従って、Request-URIのドメイン部分のIDを特定する必要があります。ドメインがXMPPドメインの場合、SIPプロキシは、SUBSCRIBEを、XMPPサーバーとネイティブに通信する関連するSIPからXMPPへのゲートウェイまたは接続マネージャーに渡します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SIP-to-XMPP gateway is then responsible for translating the SUBSCRIBE into an XMPP authorization request addressed from the SIP user to the XMPP contact:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次に、SIP-to-XMPPゲートウェイは、SUBSCRIBEを、SIPユーザーからXMPP連絡先にアドレス指定されたXMPP承認要求に変換します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 12: XMPP Transformation of SIP SUBSCRIBE (F28)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例12：SIP SUBSCRIBEのXMPP変換（F28）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;romeo@example.net&#39;
   |            to=&#39;juliet@example.com&#39;
   |            type=&#39;subscribe&#39;/&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In accordance with [RFC6121], the XMPP user&#39;s server delivers the presence authorization request to the XMPP user (or, if an authorization already exists in the XMPP user&#39;s roster, the XMPP server SHOULD auto-reply with a &lt;presence/&gt; stanza of type &#39;subscribed&#39;).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6121]に従って、XMPPユーザーのサーバーはプレゼンス認証要求をXMPPユーザーに配信します（または、認証がXMPPユーザーの名簿にすでに存在する場合、XMPPサーバーはタイプの&lt;presence /&gt;スタンザで自動応答する必要があります（SHOULD） 「購読」）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The &#34;happy path&#34; is for the XMPP user to approve the presence authorization request by generating a &lt;presence/&gt; stanza of type &#34;subscribed&#34; (F30). The XMPP server then stamps that presence stanza with the &#39;from&#39; address of the XMPP contact and sends it to the SIP user (F31). Upon receiving the stanza, the SIP-to-XMPP gateway generates an empty SIP NOTIFY message with a Subscription-State header [RFC6665] of &#34;active&#34;, which serves to inform the SIP user that the presence authorization request has been approved (F32).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「ハッピーパス」は、XMPPユーザーが「サブスクライブ」タイプの&lt;presence /&gt;スタンザを生成することにより、プレゼンス認証要求を承認するためのものです（F30）。次に、XMPPサーバーはそのプレゼンススタンザにXMPP連絡先の「送信元」アドレスをスタンプし、それをSIPユーザーに送信します（F31）。スタンザを受信すると、SIP-to-XMPPゲートウェイは、Subscription-Stateヘッダー[RFC6665]が「アクティブ」である空のSIP NOTIFYメッセージを生成します。これは、プレゼンス認証要求が承認されたことをSIPユーザーに通知する働きをします（F32） 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 13: XMPP User Approves Presence Authorization Request (F31)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例13：XMPPユーザーがプレゼンス認証リクエストを承認する（F31）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;juliet@example.com&#39;
   |            to=&#39;romeo@example.net&#39;
   |            type=&#39;subscribed&#39;/&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 14: Presence Authorization Request Approved (F32)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例14：承認されたプレゼンス認証リクエスト（F32）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  NOTIFY sip:romeo@example.net SIP/2.0
   |  Via: SIP/2.0/TCP s2x.example.net;branch=z9hG4bKna998sk
   |  From: &lt;sip:romeo@example.net&gt;;tag=xfg9
   |  To: &lt;sip:juliet@example.com&gt;;tag=ur93
   |  Call-ID: AA5A8BE5-CBB7-42B9-8181-6230012B1E11
   |  Event: presence
   |  Subscription-State: active
   |  Max-Forwards: 70
   |  CSeq: 2 NOTIFY
   |  Content-Length: 0
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As an alternative to the &#34;happy path&#34;, the XMPP user could decline the presence authorization request by generating a &lt;presence/&gt; stanza of type &#34;unsubscribed&#34;. The XMPP server would stamp that presence stanza with the &#39;from&#39; address of the XMPP contact and would send it to the SIP user. The SIP-to-XMPP gateway then transforms that stanza into an empty SIP NOTIFY with a Subscription-State header [RFC6665] of &#34;terminated&#34; and a reason of &#34;rejected&#34;:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
「ハッピーパス」の代わりに、XMPPユーザーは、タイプ「unsubscribed」の&lt;presence /&gt;スタンザを生成することにより、プレゼンス認証要求を拒否できます。 XMPPサーバーはそのプレゼンススタンザにXMPP連絡先の「送信元」アドレスをスタンプし、それをSIPユーザーに送信します。次に、SIP-to-XMPPゲートウェイは、そのスタンザを、「終了」のSubscription-Stateヘッダー[RFC6665]と「拒否」の理由を持つ空のSIP NOTIFYに変換します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 15: XMPP User Rejects Presence Authorization Request
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例15：XMPPユーザーが存在承認リクエストを拒否する
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;juliet@example.com&#39;
   |            to=&#39;romeo@example.net&#39;
   |            type=&#39;unsubscribed&#39;/&gt;
   Example 16: Presence Authorization Request Rejected
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  NOTIFY sip:romeo@example.net SIP/2.0
   |  Via: SIP/2.0/TCP s2x.example.net;branch=z9hG4bKna998sk
   |  From: &lt;sip:romeo@example.net&gt;;tag=xfg9
   |  To: &lt;sip:juliet@example.com&gt;;tag=ur93
   |  Call-ID: AA5A8BE5-CBB7-42B9-8181-6230012B1E11
   |  Event: presence
   |  Subscription-State: terminated;reason=rejected
   |  Max-Forwards: 70
   |  CSeq: 2 NOTIFY
   |  Content-Length: 0
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3.2. Refreshing a Notification Dialog
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3.2. 通知ダイアログの更新
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For as long as a SIP user is online and wishes to maintain a notification session (i.e., receive presence notifications from the XMPP contact), the user&#39;s SIP User Agent is responsible for periodically refreshing the notification dialog by sending an updated SUBSCRIBE request with an appropriate value for the Expires header. In response, the presence-aware SIP-to-XMPP gateway sends a SIP NOTIFY message to the SIP User Agent (per [RFC6665]); if the SIP-to-XMPP gateway has meaningful information about the availability state of the XMPP user (e.g., obtained from the core presence session in the XMPP server or learned by sending a presence probe as described under Section 7), then the NOTIFY communicates that information (e.g., by including a PIDF body [RFC3863] with the relevant data), whereas if the SIP-to-XMPP gateway does not have meaningful information about the availability state of the XMPP user, then the NOTIFY MUST be empty as allowed by [RFC6665].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIPユーザーがオンラインであり、通知セッションを維持したい（つまり、XMPP連絡先からのプレゼンス通知を受信したい）限り、ユーザーのSIPユーザーエージェントは、適切な更新されたSUBSCRIBEリクエストを送信して、通知ダイアログを定期的に更新します。 Expiresヘッダーの値。それに応答して、プレゼンス対応のSIPからXMPPへのゲートウェイは、SIP NOTIFYメッセージをSIPユーザーエージェントに送信します（[RFC6665による]）。 SIP-to-XMPPゲートウェイがXMPPユーザーの可用性状態に関する意味のある情報を持っている場合（たとえば、XMPPサーバーのコアプレゼンスセッションから取得されるか、セクション7で説明されているようにプレゼンスプローブを送信することによって学習される）、NOTIFYは通信しますその情報（たとえば、PIDF本体[RFC3863]と関連データを含めることにより）、SIP-to-XMPPゲートウェイがXMPPユーザーの可用性状態に関する意味のある情報を持たない場合、NOTIFYは許可されたとおりに空でなければならない[RFC6665]による。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3.3. Cancelling a Presence Authorization
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3.3. プレゼンス認証のキャンセル
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIP does not directly have a construct for cancelling an outbound presence authorization. Instead, the SIP user would terminate his outbound notification dialog by sending a SUBSCRIBE message whose Expires header is set to a value of zero (&#34;0&#34;) and then never renew it:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIPには、発信プレゼンス認証をキャンセルするための構造が直接ありません。代わりに、SIPユーザーは、Expiresヘッダーがゼロ（ &#34;0&#34;）の値に設定されているSUBSCRIBEメッセージを送信することにより、送信通知ダイアログを終了し、その後、更新しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 17: SIP User Terminates Notification Dialog
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例17：SIPユーザーが通知ダイアログを終了する
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  SUBSCRIBE sip:juliet@example.com SIP/2.0
   |  Via: SIP/2.0/TCP simple.example.net;branch=z9hG4bKna998sk
   |  From: &lt;sip:romeo@example.net&gt;;tag=xfg9
   |  To: &lt;sip:juliet@example.com&gt;;tag=ur93
   |  Call-ID: AA5A8BE5-CBB7-42B9-8181-6230012B1E11
   |  Event: presence
   |  Max-Forwards: 70
   |  CSeq: 66 SUBSCRIBE
   |  Contact: &lt;sip:romeo@example.net&gt;;gr=dr4hcr0st3lup4c
   |  Expires: 0
   |  Content-Length: 0
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A presence-aware SIP-to-XMPP gateway is then responsible for:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
プレゼンス対応のSIPからXMPPへのゲートウェイは、次の役割を担います。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Sending a SIP NOTIFY request to the SIP User Agent containing a PIDF document specifying that the XMPP contact now has a basic status of &#34;closed&#34;, including a Subscription-State header [RFC6665] of &#34;terminated&#34; with a reason of &#34;timeout&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. XMPP連絡先の基本ステータスが「クローズ」になっていることを指定するPIDFドキュメントを含むSIPユーザーエージェントにSIP NOTIFYリクエストを送信すると、「タイムアウト」の理由でSubscription-Stateヘッダー[RFC6665]が「終了」になりました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. Sending an XMPP &lt;presence/&gt; stanza of type &#34;unavailable&#34; to the XMPP contact.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. タイプ「利用不可」のXMPP &lt;presence /&gt;スタンザをXMPP連絡先に送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note: When the SIP user cancels his outbound presence authorization to the XMPP user, any inbound authorization that he might have approved (enabling the XMPP user to see his presence) remains unchanged.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注：SIPユーザーがXMPPユーザーへのアウトバウンドプレゼンス認証をキャンセルしても、承認したインバウンド認証（XMPPユーザーがプレゼンスを表示できるようにする）は変更されません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. Notifications of Presence Information
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. プレゼンス情報の通知
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. Overview
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. 概観
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 Both XMPP and presence-aware SIP systems enable entities (often, but not necessarily, human users) to send presence notifications to other entities. At its most basic, the term &#34;presence&#34; refers to information about an entity&#39;s &#34;on/off&#34; availability for communication on a network. Often, this basic concept is supplemented by information that further specifies the entity&#39;s context or status while available for communication; these availability states commonly include &#34;away&#34; and &#34;do not disturb&#34;. Some systems and protocols extend the concepts of presence and availability even further and refer to any relatively ephemeral information about an entity as a kind of presence; categories of such &#34;extended presence&#34; include geographical location (e.g., GPS coordinates), user mood (e.g., grumpy), user activity (e.g., walking), and ambient environment (e.g., noisy). This document focuses on the &#34;least common denominator&#34; of network availability only. Future documents might address broader notions of presence, including availability states and extended presence or so-called &#34;rich presence&#34; as defined in specifications such as [RFC4480], [XEP-0107], and [XEP-0108].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
XMPPとプレゼンス対応SIPシステムの両方により、エンティティ（多くの場合、必ずしも人間ではない）が他のエンティティにプレゼンス通知を送信できます。最も基本的には、「プレゼンス」という用語は、ネットワーク上の通信に対するエンティティの「オン/オフ」の可用性に関する情報を指します。多くの場合、この基本的な概念は、通信に利用可能なエンティティのコンテキストまたはステータスをさらに指定する情報によって補足されます。これらの可用性の状態には、通常、「不在」と「邪魔しない」が含まれます。一部のシステムとプロトコルは、存在と可用性の概念をさらに拡張し、エンティティに関する比較的短命な情報を一種の存在として参照します。そのような「拡張されたプレゼンス」のカテゴリには、地理的位置（たとえば、GPS座標）、ユーザーの気分（たとえば、不機嫌）、ユーザーのアクティビティ（たとえば、ウォーキング）、および周囲の環境（たとえば、騒々しい）が含まれます。このドキュメントでは、ネットワークの可用性の「最も一般的でない特徴」にのみ焦点を当てています。将来の文書では、[RFC4480]、[XEP-0107]、[XEP-0108]などの仕様で定義されている、可用性の状態や拡張プレゼンス、いわゆる &#34;リッチプレゼンス&#34;など、より広範なプレゼンスの概念に対処する可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The XMPP instant messaging and presence specification [RFC6121] defines how XMPP &lt;presence/&gt; stanzas can indicate availability (via the absence of a &#39;type&#39; attribute) or lack of availability (via a &#39;type&#39; attribute with a value of &#34;unavailable&#34;). SIP presence using a SIP event package for presence is specified in [RFC3856].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPインスタントメッセージングおよびプレゼンス仕様[RFC6121]は、XMPP &lt;presence /&gt;スタンザが可用性（「type」属性がないこと）または可用性がないこと（「type」属性が「unavailable」の値を持つ）を示す方法を定義します）。プレゼンス用のSIPイベントパッケージを使用したSIPプレゼンスは、[RFC3856]で指定されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As described in [RFC6121], XMPP presence information about an entity is communicated by means of an XML &lt;presence/&gt; stanza sent over an XML stream. This document assumes that such a &lt;presence/&gt; stanza is sent from an XMPP client to an XMPP server over an XML stream negotiated between the client and the server, and that the client is controlled by a human user. In general, XMPP presence is sent by the user&#39;s client to the user&#39;s server and then broadcast to all entities who are subscribed to the user&#39;s presence information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6121]で説明されているように、エンティティに関するXMPPプレゼンス情報は、XMLストリームを介して送信されるXML &lt;presence /&gt;スタンザによって通信されます。このドキュメントでは、このような&lt;presence /&gt;スタンザは、クライアントとサーバー間でネゴシエートされたXMLストリームを介してXMPPクライアントからXMPPサーバーに送信され、クライアントは人間のユーザーによって制御されると想定しています。一般に、XMPPプレゼンスは、ユーザーのクライアントからユーザーのサーバーに送信され、ユーザーのプレゼンス情報を購読しているすべてのエンティティにブロードキャストされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As described in [RFC3856], presence information about an entity is communicated by means of a SIP NOTIFY event sent from a SIP User Agent to an intended recipient who is most generally referenced by a Presence URI of the form &lt;pres:user@domain&gt; but who might be referenced by a SIP or SIPS URI of the form &lt;sip:user@domain&gt; or &lt;sips:user@domain&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3856]で説明されているように、エンティティに関するプレゼンス情報は、SIPユーザーエージェントから、&lt;pres：user @ domain&gt;形式のプレゼンスURIによって最も一般的に参照される意図された受信者に送信されるSIP NOTIFYイベントによって通信されます。ただし、&lt;sip：user @ domain&gt;または&lt;sips：user @ domain&gt;の形式のSIPまたはSIPS URIによって参照される可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. XMPP to SIP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. XMPPからSIP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When Juliet interacts with her XMPP client to modify her presence information (or when her client automatically updates her presence information, e.g., via an &#34;auto-away&#34; feature), her client generates an XMPP &lt;presence/&gt; stanza. The syntax of the &lt;presence/&gt; stanza, including required and optional elements and attributes, is defined in [RFC6121]. The following is an example of such a stanza:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ジュリエットがXMPPクライアントと対話してプレゼンス情報を変更するとき（または、「自動アウェイ」機能などを介してクライアントがプレゼンス情報を自動的に更新するとき）、クライアントはXMPP &lt;presence /&gt;スタンザを生成します。必須およびオプションの要素と属性を含む&lt;presence /&gt;スタンザの構文は、[RFC6121]で定義されています。以下は、そのようなスタンザの例です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 18: XMPP User Sends Presence Notification
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例18：XMPPユーザーがプレゼンス通知を送信する
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 | &lt;presence from=&#39;juliet@example.com/yn0cl4bnw0yr3vym&#39;/&gt; Upon receiving such a stanza, the XMPP server to which Juliet has connected broadcasts it to all subscribers who are authorized to receive presence notifications from Juliet and who have indicated a current interest in receiving notifications (this is similar to the SIP NOTIFY method). For each subscriber, broadcasting the presence notification involves adding the &#39;to&#39; address of the subscriber and then either delivering the notification to a local recipient (if the hostname in the subscriber&#39;s address matches one of the hostnames serviced by the XMPP server) or attempting to route it to the foreign domain that services the hostname in the subscriber&#39;s address. If the notification is bound for an address at a foreign domain, the XMPP server needs to determine the identity of the domainpart in the &#39;to&#39; address, which it does by following the procedures discussed in [RFC7247]. If the domain is a SIP domain, the XMPP server will hand off the &lt;presence/&gt; stanza to an associated XMPP-to-SIP gateway or connection manager that natively communicates with presence-aware SIP proxy.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
| &lt;presence from=&#39;juliet@example.com/yn0cl4bnw0yr3vym &#39;/&gt;そのようなスタンザを受信すると、Julietが接続しているXMPPサーバーは、Julietからのプレゼンス通知の受信を許可され、現在の関心を示しているすべてのサブスクライバーにブロードキャストします。通知の受信時（これはSIP NOTIFYメソッドに似ています）。サブスクライバーごとに、プレゼンス通知をブロードキャストするには、サブスクライバーの「宛先」アドレスを追加し、通知をローカル受信者に配信する（サブスクライバーのアドレスのホスト名がXMPPサーバーによってサービスされるホスト名の1つと一致する場合）、またはサブスクライバーのアドレスでホスト名を提供する外部ドメインにルーティングします。通知が外部ドメインのアドレスにバインドされている場合、XMPPサーバーは、[RFC7247]で説明されている手順に従って、「宛先」アドレスのドメインパーツのIDを特定する必要があります。ドメインがSIPドメインの場合、XMPPサーバーは&lt;presence /&gt;スタンザを、プレゼンス対応SIPプロキシとネイティブに通信する関連するXMPP-to-SIPゲートウェイまたは接続マネージャーに渡します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The XMPP-to-SIP gateway is then responsible for translating the XMPP &lt;presence/&gt; stanza into a SIP NOTIFY request (including the PIDF document) from the XMPP user to the SIP contact.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次に、XMPP-to-SIPゲートウェイは、XMPP &lt;presence /&gt;スタンザをXMPPユーザーからSIP連絡先へのSIP NOTIFYリクエスト（PIDFドキュメントを含む）に変換します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 19: SIP Transformation of XMPP Presence Notification
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例19：XMPPプレゼンス通知のSIP変換
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  NOTIFY sip:juliet@example.com SIP/2.0
   |  Via: SIP/2.0/TCP x2s.example.com;branch=z9hG4bKna998sk
   |  From: &lt;sip:juliet@example.com&gt;;tag=gh19
   |  To: &lt;sip:romeo@example.net&gt;
   |  Contact: &lt;sip:juliet@example.com&gt;;gr=yn0cl4bnw0yr3vym
   |  Call-ID: 2B44E147-3B53-45E4-9D48-C051F3216D14
   |  Event: presence
   |  Subscription-State: active;expires=599
   |  Max-Forwards: 70
   |  CSeq: 2 NOTIFY
   |  Content-Type: application/pidf+xml
   |  Content-Length: 192
   |
   |  &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;
   |  &lt;presence xmlns=&#39;urn:ietf:params:xml:ns:pidf&#39;
   |            entity=&#39;pres:juliet@example.com&#39;&gt;
   |    &lt;tuple id=&#39;ID-yn0cl4bnw0yr3vym&#39;&gt;
   |      &lt;status&gt;
   |        &lt;basic&gt;open&lt;/basic&gt;
   |        &lt;show xmlns=&#39;jabber:client&#39;&gt;away&lt;/show&gt;
   |      &lt;/status&gt;
   |    &lt;/tuple&gt;
   |  &lt;/presence&gt;
   The mapping of XMPP syntax elements to SIP syntax elements MUST be as
   shown in the following table.  (Mappings for elements not mentioned
   are undefined and therefore are a matter of implementation.)
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      +-----------------------------+---------------------------+
      |  XMPP Element or Attribute  |  SIP Header or PIDF Data  |
      +-----------------------------+---------------------------+
      |  &lt;presence/&gt; stanza         |  &#34;Event: presence&#34; (1)    |
      +-----------------------------+---------------------------+
      |  XMPP resource identifier   |  tuple &#39;id&#39; attribute (2) |
      +-----------------------------+---------------------------+
      |  from                       |  From                     |
      +-----------------------------+---------------------------+
      |  id                         |  no mapping (3)           |
      +-----------------------------+---------------------------+
      |  to                         |  To                       |
      +-----------------------------+---------------------------+
      |  type                       |  basic status (4) (5)     |
      +-----------------------------+---------------------------+
      |  xml:lang                   |  Content-Language         |
      +-----------------------------+---------------------------+
      |  &lt;priority/&gt;                |  priority for tuple (6)   |
      +-----------------------------+---------------------------+
      |  &lt;show/&gt;                    |  no mapping (7)           |
      +-----------------------------+---------------------------+
      |  &lt;status/&gt;                  |  &lt;note/&gt;                  |
      +-----------------------------+---------------------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Table 1: Presence Syntax Mapping from XMPP to SIP
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
表1：XMPPからSIPへのプレゼンス構文マッピング
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note the following regarding these mappings:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これらのマッピングについては、次の点に注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. Only an XMPP &lt;presence/&gt; stanza that lacks a &#39;type&#39; attribute or whose &#39;type&#39; attribute has a value of &#34;unavailable&#34; is mapped by an XMPP-to-SIP gateway to a SIP NOTIFY request, because those are the only &lt;presence/&gt; stanzas that represent notifications.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 「type」属性がない、または「type」属性の値が「利用不可」であるXMPP &lt;presence /&gt;スタンザのみが、XMPP-to-SIPゲートウェイによってSIP NOTIFYリクエストにマップされます。通知を表すpresent /&gt;スタンザ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. The PIDF schema defines the tuple &#39;id&#39; attribute as having a datatype of &#34;xs:ID&#34;; because this datatype is more restrictive than the &#34;xs:string&#34; datatype for XMPP resourceparts (in particular, a number is not allowed as the first character of an ID), it is RECOMMENDED to prepend the resourcepart with &#34;ID-&#34; or some other alphabetic string when mapping from XMPP to SIP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. PIDFスキーマは、タプル「id」属性を「xs：ID」のデータ型を持つものとして定義します。このデータ型は、XMPPリソースパーツの「xs：string」データ型よりも制限が多いため（特に、IDの最初の文字として数字を使用することはできません）、リソースパーツの先頭に「ID-」またはその他の文字を追加することをお勧めしますXMPPからSIPへのマッピング時のアルファベット文字列。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. In practice, XMPP &lt;presence/&gt; stanzas often do not include the &#39;id&#39; attribute.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. 実際には、XMPP &lt;presence /&gt;スタンザには「id」属性が含まれていないことがよくあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. Because the lack of a &#39;type&#39; attribute indicates that an XMPP entity is available for communication, the XMPP-to-SIP gateway MUST map that information to a PIDF basic status of &#34;open&#34;. Because a &#39;type&#39; attribute with a value of &#34;unavailable&#34; indicates that an XMPP entity is not available for communication, the XMPP-to-SIP gateway MUST map that information to a PIDF &lt;basic/&gt; status of &#34;closed&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
4. 「type」属性がないことは、XMPPエンティティが通信に使用できることを示すため、XMPPからSIPへのゲートウェイは、その情報を「オープン」のPIDF基本ステータスにマップする必要があります。 「type」属性の値が「unavailable」の場合、XMPPエンティティが通信に使用できないことを示すため、XMPP-to-SIPゲートウェイは、その情報をPIDF &lt;basic /&gt;のステータス「closed」にマップする必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. When the XMPP-to-SIP gateway receives an XMPP presence of type &#34;unavailable&#34; from the XMPP contact, it sends a SIP NOTIFY request from the XMPP contact to the SIP User Agent containing a PIDF document specifying that the XMPP contact now has a basic status of &#34;closed&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
5. XMPP-to-SIPゲートウェイは、XMPP連絡先から「利用不可」タイプのXMPPプレゼンスを受信すると、XMPP連絡先からSIP MPIF連絡先にSIP NOTIFY要求を送信します。 「クローズ」のステータス。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. The value of the XMPP &lt;priority/&gt; element is an integer between -128 and +127, whereas the value of the PIDF &lt;contact/&gt; element&#39;s &#39;priority&#39; attribute is a decimal number from zero to one inclusive, with a maximum of three decimal places. If the value of the XMPP &lt;priority/&gt; element is negative, an XMPP-to-SIP gateway MUST NOT map the value. If an XMPP-to-SIP gateway maps positive values, it SHOULD treat XMPP priority 0 as PIDF priority 0 and XMPP priority 127 as PIDF priority 1, mapping intermediate values appropriately so that they are unique (e.g., XMPP priority 1 to PIDF priority 0.007, XMPP priority 2 to PIDF priority 0.015, and so on up through mapping XMPP priority 126 to PIDF priority 0.992; note that this is an example only and that the exact mapping is up to the implementation).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
6. XMPP &lt;priority /&gt;要素の値は-128から+127までの整数ですが、PIDF &lt;contact /&gt;要素の &#39;priority&#39;属性の値は0から1までの10進数で、最大3です小数位。 XMPP &lt;priority /&gt;要素の値が負の場合、XMPP-to-SIPゲートウェイは値をマップしてはなりません（MUST NOT）。 XMPP-to-SIPゲートウェイが正の値をマッピングする場合、XMPP優先度0をPIDF優先度0として、XMPP優先度127をPIDF優先度1として扱い、中間値を適切にマッピングして一意にする（SHOULD）。たとえば、XMPP優先度1からPIDF優先度0.007 、XMPPプライオリティ2からPIDFプライオリティ0.015など、XMPPプライオリティ126からPIDFプライオリティ0.992へのマッピングまで、これは単なる例であり、正確なマッピングは実装次第であることに注意してください）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 7. Some implementations support custom extensions to encapsulate detailed information about availability; however, there is no need to standardize a PIDF extension for this purpose, because PIDF is already extensible, and thus the XMPP &lt;show/&gt; element (qualified by the &#39;jabber:client&#39; namespace) can be included directly in the PIDF XML. The examples in this document illustrate this usage, which is RECOMMENDED. The most useful values are likely &#34;away&#34; and &#34;dnd&#34; (both defined in [RFC6121]), although note that in XMPP a value of &#34;dnd&#34; (short for &#34;do not disturb&#34;) merely means &#34;busy&#34; and does not imply that a server or client ought to block incoming traffic while the user is in that state. Naturally, an XMPP-to-SIP gateway can choose to translate a custom extension into an established value of the XMPP &lt;show/&gt; element (as defined in [RFC6121]) or translate a &lt;show/&gt; element into a custom extension that the XMPP-to-SIP gateway knows is supported by the SIP User Agent of the intended recipient. Unfortunately, this behavior does not guarantee that information will not be lost; to help prevent information loss, an XMPP-to-SIP gateway ought to include both the &lt;show/&gt; element and the custom extension if it cannot suitably translate the custom value into a &lt;show/&gt; value. However, there is no guarantee that the SIP receiver will render a standard XMPP &lt;show/&gt; value or custom extension.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
7.一部の実装は、可用性に関する詳細情報をカプセル化するカスタム拡張をサポートしています。ただし、PIDFはすでに拡張可能であり、XMPP &lt;show /&gt;要素（「jabber：client」名前空間で修飾）を直接PIDF XMLに含めることができるため、この目的でPIDF拡張を標準化する必要はありません。このドキュメントの例は、この使用法を示しており、推奨されています。最も有用な値はおそらく「アウェイ」と「dnd」（どちらも[RFC6121]で定義されています）ですが、XMPPでは「dnd」（「応答しない」の略）の値は単に「ビジー」を意味し、サーバーまたはクライアントが、ユーザーがその状態にある間、着信トラフィックをブロックする必要があることを意味します。当然、XMPP-to-SIPゲートウェイは、カスタム拡張をXMPP &lt;show /&gt;要素（[RFC6121]で定義されている）の確立された値に変換するか、&lt;show /&gt;要素をXMPP-to-SIPゲートウェイは、意図された受信者のSIPユーザーエージェントによってサポートされていることを認識しています。残念ながら、この動作は情報が失われないことを保証するものではありません。情報の損失を防ぐために、XMPP-to-SIPゲートウェイは、カスタム値を&lt;show /&gt;値に適切に変換できない場合、&lt;show /&gt;要素とカスタム拡張の両方を含める必要があります。ただし、SIPレシーバーが標準のXMPP &lt;show /&gt;値またはカスタム拡張をレンダリングする保証はありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In XMPP, a user can connect with multiple clients at the same time [RFC6120]; for presence notification purposes [RFC6121], each client is associated with a distinct resourcepart [RFC7622] and a contact&#39;s SIP User Agent will receive a separate presence notification from each of the XMPP user&#39;s clients. Although the interpretation of multiple presence notifications from a single user is a matter of implementation by the contact&#39;s SIP User Agent, typically the SIP User Agent will show the &#34;most available&#34; status for the contact (e.g., if the user is online with three devices, one of which is &#34;away&#34;, one of which is in &#34;do not disturb&#34; mode, and one of which is &#34;available&#34; with no qualifications, then the status shown will simply be &#34;available&#34;). In SIP, it is reasonable for a SIP User Agent to model multiple presence notifications from an XMPP user in the same way that it would handle multiple tuples from a SIP user.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPでは、ユーザーは複数のクライアントと同時に接続できます[RFC6120]。プレゼンス通知の目的[RFC6121]では、各クライアントは個別のリソースパーツ[RFC7622]に関連付けられており、連絡先のSIPユーザーエージェントは、XMPPユーザーの各クライアントから個別のプレゼンス通知を受信します。単一のユーザーからの複数のプレゼンス通知の解釈は、連絡先のSIPユーザーエージェントによる実装の問題ですが、通常、SIPユーザーエージェントは連絡先の「最も利用可能な」ステータスを表示します（たとえば、ユーザーが3つのデバイスでオンラインの場合） 、そのうちの1つは「不在」、1つは「サイレント」モード、もう1つは資格なしで「利用可能」であり、表示されるステータスは単に「利用可能」になります。 SIPでは、SIPユーザーエージェントがSIPユーザーからの複数のタプルを処理するのと同じ方法で、XMPPユーザーからの複数のプレゼンス通知をモデル化するのが妥当です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. SIP to XMPP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. SIPからXMPP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When Romeo changes his presence, his SIP User Agent generates a SIP NOTIFY request for any contacts that have presence authorizations and notification sessions. The syntax of the NOTIFY request is defined in [RFC3856]. The following is an example of such a request:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Romeoがプレゼンスを変更すると、彼のSIPユーザーエージェントは、プレゼンス認証と通知セッションを持つすべての連絡先に対してSIP NOTIFY要求を生成します。 NOTIFYリクエストの構文は[RFC3856]で定義されています。以下はそのようなリクエストの例です：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 20: SIP User Sends Presence Notification
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例20：SIPユーザーがプレゼンス通知を送信する
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  NOTIFY sip:romeo@example.net SIP/2.0
   |  Via: SIP/2.0/TCP simple.example.net;branch=z9hG4bKna998sk
   |  From: &lt;sip:romeo@example.net&gt;;tag=yt66
   |  To: &lt;sip:juliet@example.com&gt;;tag=bi54
   |  Contact: &lt;sip:romeo@example.net&gt;;gr=dr4hcr0st3lup4c
   |  Call-ID: C33C6C9D-0F4A-42F9-B95C-7CE86B526B5B
   |  Event: presence
   |  Subscription-State: active;expires=499
   |  Max-Forwards: 70
   |  CSeq: 8 NOTIFY
   |  Content-Type: application/pidf+xml
   |  Content-Length: 193
   |
   |  &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;
   |  &lt;presence xmlns=&#39;urn:ietf:params:xml:ns:pidf&#39;
   |            entity=&#39;pres:romeo@example.net&#39;&gt;
   |    &lt;tuple id=&#39;ID-dr4hcr0st3lup4c&#39;&gt;
   |      &lt;status&gt;
   |        &lt;basic&gt;closed&lt;/basic&gt;
   |      &lt;/status&gt;
   |    &lt;/tuple&gt;
   |  &lt;/presence&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upon receiving the NOTIFY, the SIP proxy needs to determine the identity of the domain portion of the Request-URI, which it does by following the procedures discussed in [RFC7247]. If the domain is an XMPP domain, the SIP proxy will hand off the NOTIFY to an associated SIP-to-XMPP gateway or connection manager that natively communicates with XMPP servers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
NOTIFYを受信すると、SIPプロキシはRequest-URIのドメイン部分のIDを決定する必要があります。これは、[RFC7247]で説明されている手順に従って行われます。ドメインがXMPPドメインの場合、SIPプロキシは、XMPPサーバーとネイティブに通信する関連するSIPからXMPPへのゲートウェイまたは接続マネージャーにNOTIFYを渡します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The SIP-to-XMPP gateway is then responsible for translating the NOTIFY into an XMPP &lt;presence/&gt; stanza addressed from the SIP user to the XMPP contact:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIP-to-XMPPゲートウェイは、SIPユーザーからXMPP連絡先にアドレス指定されたXMPP &lt;presence /&gt;スタンザにNOTIFYを変換する責任があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 21: XMPP Transformation of SIP Presence Notification
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例21：SIPプレゼンス通知のXMP​​P変換
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;romeo@example.net&#39;
   |            to=&#39;juliet@example.com/yn0cl4bnw0yr3vym&#39;
   |            type=&#39;unavailable&#39;/&gt;
   The mapping of SIP syntax elements to XMPP syntax elements MUST be as
   shown in the following table.  (Mappings for elements not mentioned
   are undefined and therefore are a matter of implementation.)
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      +---------------------------+-----------------------------+
      |  SIP Header or PIDF Data  |  XMPP Element or Attribute  |
      +---------------------------+-----------------------------+
      |  basic status             |  type (1)                   |
      +---------------------------+-----------------------------+
      |  Content-Language         |  xml:lang                   |
      +---------------------------+-----------------------------+
      |  From                     |  from                       |
      +---------------------------+-----------------------------+
      |  priority for tuple       |  &lt;priority/&gt; (2)            |
      +---------------------------+-----------------------------+
      |  To                       |  to                         |
      +---------------------------+-----------------------------+
      |  &lt;note/&gt;                  |  &lt;status/&gt;                  |
      +---------------------------+-----------------------------+
      |  &lt;show/&gt;                  |  &lt;show/&gt; (3)                |
      +---------------------------+-----------------------------+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Table 2: Presence Syntax Mapping from SIP to XMPP
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
表2：SIPからXMPPへのプレゼンス構文マッピング
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note the following regarding these mappings:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これらのマッピングについては、次の点に注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. A PIDF basic status of &#34;open&#34; MUST be mapped to a &lt;presence/&gt; stanza with no &#39;type&#39; attribute, and a PIDF basic status of &#34;closed&#34; MUST be mapped to a &lt;presence/&gt; stanza whose &#39;type&#39; attribute has a value of &#34;unavailable&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
1. 「open」のPIDF基本ステータスは、「type」属性のない&lt;presence /&gt;スタンザにマップする必要があり、「closed」のPIDF基本ステータスは、「type」属性のある&lt;presence /&gt;スタンザにマップする必要があります「利用不可」の値。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. See the notes following Table 1 of this document regarding mapping of presence priority.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
2. プレゼンス優先順位のマッピングについては、このドキュメントの表1に続く注記を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. If a SIP implementation supports the XMPP &lt;show/&gt; element (qualified by the &#39;jabber:client&#39; namespace) as a PIDF extension for availability status as described in the notes following Table 1 of this document, the SIP-to-XMPP gateway is responsible for including that element in the XMPP presence notification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
3. このドキュメントの表1に続くメモに記載されているように、SIP実装が可用性ステータスのPIDF拡張機能としてXMPP &lt;show /&gt;要素（「jabber：client」名前空間で修飾）をサポートしている場合、SIP-to-XMPPゲートウェイはXMPPプレゼンス通知にその要素を含める責任があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. Polling for Presence Information
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. プレゼンス情報のポーリング
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Both SIP and XMPP provide methods for explicitly requesting one-time information about the current presence status of another entity. These are &#34;polling&#34; methods as opposed to the publish-subscribe methods described in the rest of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIPとXMPPはどちらも、別のエンティティの現在のプレゼンスステータスに関する1回限りの情報を明示的に要求するメソッドを提供します。これらは、このドキュメントの残りの部分で説明されているパブリッシュ/サブスクライブメソッドとは対照的な「ポーリング」メソッドです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. XMPP to SIP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. XMPPからSIP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In XMPP, an explicit request for information about current presence status is completed by sending a &lt;presence/&gt; stanza of type &#34;probe&#34;:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
XMPPでは、現在のプレゼンスステータスに関する情報の明示的なリクエストは、「probe」タイプの&lt;presence /&gt;スタンザを送信することで完了します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 22: XMPP Server Sends Presence Probe on Behalf of XMPP User
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例22：XMPPサーバーがXMPPユーザーに代わってプレゼンスプローブを送信する
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;juliet@example.com/chamber&#39;
   |            to=&#39;romeo@example.net&#39;
   |            type=&#39;probe&#39;/&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note: As described in [RFC6121], presence probes are used by XMPP servers to request presence on behalf of XMPP users; XMPP clients are discouraged from sending presence probes, because retrieving presence is a service that XMPP servers provide automatically.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
注：[RFC6121]で説明されているように、プレゼンスプローブはXMPPサーバーがXMPPユーザーに代わってプレゼンスを要求するために使用されます。プレゼンスの取得はXMPPサーバーが自動的に提供するサービスであるため、XMPPクライアントはプレゼンスプローブを送信しないでください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A SIP-to-XMPP gateway would transform the presence probe into its SIP equivalent, which is a SUBSCRIBE request with an Expires header value of zero (&#34;0&#34;) in a new dialog:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIP-to-XMPPゲートウェイは、プレゼンスプローブを同等のSIPに変換します。これは、新しいダイアログでExpiresヘッダー値がゼロ（ &#34;0&#34;）のSUBSCRIBEリクエストです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 23: SIP Transformation of XMPP Presence Probe
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例23：XMPPプレゼンスプローブのSIP変換
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  SUBSCRIBE sip:romeo@example.net SIP/2.0
   |  Via: SIP/2.0/TCP x2s.example.com;branch=z9hG4bKna998sk
   |  From: &lt;sip:juliet@example.com&gt;;tag=j89d
   |  Call-ID: 2398B737-566F-4CBB-A21A-1F8EEF7AF423
   |  Event: presence
   |  Max-Forwards: 70
   |  CSeq: 1 SUBSCRIBE
   |  Contact: &lt;sip:juliet@example.com&gt;;gr=yn0cl4bnw0yr3vym
   |  Accept: application/pidf+xml
   |  Expires: 0
   |  Content-Length: 0
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As described in [RFC3856], this causes a NOTIFY to be sent to the subscriber, just as a presence probe does (the transformation rules for presence notifications have been previously described in Section 6.2 of this document).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3856]で説明されているように、これにより、プレゼンスプローブと同様に、サブスクライバーにNOTIFYが送信されます（プレゼンス通知の変換ルールは、このドキュメントのセクション6.2で既に説明されています）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. SIP to XMPP
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. SIPからXMPP
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In SIP, an explicit request for information about current presence status is effectively completed by sending a SUBSCRIBE with an Expires header value of zero (&#34;0&#34;):
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIPでは、現在のプレゼンスステータスに関する情報の明示的な要求は、Expiresヘッダー値がゼロ（ &#34;0&#34;）のSUBSCRIBEを送信することで効果的に完了します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 24: SIP User Sends Presence Request
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例24：SIPユーザーがプレゼンス要求を送信する
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  SUBSCRIBE sip:juliet@example.com SIP/2.0
   |  Via: SIP/2.0/TCP simple.example.net;branch=z9hG4bKna998sk
   |  From: &lt;sip:romeo@example.net&gt;;tag=yt66
   |  Call-ID: 717B1B84-F080-4F12-9F44-0EC1ADE767B9
   |  Event: presence
   |  Max-Forwards: 70
   |  CSeq: 1 SUBSCRIBE
   |  Contact: &lt;sip:romeo@example.net&gt;;gr=dr4hcr0st3lup4c
   |  Expires: 0
   |  Content-Length: 0
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
A presence-aware SIP-to-XMPP gateway translates such a SIP request into a &lt;presence/&gt; stanza of type &#34;probe&#34; if it does not already have presence information about the contact:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
プレゼンス対応のSIPからXMPPへのゲートウェイは、連絡先に関するプレゼンス情報をまだ持っていない場合、そのようなSIPリクエストを「プローブ」タイプの&lt;presence /&gt;スタンザに変換します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Example 25: XMPP Transformation of SIP Presence Request
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
例25：SIPプレゼンス要求のXMPP変換
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   |  &lt;presence from=&#39;romeo@example.net&#39;
   |            to=&#39;juliet@example.com&#39;
   |            type=&#39;probe&#39;/&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. Privacy and Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. プライバシーとセキュリティに関する考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Detailed privacy and security considerations are given for presence protocols in [RFC2779], for SIP-based presence in [RFC3856] (see also [RFC3261]), and for XMPP-based presence in [RFC6121] (see also [RFC6120]).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2779]のプレゼンスプロトコル、[RFC3856]のSIPベースのプレゼンス（[RFC3261]も参照）、および[RFC6121]のXMPPベースのプレゼンス（[RFC6120]も参照）について、プライバシーとセキュリティに関する詳細な考慮事項を示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. Amplification Attacks
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. 増幅攻撃
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
 There exists the possibility of an amplification attack launched from the XMPP network against a SIP Presence Server, because each long-lived XMPP presence authorization would typically result in multiple notification dialog refreshes on the SIP side of an XMPP-to-SIP gateway. Therefore, access to an XMPP-to-SIP gateway SHOULD be restricted in various ways; for example: o Only an XMPP service that carefully controls account provisioning and provides effective methods for the administrators to control the behavior of registered users ought to host an XMPP-to-SIP gateway (e.g., not a service that offers open account registration).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
XMPPネットワークからSIPプレゼンスサーバーに対して増幅攻撃が開始される可能性があります。これは、通常、長期間有効なXMPPプレゼンス認証のたびに、XMPPからSIPゲートウェイのSIP側で複数の通知ダイアログが更新されるためです。したがって、XMPPからSIPへのゲートウェイへのアクセスは、さまざまな方法で制限する必要があります（SHOULD）。次に例を示します。oアカウントのプロビジョニングを注意深く制御し、管理者が登録済みユーザーの動作を制御するための効果的な方法を提供するXMPPサービスのみ（たとえば、オープンアカウント登録を提供するサービスではない）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o An XMPP-to-SIP gateway ought to be associated with only a single domain or trust realm. For example, an XMPP-to-SIP gateway hosted at simple.example.com ought to allow only users within the example.com domain to access the XMPP-to-SIP gateway, not users within example.org, example.net, or any other domain (unless they are part of the same multi-tenanted environment as example.com). This helps to prevent the gateway equivalent of open relays that are shared across XMPP domains from different trust realms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o XMPP-to-SIPゲートウェイは、単一のドメインまたは信頼レルムのみに関連付けられる必要があります。たとえば、simple.example.comでホストされているXMPP-to-SIPゲートウェイは、example.comドメイン内のユーザーのみがXMPP-to-SIPゲートウェイにアクセスできるようにし、example.org、example.net、または他のドメイン（example.comと同じマルチテナント環境の一部でない限り）。これは、異なる信頼レルムのXMPPドメイン間で共有されるオープンリレーに相当するゲートウェイを防ぐのに役立ちます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If a SIP Presence Server receives communications through an XMPP-to-SIP gateway from users who are not associated with a domain that is so related to the hostname of the XMPP-to-SIP gateway, it SHOULD (based on local service provisioning) refuse to service such users or refuse to receive traffic from the XMPP-to-SIP gateway. As a further check, whenever an XMPP-to-SIP gateway seeks to refresh an XMPP user&#39;s long-lived authorization to a SIP user&#39;s presence, it first sends an XMPP &lt;presence/&gt; stanza of type &#34;probe&#34; from the address of the XMPP-to-SIP gateway to the &#34;bare Jabber Identifier (JID)&#34; (user@domain.tld) of the XMPP user, to which the user&#39;s XMPP server responds in accordance with [RFC6121]; this puts an equal burden on the XMPP server and the SIP proxy.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
SIPプレゼンスサーバーが、XMPP-to-SIPゲートウェイのホスト名にそのように関連付けられているドメインに関連付けられていないユーザーからXMPP-to-SIPゲートウェイを介して通信を受信する場合、（ローカルサービスプロビジョニングに基づいて）拒否する必要があります。このようなユーザーにサービスを提供したり、XMPP-to-SIPゲートウェイからのトラフィックの受信を拒否したりします。さらにチェックすると、XMPP-to-SIPゲートウェイは、XMPPユーザーの存続期間の長い承認をSIPユーザーのプレゼンスに更新しようとするときは常に、最初にXMPPのアドレスから「プローブ」タイプのXMPP &lt;presence /&gt;スタンザを送信します-ユーザーのXMPPサーバーが[RFC6121]に従って応答するXMPPユーザーの「ベアJabber識別子（JID）」（user@domain.tld）へのSIPゲートウェイ。これにより、XMPPサーバーとSIPプロキシに同等の負担がかかります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. Presence Leaks
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. プレゼンスリーク
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Presence notifications can contain sensitive information (e.g., about network availability). In addition, it is possible in both SIP and XMPP for an entity to send different presence notifications to different subscribers. Therefore, a gateway MUST NOT route or deliver a presence notification to any entity other than the intended recipient (as represented by the &#39;to&#39; address for XMPP and by the Request-URI for SIP), because it does not possess information about authorization to receive presence notifications for such entities -- that information resides at the user&#39;s home service, not at the receiving gateway.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
プレゼンス通知には、機密情報（ネットワークの可用性など）を含めることができます。さらに、エンティティが異なるプレゼンス通知を異なるサブスクライバーに送信することは、SIPとXMPPの両方で可能です。したがって、ゲートウェイは、許可に関する情報を持たないため、プレゼンス通知を目的の受信者以外のエンティティ（XMPPの「to」アドレスおよびSIPのRequest-URIで表される）にルーティングまたは配信してはなりません（MUST NOT）。このようなエンティティのプレゼンス通知を受信します。その情報は、受信ゲートウェイではなく、ユーザーのホームサービスに存在します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. 参考文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.1. 引用文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, &lt;http://www.rfc-editor.org/info/rfc2119&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するキーワード」、BCP 14、RFC 2119、DOI 10.17487 / RFC2119、1997年3月、&lt;http://www.rfc-editor.org/info/ rfc2119&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3261] Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &#34;SIP: Session Initiation Protocol&#34;, RFC 3261, DOI 10.17487/RFC3261, June 2002, &lt;http://www.rfc-editor.org/info/rfc3261&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3261] Rosenberg、J.、Schulzrinne、H.、Camarillo、G.、Johnston、A.、Peterson、J.、Sparks、R.、Handley、M。、およびE. Schooler、「SIP：セッション開始プロトコル」 、RFC 3261、DOI 10.17487 / RFC3261、2002年6月、&lt;http://www.rfc-editor.org/info/rfc3261&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3856] Rosenberg, J., &#34;A Presence Event Package for the Session Initiation Protocol (SIP)&#34;, RFC 3856, DOI 10.17487/RFC3856, August 2004, &lt;http://www.rfc-editor.org/info/rfc3856&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3856] Rosenberg、J。、「セッション開始プロトコル（SIP）のプレゼンスイベントパッケージ」、RFC 3856、DOI 10.17487 / RFC3856、2004年8月、&lt;http://www.rfc-editor.org/info/rfc3856 &gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3857] Rosenberg, J., &#34;A Watcher Information Event Template-Package for the Session Initiation Protocol (SIP)&#34;, RFC 3857, DOI 10.17487/RFC3857, August 2004, &lt;http://www.rfc-editor.org/info/rfc3857&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3857] Rosenberg、J。、「A Watcher Information Event Template-Package for the Session Initiation Protocol（SIP）」、RFC 3857、DOI 10.17487 / RFC3857、2004年8月、&lt;http://www.rfc-editor.org/ info / rfc3857&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3863] Sugano, H., Fujimoto, S., Klyne, G., Bateman, A., Carr, W., and J. Peterson, &#34;Presence Information Data Format (PIDF)&#34;, RFC 3863, DOI 10.17487/RFC3863, August 2004, &lt;http://www.rfc-editor.org/info/rfc3863&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3863]菅野博、藤本進、クライン、G、ベイトマン、A、カー、W、J。ピーターソン、「プレゼンス情報データフォーマット（PIDF）」、RFC 3863、DOI 10.17487 / RFC3863 、2004年8月、&lt;http://www.rfc-editor.org/info/rfc3863&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6120] Saint-Andre, P., &#34;Extensible Messaging and Presence Protocol (XMPP): Core&#34;, RFC 6120, DOI 10.17487/RFC6120, March 2011, &lt;http://www.rfc-editor.org/info/rfc6120&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6120] Saint-Andre、P。、「Extensible Messaging and Presence Protocol（XMPP）：Core」、RFC 6120、DOI 10.17487 / RFC6120、2011年3月、&lt;http://www.rfc-editor.org/info/rfc6120 &gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6121] Saint-Andre, P., &#34;Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence&#34;, RFC 6121, DOI 10.17487/RFC6121, March 2011, &lt;http://www.rfc-editor.org/info/rfc6121&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6121] Saint-Andre、P。、「Extensible Messaging and Presence Protocol（XMPP）：Instant Messaging and Presence」、RFC 6121、DOI 10.17487 / RFC6121、2011年3月、&lt;http://www.rfc-editor.org/ info / rfc6121&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6665] Roach, A.B., &#34;SIP-Specific Event Notification&#34;, RFC 6665, DOI 10.17487/RFC6665, July 2012, &lt;http://www.rfc-editor.org/info/rfc6665&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6665] Roach、A.B。、「SIP固有のイベント通知」、RFC 6665、DOI 10.17487 / RFC6665、2012年7月、&lt;http://www.rfc-editor.org/info/rfc6665&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7247] Saint-Andre, P., Houri, A., and J. Hildebrand, &#34;Interworking between the Session Initiation Protocol (SIP) and the Extensible Messaging and Presence Protocol (XMPP): Architecture, Addresses, and Error Handling&#34;, RFC 7247, DOI 10.17487/RFC7247, May 2014, &lt;http://www.rfc-editor.org/info/rfc7247&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7247] Saint-Andre、P.、Houri、A。、およびJ. Hildebrand、「Session Initiation Protocol（SIP）とExtensible Messaging and Presence Protocol（XMPP）：Architecture、Addresses、and Error Handlingの間のインターワーキング」、 RFC 7247、DOI 10.17487 / RFC7247、2014年5月、&lt;http://www.rfc-editor.org/info/rfc7247&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7622] Saint-Andre, P., &#34;Extensible Messaging and Presence Protocol (XMPP): Address Format&#34;, RFC 7622, DOI 10.17487/RFC7622, September 2015, &lt;http://www.rfc-editor.org/info/rfc7622&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7622] Saint-Andre、P。、「Extensible Messaging and Presence Protocol（XMPP）：Address Format」、RFC 7622、DOI 10.17487 / RFC7622、2015年9月、&lt;http://www.rfc-editor.org/info/ rfc7622&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.2. 参考引用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2778] Day, M., Rosenberg, J., and H. Sugano, &#34;A Model for Presence and Instant Messaging&#34;, RFC 2778, DOI 10.17487/RFC2778, February 2000, &lt;http://www.rfc-editor.org/info/rfc2778&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2778] Day、M.、Rosenberg、J。、およびH. Sugano、「プレゼンスとインスタントメッセージングのモデル」、RFC 2778、DOI 10.17487 / RFC2778、2000年2月、&lt;http：//www.rfc-editor。 org / info / rfc2778&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2779] Day, M., Aggarwal, S., Mohr, G., and J. Vincent, &#34;Instant Messaging / Presence Protocol Requirements&#34;, RFC 2779, DOI 10.17487/RFC2779, February 2000, &lt;http://www.rfc-editor.org/info/rfc2779&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2779] Day、M.、Aggarwal、S.、Mohr、G。、およびJ. Vincent、「Instant Messaging / Presence Protocol Requirements」、RFC 2779、DOI 10.17487 / RFC2779、2000年2月、&lt;http：// www。 rfc-editor.org/info/rfc2779&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3860] Peterson, J., &#34;Common Profile for Instant Messaging (CPIM)&#34;, RFC 3860, DOI 10.17487/RFC3860, August 2004, &lt;http://www.rfc-editor.org/info/rfc3860&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC3860] Peterson、J。、「Common Profile for Instant Messaging（CPIM）」、RFC 3860、DOI 10.17487 / RFC3860、2004年8月、&lt;http://www.rfc-editor.org/info/rfc3860&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4480] Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &#34;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF)&#34;, RFC 4480, DOI 10.17487/RFC4480, July 2006, &lt;http://www.rfc-editor.org/info/rfc4480&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4480] Schulzrinne、H.、Gurbani、V.、Kyzivat、P。、およびJ. Rosenberg、「RPID：Rich Presence Extensions to the Presence Information Data Format（PIDF）」、RFC 4480、DOI 10.17487 / RFC4480、2006年7月、&lt;http://www.rfc-editor.org/info/rfc4480&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4825] Rosenberg, J., &#34;The Extensible Markup Language (XML) Configuration Access Protocol (XCAP)&#34;, RFC 4825, DOI 10.17487/RFC4825, May 2007, &lt;http://www.rfc-editor.org/info/rfc4825&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4825] Rosenberg、J。、「Extensible Markup Language（XML）Configuration Access Protocol（XCAP）」、RFC 4825、DOI 10.17487 / RFC4825、2007年5月、&lt;http://www.rfc-editor.org/info/ rfc4825&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7572] Saint-Andre, P., Houri, A., and J. Hildebrand, &#34;Interworking between the Session Initiation Protocol (SIP) and the Extensible Messaging and Presence Protocol (XMPP): Instant Messaging&#34;, RFC 7572, DOI 10.17487/RFC7572, June 2015, &lt;http://www.rfc-editor.org/info/rfc7572&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7572] Saint-Andre、P.、Houri、A。、およびJ. Hildebrand、「Session Initiation Protocol（SIP）とExtensible Messaging and Presence Protocol（XMPP）：Instant Messaging」の間のインターワーキング：RFC 7572、DOI 10.17487 / RFC7572、2015年6月、&lt;http://www.rfc-editor.org/info/rfc7572&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7573] Saint-Andre, P. and S. Loreto, &#34;Interworking between the Session Initiation Protocol (SIP) and the Extensible Messaging and Presence Protocol (XMPP): One-to-One Text Chat Sessions&#34;, RFC 7573, DOI 10.17487/RFC7573, June 2015, &lt;http://www.rfc-editor.org/info/rfc7573&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7573] Saint-Andre、P。およびS. Loreto、「Session Initiation Protocol（SIP）とExtensible Messaging and Presence Protocol（XMPP）：One-to-One Text Chat Sessions」、RFC 7573、DOI 10.17487 / RFC7573、2015年6月、&lt;http://www.rfc-editor.org/info/rfc7573&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7702] Saint-Andre, P., Ibarra, S., and S. Loreto, &#34;Interworking between the Session Initiation Protocol (SIP) and the Extensible Messaging and Presence Protocol (XMPP): Groupchat&#34;, RFC 7702, DOI 10.17487/RFC7702, December 2015, &lt;http://www.rfc-editor.org/info/rfc7702&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7702] Saint-Andre、P.、Ibarra、S。、およびS. Loreto、「Session Initiation Protocol（SIP）とExtensible Messaging and Presence Protocol（XMPP）：Groupchatの間のインターワーキング」、RFC 7702、DOI 10.17487 / RFC7702、2015年12月、&lt;http://www.rfc-editor.org/info/rfc7702&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0107] Saint-Andre, P. and R. Meijer, &#34;User Mood&#34;, XSF XEP 0107, October 2008, &lt;http://xmpp.org/extensions/xep-0107.html&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0107] Saint-Andre、P。およびR. Meijer、「User Mood」、XSF XEP 0107、2008年10月、&lt;http://xmpp.org/extensions/xep-0107.html&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0108] Meijer, R. and P. Saint-Andre, &#34;User Activity&#34;, XSF XEP 0108, October 2008, &lt;http://xmpp.org/extensions/xep-0108.html&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[XEP-0108] Meijer、R。お​​よびP. Saint-Andre、「User Activity」、XSF XEP 0108、2008年10月、&lt;http://xmpp.org/extensions/xep-0108.html&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
Appendix A. Changes from RFC 7248
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
付録A. RFC 7248からの変更点
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 7248 had already been published when the STOX working group discovered that a related document (since published as [RFC7702]) contained problems that also applied to RFC 7248. Specifically, the diagrams and protocol flows in RFC 7248 contained errors that reflected an incorrect architecture with gateways on both sides of the protocol exchange; in theory and in practice, presence traffic from an XMPP system would be translated by an XMPP-to-SIMPLE gateway on the XMPP side and received by a normal SIP/SIMPLE system directly (without a receiving gateway on the SIP/SIMPLE side), and traffic from a SIP system would be translated by a SIMPLE-to-XMPP gateway on the SIP side and received by a normal XMPP system (without a receiving gateway on the XMPP side).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 7248は、STOXワーキンググループが関連ドキュメント（[RFC7702]として公開された）にRFC 7248にも適用される問題が含まれていることを発見したときに既に公開されていました。プロトコル交換の両側にゲートウェイがあります。理論上および実際には、XMPPシステムからのプレゼンストラフィックは、XMPP側のXMPPからSIMPLEへのゲートウェイによって変換され、通常のSIP / SIMPLEシステムによって直接受信されます（SIP / SIMPLE側の受信ゲートウェイなし）。 SIPシステムからのトラフィックは、SIP側のSIMPLEからXMPPへのゲートウェイによって変換され、通常のXMPPシステムによって受信されます（XMPP側に受信ゲートウェイはありません）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Therefore, this document makes the following substantive changes from RFC 7248:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
したがって、このドキュメントでは、RFC 7248から次の実質的な変更を加えています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Corrects the architectural assumptions, diagrams, and protocol flows to reflect a single-gateway model in each direction.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o アーキテクチャの仮定、図、およびプロトコルフローを修正して、各方向の単一ゲートウェイモデルを反映します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Adjusts terminology to replace the term &#34;SIP Server&#34; with the term &#34;SIP Proxy&#34; or &#34;SIP Presence Server&#34; as appropriate, and to use the term &#34;notification dialog&#34; for a SIP subscription and the term &#34;presence authorization&#34; for an XMPP subscription instead of the generic term &#34;subscription&#34; in both contexts.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 「SIPサーバー」という用語を「SIPプロキシ」または「SIPプレゼンスサーバー」という用語に適宜置き換え、SIPサブスクリプションには「通知ダイアログ」という用語を使用し、XMPPサブスクリプションには「プレゼンス認証」という用語を使用するように用語を調整します。両方のコンテキストで、一般的な用語「サブスクリプション」の代わりに。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Clarifies that SIP notification dialogs are used to handle presence authorizations in SIP (e.g., there is no dedicated way to signal outbound cancellation of an authorization as there is in XMPP).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SIP通知ダイアログがSIPでのプレゼンス認証の処理に使用されることを明確にします（たとえば、XMPPのように認証のアウトバウンドキャンセルを通知する専用の方法はありません）。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Clarifies the use of the &#39;presence.winfo&#39; event package, of the SIP Subscription-State headers (specifically with values of &#34;pending&#34;, &#34;active&#34;, &#34;closed&#34;, or &#34;terminated&#34;), and of SIP NOTIFY messages with no body.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o &#39;presence.winfo&#39;イベントパッケージ、SIP Subscription-Stateヘッダー（特に「保留」、「アクティブ」、「クローズ」、または「終了」の値を含む）、およびSIP NOTIFYメッセージの使用を明確にします。体。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Clarifies the durations of notification dialogs and presence authorizations, and how they are extended in SIP and handled in XMPP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o 通知ダイアログとプレゼンス認証の期間、およびそれらがSIPで拡張され、XMPPで処理される方法を明確にします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Removes the mapping of the XMPP &#39;id&#39; attribute to the SIP &#34;CSeq&#34; header.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o XMPP &#39;id&#39;属性のSIP &#34;CSeq&#34;ヘッダーへのマッピングを削除します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Describes the handling of multiple connected resources in XMPP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o XMPPで接続された複数のリソースの処理について説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Provides information about mitigations for leaks of presence information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o プレゼンス情報の漏洩の軽減策に関する情報を提供します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgements
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
謝辞
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thanks to the authors, contributors, and other individuals acknowledged in RFC 7248.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
著者、寄稿者、およびRFC 7248で認められた他の個人に感謝します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thanks to Saul Ibarra Corretge and Markus Isomaki for their reviews during working group consideration.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ワーキンググループの検討中のレビューについて、Saul Ibarra CorretgeとMarkus Isomakiに感謝します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Special thanks to Ben Campbell for identifying the underlying discrepancy that resulted in the need to obsolete RFC 7248.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
RFC 7248を廃止する必要が生じた根本的な矛盾を特定してくれたBen Campbellに特に感謝します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thanks also to Markus Isomaki and Yana Stamcheva as the working group chairs and Alissa Cooper as the sponsoring Area Director.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
また、作業グループの議長としてMarkus IsomakiとYana Stamcheva、スポンサーのエリアディレクターとしてAlissa Cooperに感謝します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Author&#39;s Address
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Peter Saint-Andre Filament
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ピーターセントアンドレフィラメント
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Email: peter@filament.com
   URI:   https://filament.com/
        </pre>
      </div>

    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
